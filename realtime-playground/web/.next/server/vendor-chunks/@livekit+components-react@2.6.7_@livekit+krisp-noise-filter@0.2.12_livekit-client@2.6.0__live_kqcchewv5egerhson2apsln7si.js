"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si";
exports.ids = ["vendor-chunks/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/components-OLOni9K_.mjs":
/*!*************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/components-OLOni9K_.mjs ***!
  \*************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $: () => (/* binding */ it),\n/* harmony export */   A: () => (/* binding */ ya),\n/* harmony export */   B: () => (/* binding */ Yt),\n/* harmony export */   C: () => (/* binding */ ca),\n/* harmony export */   D: () => (/* binding */ la),\n/* harmony export */   E: () => (/* binding */ Ht),\n/* harmony export */   F: () => (/* binding */ va),\n/* harmony export */   G: () => (/* binding */ Ea),\n/* harmony export */   H: () => (/* binding */ Bt),\n/* harmony export */   I: () => (/* binding */ Ke),\n/* harmony export */   J: () => (/* binding */ et),\n/* harmony export */   K: () => (/* binding */ D),\n/* harmony export */   L: () => (/* binding */ ka),\n/* harmony export */   M: () => (/* binding */ ma),\n/* harmony export */   N: () => (/* binding */ tt),\n/* harmony export */   O: () => (/* binding */ at),\n/* harmony export */   P: () => (/* binding */ jt),\n/* harmony export */   Q: () => (/* binding */ nt),\n/* harmony export */   R: () => (/* binding */ Ra),\n/* harmony export */   S: () => (/* binding */ oa),\n/* harmony export */   T: () => (/* binding */ ga),\n/* harmony export */   U: () => (/* binding */ rt),\n/* harmony export */   V: () => (/* binding */ Zt),\n/* harmony export */   W: () => (/* binding */ ct),\n/* harmony export */   X: () => (/* binding */ lt),\n/* harmony export */   Y: () => (/* binding */ ot),\n/* harmony export */   Z: () => (/* binding */ st),\n/* harmony export */   _: () => (/* binding */ se),\n/* harmony export */   a: () => (/* binding */ Ia),\n/* harmony export */   a0: () => (/* binding */ U),\n/* harmony export */   a1: () => (/* binding */ ut),\n/* harmony export */   b: () => (/* binding */ ht),\n/* harmony export */   c: () => (/* binding */ $),\n/* harmony export */   d: () => (/* binding */ sa),\n/* harmony export */   e: () => (/* binding */ ia),\n/* harmony export */   f: () => (/* binding */ ua),\n/* harmony export */   g: () => (/* binding */ ha),\n/* harmony export */   h: () => (/* binding */ wa),\n/* harmony export */   i: () => (/* binding */ pa),\n/* harmony export */   j: () => (/* binding */ Ca),\n/* harmony export */   k: () => (/* binding */ fe),\n/* harmony export */   l: () => (/* binding */ Sa),\n/* harmony export */   m: () => (/* binding */ R),\n/* harmony export */   n: () => (/* binding */ Dt),\n/* harmony export */   o: () => (/* binding */ Pa),\n/* harmony export */   p: () => (/* binding */ na),\n/* harmony export */   q: () => (/* binding */ ra),\n/* harmony export */   r: () => (/* binding */ dt),\n/* harmony export */   s: () => (/* binding */ fa),\n/* harmony export */   t: () => (/* binding */ ue),\n/* harmony export */   u: () => (/* binding */ q),\n/* harmony export */   v: () => (/* binding */ B),\n/* harmony export */   w: () => (/* binding */ da),\n/* harmony export */   x: () => (/* binding */ de),\n/* harmony export */   y: () => (/* binding */ Ma),\n/* harmony export */   z: () => (/* binding */ ba)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.7_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hooks-BZ9KhMcV.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/hooks-BZ9KhMcV.mjs\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/.pnpm/livekit-client@2.6.0/node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n/* harmony import */ var _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contexts-568EHGLp.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/contexts-568EHGLp.mjs\");\n/* harmony import */ var _room_9If4zpLS_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./room-9If4zpLS.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/room-9If4zpLS.mjs\");\n\n\n\n\n\n\nconst na = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function(a, n) {\n    const { buttonProps: r } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(a);\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: n, ...r }, a.children);\n  }\n), ra = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ room: a, ...n }, r) {\n    const c = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.a)(a);\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: r, ...n }, c);\n  }\n), ca = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function(a, n) {\n    const { mergedProps: r } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.b)({ props: a });\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: n, ...r }, a.children);\n  }\n), la = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function(a, n) {\n    const { buttonProps: r } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(a);\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: n, ...r }, a.children);\n  }\n), Ke = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z\" })), et = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z\" })), oa = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, viewBox: \"0 0 24 24\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"#FFF\",\n    d: \"M4.99 3.99a1 1 0 0 0-.697 1.717L10.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 1 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 0 0-.727-1.717 1 1 0 0 0-.687.303L12 10.586 5.707 4.293a1 1 0 0 0-.717-.303z\"\n  }\n)), sa = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 18, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z\",\n    clipRule: \"evenodd\"\n  }\n)), D = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z\",\n    clipRule: \"evenodd\"\n  }\n)), tt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { stroke: \"currentColor\", strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 1.5 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9\" }))), ia = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M8.961.894C8.875-.298 7.125-.298 7.04.894c-.066.912-1.246 1.228-1.76.472-.67-.99-2.186-.115-1.664.96.399.824-.465 1.688-1.288 1.289-1.076-.522-1.95.994-.961 1.665.756.513.44 1.693-.472 1.759-1.192.086-1.192 1.836 0 1.922.912.066 1.228 1.246.472 1.76-.99.67-.115 2.186.96 1.664.824-.399 1.688.465 1.289 1.288-.522 1.076.994 1.95 1.665.961.513-.756 1.693-.44 1.759.472.086 1.192 1.836 1.192 1.922 0 .066-.912 1.246-1.228 1.76-.472.67.99 2.186.115 1.664-.96-.399-.824.465-1.688 1.288-1.289 1.076.522 1.95-.994.961-1.665-.756-.513-.44-1.693.472-1.759 1.192-.086 1.192-1.836 0-1.922-.912-.066-1.228-1.246-.472-1.76.99-.67.115-2.186-.96-1.664-.824.399-1.688-.465-1.289-1.288.522-1.076-.994-1.95-1.665-.961-.513.756-1.693.44-1.759-.472ZM8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10Z\",\n    clipRule: \"evenodd\"\n  }\n)), ua = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z\",\n    clipRule: \"evenodd\"\n  }\n)), at = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentcolor\",\n    fillRule: \"evenodd\",\n    d: \"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z\",\n    clipRule: \"evenodd\"\n  }\n)), nt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z\" })), rt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fillRule: \"evenodd\",\n    d: \"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z\" })), ct = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentcolor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" })), lt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentcolor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { opacity: 0.25 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }))), ot = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentcolor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { opacity: 0.25 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }))), st = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { opacity: 0.25 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z\" }))), se = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 20, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z\",\n    clipRule: \"evenodd\"\n  }\n)), it = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 20, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { fill: \"currentColor\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fillRule: \"evenodd\",\n    d: \"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z\",\n    clipRule: \"evenodd\"\n  }\n))), U = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.7\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.6\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.5\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z\",\n    clipRule: \"evenodd\"\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.4\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.9\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.3\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.8\n  }\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"path\",\n  {\n    fill: \"currentColor\",\n    fillRule: \"evenodd\",\n    d: \"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z\",\n    clipRule: \"evenodd\",\n    opacity: 0.2\n  }\n)), ut = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { stroke: \"currentColor\", strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 1.5 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25\" }))), dt = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ trackRef: a, ...n }, r) {\n    const c = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.a9)(), { mergedProps: s, inFocus: i } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.d)({\n      trackRef: a ?? c,\n      props: n\n    });\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.aa.Consumer, null, (l) => l !== void 0 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: r, ...s }, n.children ? n.children : i ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ut, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(tt, null)));\n  }\n);\nfunction mt(t) {\n  return t !== void 0;\n}\nfunction R(...t) {\n  return (0,_room_9If4zpLS_mjs__WEBPACK_IMPORTED_MODULE_4__.m)(...t.filter(mt));\n}\nfunction $(t, a, n) {\n  return react__WEBPACK_IMPORTED_MODULE_0__.Children.map(t, (r) => react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(r) && react__WEBPACK_IMPORTED_MODULE_0__.Children.only(t) ? (r.props.class && (a ?? (a = {}), a.class = (0,_room_9If4zpLS_mjs__WEBPACK_IMPORTED_MODULE_4__.c)(r.props.class, a.class), a.style = { ...r.props.style, ...a.style }), react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(r, { ...a, key: n })) : r);\n}\nfunction da(t) {\n  var a, n;\n  if (typeof window < \"u\" && typeof process < \"u\" && // eslint-disable-next-line turbo/no-undeclared-env-vars\n  (((a = process == null ? void 0 : process.env) == null ? void 0 : a.NODE_ENV) === \"dev\" || // eslint-disable-next-line turbo/no-undeclared-env-vars\n  ((n = process == null ? void 0 : process.env) == null ? void 0 : n.NODE_ENV) === \"development\")) {\n    const r = document.querySelector(\".lk-room-container\");\n    r && !getComputedStyle(r).getPropertyValue(\"--lk-has-imported-styles\") && _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.l.warn(\n      \"It looks like you're not using the `@livekit/components-styles package`. To render the UI with the default styling, please import it in your layout or page.\"\n    );\n  }\n}\nconst ma = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({\n    kind: a,\n    initialSelection: n,\n    onActiveDeviceChange: r,\n    onDeviceListChange: c,\n    onDeviceSelectError: s,\n    exactMatch: i,\n    track: l,\n    requestPermissions: o,\n    onError: u,\n    ...d\n  }, f) {\n    const m = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.w)(), p = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n      (w) => {\n        m && m.emit(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.MediaDevicesError, w), u == null || u(w);\n      },\n      [m, u]\n    ), { devices: E, activeDeviceId: h, setActiveMediaDevice: g, className: k } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.e)({\n      kind: a,\n      room: m,\n      track: l,\n      requestPermissions: o,\n      onError: p\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      n !== void 0 && g(n);\n    }, [g]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      typeof c == \"function\" && c(E);\n    }, [c, E]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      h && h !== \"\" && (r == null || r(h));\n    }, [h]);\n    const C = async (w) => {\n      try {\n        await g(w, { exact: i });\n      } catch (v) {\n        if (v instanceof Error)\n          s == null || s(v);\n        else\n          throw v;\n      }\n    }, b = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n      () => R(d, { className: k }, { className: \"lk-list\" }),\n      [k, d]\n    );\n    function S(w, v, M) {\n      return w === v || M === 0 && v === \"default\";\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", { ref: f, ...b }, E.map((w, v) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      \"li\",\n      {\n        key: w.deviceId,\n        id: w.deviceId,\n        \"data-lk-active\": S(w.deviceId, h, v),\n        \"aria-selected\": S(w.deviceId, h, v),\n        role: \"option\"\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { className: \"lk-button\", onClick: () => C(w.deviceId) }, w.label)\n    )));\n  }\n), fa = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ label: a = \"Allow Audio\", ...n }, r) {\n    const c = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.f)(), { mergedProps: s } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.f)({ room: c, props: n });\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: r, ...s }, a);\n  }\n), ha = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ label: a, ...n }, r) {\n    const c = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.f)(), { mergedProps: s, canPlayAudio: i } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.f)({ room: c, props: n }), { mergedProps: l, canPlayVideo: o } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.g)({ room: c, props: s }), { style: u, ...d } = l;\n    return u.display = i && o ? \"none\" : \"block\", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: r, style: u, ...d }, a ?? `Start ${i ? \"Video\" : \"Audio\"}`);\n  }\n);\nfunction ie(t, a) {\n  switch (t) {\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone:\n      return a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(rt, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(nt, null);\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera:\n      return a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(et, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ke, null);\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare:\n      return a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(it, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(se, null);\n    default:\n      return;\n  }\n}\nfunction ft(t) {\n  switch (t) {\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionQuality.Excellent:\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ct, null);\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionQuality.Good:\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(lt, null);\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionQuality.Poor:\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ot, null);\n    default:\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(st, null);\n  }\n}\nconst ga = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function({ showIcon: a, ...n }, r) {\n  const { buttonProps: c, enabled: s } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.h)(n);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: r, ...c }, (a ?? !0) && ie(n.source, s), n.children);\n}), ue = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function(a, n) {\n  const { className: r, quality: c } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.i)(a), s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ ...R(a, { className: r }), \"data-lk-quality\": c }), [c, a, r]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: n, ...s }, a.children ?? ft(c));\n}), B = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ participant: a, ...n }, r) {\n    const c = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.c)(a), { className: s, infoObserver: i } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ab)(c), [c]), { identity: l, name: o } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.j)(i, {\n      name: c.name,\n      identity: c.identity,\n      metadata: c.metadata\n    }), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => R(n, { className: s, \"data-lk-participant-name\": o }), [n, s, o]);\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { ref: r, ...u }, o !== \"\" ? o : l, n.children);\n  }\n), de = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ trackRef: a, show: n = \"always\", ...r }, c) {\n    const { className: s, isMuted: i } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.k)(a), l = n === \"always\" || n === \"muted\" && i || n === \"unmuted\" && !i, o = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n      () => R(r, {\n        className: s\n      }),\n      [s, r]\n    );\n    return l ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: c, ...o, \"data-lk-muted\": i }, r.children ?? ie(a.source, !i)) : null;\n  }\n), ht = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n  \"svg\",\n  {\n    width: 320,\n    height: 320,\n    viewBox: \"0 0 320 320\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ...t\n  },\n  /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"path\",\n    {\n      d: \"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z\",\n      fill: \"white\",\n      fillOpacity: 0.25\n    }\n  ),\n  /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    \"path\",\n    {\n      d: \"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z\",\n      fill: \"white\",\n      fillOpacity: 0.25\n    }\n  )\n);\nfunction me(t, a = {}) {\n  const [n, r] = react__WEBPACK_IMPORTED_MODULE_0__.useState((0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.X)(t)), [c, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n == null ? void 0 : n.isMuted), [i, l] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n == null ? void 0 : n.isSubscribed), [o, u] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n == null ? void 0 : n.track), [d, f] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\"landscape\"), m = react__WEBPACK_IMPORTED_MODULE_0__.useRef(), { className: p, trackObserver: E } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.Y)(t), [\n    t.participant.sid ?? t.participant.identity,\n    t.source,\n    (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(t) && t.publication.trackSid\n  ]);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const h = E.subscribe((g) => {\n      _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"update track\", g), r(g), s(g == null ? void 0 : g.isMuted), l(g == null ? void 0 : g.isSubscribed), u(g == null ? void 0 : g.track);\n    });\n    return () => h == null ? void 0 : h.unsubscribe();\n  }, [E]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var h, g;\n    return o && (m.current && o.detach(m.current), (h = a.element) != null && h.current && !((0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ac)(t.participant) && (o == null ? void 0 : o.kind) === \"audio\") && o.attach(a.element.current)), m.current = (g = a.element) == null ? void 0 : g.current, () => {\n      m.current && (o == null || o.detach(m.current));\n    };\n  }, [o, a.element]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var h, g;\n    if (typeof ((h = n == null ? void 0 : n.dimensions) == null ? void 0 : h.width) == \"number\" && typeof ((g = n == null ? void 0 : n.dimensions) == null ? void 0 : g.height) == \"number\") {\n      const k = n.dimensions.width > n.dimensions.height ? \"landscape\" : \"portrait\";\n      f(k);\n    }\n  }, [n]), {\n    publication: n,\n    isMuted: c,\n    isSubscribed: i,\n    track: o,\n    elementProps: R(a.props, {\n      className: p,\n      \"data-lk-local-participant\": t.participant.isLocal,\n      \"data-lk-source\": n == null ? void 0 : n.source,\n      ...(n == null ? void 0 : n.kind) === \"video\" && { \"data-lk-orientation\": d }\n    })\n  };\n}\nvar gt = \"Expected a function\", G = NaN, vt = \"[object Symbol]\", pt = /^\\s+|\\s+$/g, Et = /^[-+]0x[0-9a-f]+$/i, wt = /^0b[01]+$/i, kt = /^0o[0-7]+$/i, yt = parseInt, Mt = typeof _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ad == \"object\" && _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ad && _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ad.Object === Object && _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ad, Rt = typeof self == \"object\" && self && self.Object === Object && self, bt = Mt || Rt || Function(\"return this\")(), St = Object.prototype, Ct = St.toString, It = Math.max, Pt = Math.min, Z = function() {\n  return bt.Date.now();\n};\nfunction Tt(t, a, n) {\n  var r, c, s, i, l, o, u = 0, d = !1, f = !1, m = !0;\n  if (typeof t != \"function\")\n    throw new TypeError(gt);\n  a = Q(a) || 0, j(n) && (d = !!n.leading, f = \"maxWait\" in n, s = f ? It(Q(n.maxWait) || 0, a) : s, m = \"trailing\" in n ? !!n.trailing : m);\n  function p(v) {\n    var M = r, x = c;\n    return r = c = void 0, u = v, i = t.apply(x, M), i;\n  }\n  function E(v) {\n    return u = v, l = setTimeout(k, a), d ? p(v) : i;\n  }\n  function h(v) {\n    var M = v - o, x = v - u, W = a - M;\n    return f ? Pt(W, s - x) : W;\n  }\n  function g(v) {\n    var M = v - o, x = v - u;\n    return o === void 0 || M >= a || M < 0 || f && x >= s;\n  }\n  function k() {\n    var v = Z();\n    if (g(v))\n      return C(v);\n    l = setTimeout(k, h(v));\n  }\n  function C(v) {\n    return l = void 0, m && r ? p(v) : (r = c = void 0, i);\n  }\n  function b() {\n    l !== void 0 && clearTimeout(l), u = 0, r = o = c = l = void 0;\n  }\n  function S() {\n    return l === void 0 ? i : C(Z());\n  }\n  function w() {\n    var v = Z(), M = g(v);\n    if (r = arguments, c = this, o = v, M) {\n      if (l === void 0)\n        return E(o);\n      if (f)\n        return l = setTimeout(k, a), p(o);\n    }\n    return l === void 0 && (l = setTimeout(k, a)), i;\n  }\n  return w.cancel = b, w.flush = S, w;\n}\nfunction j(t) {\n  var a = typeof t;\n  return !!t && (a == \"object\" || a == \"function\");\n}\nfunction xt(t) {\n  return !!t && typeof t == \"object\";\n}\nfunction At(t) {\n  return typeof t == \"symbol\" || xt(t) && Ct.call(t) == vt;\n}\nfunction Q(t) {\n  if (typeof t == \"number\")\n    return t;\n  if (At(t))\n    return G;\n  if (j(t)) {\n    var a = typeof t.valueOf == \"function\" ? t.valueOf() : t;\n    t = j(a) ? a + \"\" : a;\n  }\n  if (typeof t != \"string\")\n    return t === 0 ? t : +t;\n  t = t.replace(pt, \"\");\n  var n = wt.test(t);\n  return n || kt.test(t) ? yt(t.slice(2), n ? 2 : 8) : Et.test(t) ? G : +t;\n}\nvar Nt = Tt;\nconst X = /* @__PURE__ */ (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ae)(Nt);\nfunction Lt(t) {\n  const a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(t);\n  a.current = t, (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(\n    () => () => {\n      a.current();\n    },\n    []\n  );\n}\nfunction Vt(t, a = 500, n) {\n  const r = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  Lt(() => {\n    r.current && r.current.cancel();\n  });\n  const c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const s = X(t, a, n), i = (...l) => s(...l);\n    return i.cancel = () => {\n      s.cancel();\n    }, i.isPending = () => !!r.current, i.flush = () => s.flush(), i;\n  }, [t, a, n]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    r.current = X(t, a, n);\n  }, [t, a, n]), c;\n}\nfunction zt(t, a, n) {\n  const r = (u, d) => u === d, c = t instanceof Function ? t() : t, [s, i] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(c), l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(c), o = Vt(\n    i,\n    a,\n    n\n  );\n  return r(l.current, c) || (o(c), l.current = c), [s, o];\n}\nfunction Ft({\n  threshold: t = 0,\n  root: a = null,\n  rootMargin: n = \"0%\",\n  freezeOnceVisible: r = !1,\n  initialIsIntersecting: c = !1,\n  onChange: s\n} = {}) {\n  var i;\n  const [l, o] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null), [u, d] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => ({\n    isIntersecting: c,\n    entry: void 0\n  })), f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  f.current = s;\n  const m = ((i = u.entry) == null ? void 0 : i.isIntersecting) && r;\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!l || !(\"IntersectionObserver\" in window) || m)\n      return;\n    let h;\n    const g = new IntersectionObserver(\n      (k) => {\n        const C = Array.isArray(g.thresholds) ? g.thresholds : [g.thresholds];\n        k.forEach((b) => {\n          const S = b.isIntersecting && C.some((w) => b.intersectionRatio >= w);\n          d({ isIntersecting: S, entry: b }), f.current && f.current(S, b), S && r && h && (h(), h = void 0);\n        });\n      },\n      { threshold: t, root: a, rootMargin: n }\n    );\n    return g.observe(l), () => {\n      g.disconnect();\n    };\n  }, [\n    l,\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    JSON.stringify(t),\n    a,\n    n,\n    m,\n    r\n  ]);\n  const p = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    var h;\n    !l && ((h = u.entry) != null && h.target) && !r && !m && p.current !== u.entry.target && (p.current = u.entry.target, d({ isIntersecting: c, entry: void 0 }));\n  }, [l, u.entry, r, m, c]);\n  const E = [\n    o,\n    !!u.isIntersecting,\n    u.entry\n  ];\n  return E.ref = E[0], E.isIntersecting = E[1], E.entry = E[2], E;\n}\nconst Zt = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({\n    onTrackClick: a,\n    onClick: n,\n    onSubscriptionStatusChanged: r,\n    trackRef: c,\n    manageSubscription: s,\n    ...i\n  }, l) {\n    const o = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(c), u = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(l, () => u.current);\n    const d = Ft({ root: u.current }), [f] = zt(d, 3e3);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      s && o.publication instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteTrackPublication && (f == null ? void 0 : f.isIntersecting) === !1 && (d == null ? void 0 : d.isIntersecting) === !1 && o.publication.setSubscribed(!1);\n    }, [f, o, s]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      s && o.publication instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteTrackPublication && (d == null ? void 0 : d.isIntersecting) === !0 && o.publication.setSubscribed(!0);\n    }, [d, o, s]);\n    const {\n      elementProps: m,\n      publication: p,\n      isSubscribed: E\n    } = me(o, {\n      element: u,\n      props: i\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      r == null || r(!!E);\n    }, [E, r]);\n    const h = (g) => {\n      n == null || n(g), a == null || a({ participant: o == null ? void 0 : o.participant, track: p });\n    };\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"video\", { ref: u, ...m, muted: !0, onClick: h });\n  }\n), q = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ trackRef: a, onSubscriptionStatusChanged: n, volume: r, muted: c, ...s }, i) {\n    const l = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(a), o = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(i, () => o.current);\n    const {\n      elementProps: u,\n      isSubscribed: d,\n      track: f,\n      publication: m\n    } = me(l, {\n      element: o,\n      props: s\n    });\n    return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      n == null || n(!!d);\n    }, [d, n]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      f === void 0 || r === void 0 || (f instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteAudioTrack ? f.setVolume(r) : _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.l.warn(\"Volume can only be set on remote audio tracks.\"));\n    }, [r, f]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n      m === void 0 || c === void 0 || (m instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteTrackPublication ? m.setEnabled(!c) : _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.l.warn(\"Can only call setEnabled on remote track publications.\"));\n    }, [c, m, f]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"audio\", { ref: o, ...u });\n  }\n);\nfunction Ht(t) {\n  const a = !!(0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.B)();\n  return t.participant && !a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.af.Provider, { value: t.participant }, t.children) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, t.children);\n}\nfunction Bt(t) {\n  const a = !!(0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.a9)();\n  return t.trackRef && !a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ag.Provider, { value: t.trackRef }, t.children) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, t.children);\n}\nconst jt = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({\n    trackRef: a,\n    children: n,\n    onParticipantClick: r,\n    disableSpeakingIndicator: c,\n    ...s\n  }, i) {\n    var p, E;\n    const l = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(a), { elementProps: o } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.l)({\n      htmlProps: s,\n      disableSpeakingIndicator: c,\n      onParticipantClick: r,\n      trackRef: l\n    }), u = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.m)(l.participant), d = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.j)(), f = (p = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ah)()) == null ? void 0 : p.autoSubscription, m = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n      (h) => {\n        l.source && !h && d && d.pin.dispatch && (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(l, d.pin.state) && d.pin.dispatch({ msg: \"clear_pin\" });\n      },\n      [l, d]\n    );\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: i, style: { position: \"relative\" }, ...o }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Bt, { trackRef: l }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ht, { participant: l.participant }, n ?? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(l) && (((E = l.publication) == null ? void 0 : E.kind) === \"video\" || l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera || l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare) ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      Zt,\n      {\n        trackRef: l,\n        onSubscriptionStatusChanged: m,\n        manageSubscription: f\n      }\n    ) : (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(l) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      q,\n      {\n        trackRef: l,\n        onSubscriptionStatusChanged: m\n      }\n    ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-placeholder\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ht, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata-item\" }, l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, u && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(at, { style: { marginRight: \"0.25rem\" } }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      de,\n      {\n        trackRef: {\n          participant: l.participant,\n          source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone\n        },\n        show: \"muted\"\n      }\n    ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(B, null)) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(se, { style: { marginRight: \"0.25rem\" } }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(B, null, \"'s screen\"))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ue, { className: \"lk-participant-metadata-item\" }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(dt, { trackRef: l }))));\n  }\n);\nfunction va(t) {\n  const a = R(t, { className: \"lk-focus-layout\" });\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ...a }, t.children);\n}\nfunction pa({ trackRef: t, ...a }) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(jt, { trackRef: t, ...a });\n}\nfunction fe({ tracks: t, ...a }) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, t.map((n) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ag.Provider,\n    {\n      value: n,\n      key: (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.p)(n)\n    },\n    $(a.children)\n  )));\n}\nfunction Ot({\n  totalPageCount: t,\n  nextPage: a,\n  prevPage: n,\n  currentPage: r,\n  pagesContainer: c\n}) {\n  const [s, i] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    let l;\n    return c && (l = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ai)(c.current, 2e3).subscribe(\n      i\n    )), () => {\n      l && l.unsubscribe();\n    };\n  }, [c]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-pagination-control\", \"data-lk-user-interaction\": s }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { className: \"lk-button\", onClick: n }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(D, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-pagination-count\" }, `${r} of ${t}`), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { className: \"lk-button\", onClick: a }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(D, null)));\n}\nconst _t = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ totalPageCount: a, currentPage: n }, r) {\n    const c = new Array(a).fill(\"\").map((s, i) => i + 1 === n ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { \"data-lk-active\": !0, key: i }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { key: i }));\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: r, className: \"lk-pagination-indicator\" }, c);\n  }\n);\nfunction Ea({ tracks: t, ...a }) {\n  const n = react__WEBPACK_IMPORTED_MODULE_0__.createRef(), r = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => R(a, { className: \"lk-grid-layout\" }),\n    [a]\n  ), { layout: c } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.n)(n, t.length), s = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.o)(c.maxTiles, t);\n  return (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.p)(n, {\n    onLeftSwipe: s.nextPage,\n    onRightSwipe: s.prevPage\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: n, \"data-lk-pagination\": s.totalPageCount > 1, ...r }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(fe, { tracks: s.tracks }, a.children), t.length > c.maxTiles && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    _t,\n    {\n      totalPageCount: s.totalPageCount,\n      currentPage: s.currentPage\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ot, { pagesContainer: n, ...s })));\n}\nconst $t = 130, qt = 140, Y = 1, he = 16 / 10, Wt = (1 - he) * -1;\nfunction wa({ tracks: t, orientation: a, ...n }) {\n  const r = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), [c, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0), { width: i, height: l } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.q)(r), o = a || (l >= i ? \"vertical\" : \"horizontal\"), u = o === \"vertical\" ? Math.max(i * Wt, $t) : Math.max(l * he, qt), d = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.aj)(), f = Math.max(o === \"vertical\" ? (l - d) / u : (i - d) / u, Y);\n  let m = Math.round(f);\n  Math.abs(f - c) < 0.5 ? m = Math.round(c) : c !== f && s(f);\n  const p = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.r)(t, m);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\n    r.current && (r.current.dataset.lkOrientation = o, r.current.style.setProperty(\"--lk-max-visible-tiles\", m.toString()));\n  }, [m, o]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"aside\", { key: o, className: \"lk-carousel\", ref: r, ...n }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(fe, { tracks: p }, n.children));\n}\nfunction ka({\n  value: t,\n  onPinChange: a,\n  onWidgetChange: n,\n  children: r\n}) {\n  const c = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ak)(t);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"PinState Updated\", { state: c.pin.state }), a && c.pin.state && a(c.pin.state);\n  }, [c.pin.state, a]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"Widget Updated\", { widgetState: c.widget.state }), n && c.widget.state && n(c.widget.state);\n  }, [n, c.widget.state]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.aa.Provider, { value: c }, r);\n}\nconst ya = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ trackRef: a, ...n }, r) {\n    const d = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(a), f = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.s)(d, { bands: 7, loPass: 300 });\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      \"svg\",\n      {\n        ref: r,\n        width: \"100%\",\n        height: \"100%\",\n        viewBox: \"0 0 200 90\",\n        ...n,\n        className: \"lk-audio-visualizer\"\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"rect\", { x: \"0\", y: \"0\", width: \"100%\", height: \"100%\" }),\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n        \"g\",\n        {\n          style: {\n            transform: `translate(${(200 - 7 * 10) / 2}px, 0)`\n          }\n        },\n        f.map((m, p) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n          \"rect\",\n          {\n            key: p,\n            x: p * 10,\n            y: 90 / 2 - m * 50 / 2,\n            width: 6,\n            height: m * 50\n          }\n        ))\n      )\n    );\n  }\n);\nfunction Ma({ participants: t, ...a }) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, t.map((n) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.af.Provider, { value: n, key: n.identity }, $(a.children))));\n}\nfunction Ra({ volume: t, muted: a }) {\n  const n = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.t)(\n    [livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone, livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShareAudio, livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Unknown],\n    {\n      updateOnlyOn: [],\n      onlySubscribed: !0\n    }\n  ).filter((r) => !(0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ac)(r.participant) && r.publication.kind === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Kind.Audio);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: { display: \"none\" } }, n.map((r) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    q,\n    {\n      key: (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.p)(r),\n      trackRef: r,\n      volume: t,\n      muted: a\n    }\n  )));\n}\nconst ba = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function({ childrenPosition: a = \"before\", children: n, ...r }, c) {\n  const { name: s } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.v)();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { ref: c, ...r }, a === \"before\" && n, s, a === \"after\" && n);\n});\nfunction Dt(t) {\n  const a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => R(t, { className: \"lk-toast\" }), [t]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ...a }, t.children);\n}\nconst Ut = (t) => {\n  const a = [];\n  for (let n = 0; n < t; n++)\n    a.push([n, t - 1 - n]);\n  return a;\n}, J = (t) => [[Math.floor(t / 2)], [-1]], Gt = (t, a, n) => {\n  const [r, c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0), [s, i] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([[]]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (t === \"thinking\")\n      i(J(a));\n    else if (t === \"connecting\" || t === \"initializing\") {\n      const o = [...Ut(a)];\n      i(o);\n    } else i(t === \"listening\" ? J(a) : t === void 0 ? [new Array(a).fill(0).map((o, u) => u)] : [[]]);\n    c(0);\n  }, [t, a]);\n  const l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    let o = performance.now();\n    const u = (d) => {\n      d - o >= n && (c((m) => m + 1), o = d), l.current = requestAnimationFrame(u);\n    };\n    return l.current = requestAnimationFrame(u), () => {\n      l.current !== null && cancelAnimationFrame(l.current);\n    };\n  }, [n, a, t, s.length]), s[r % s.length];\n}, Qt = /* @__PURE__ */ new Map([\n  [\"connecting\", 2e3],\n  [\"initializing\", 2e3],\n  [\"listening\", 500],\n  [\"thinking\", 150]\n]), Xt = (t, a) => {\n  if (t === void 0)\n    return 1e3;\n  let n = Qt.get(t);\n  if (n)\n    switch (t) {\n      case \"connecting\":\n        n /= a;\n        break;\n    }\n  return n;\n}, Yt = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ state: a, options: n, barCount: r = 15, trackRef: c, children: s, ...i }, l) {\n    const o = R(i, { className: \"lk-audio-bar-visualizer\" });\n    let u = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.a9)();\n    c && (u = c);\n    const d = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.s)(u, {\n      bands: r,\n      loPass: 100,\n      hiPass: 200\n    }), f = (n == null ? void 0 : n.minHeight) ?? 20, m = (n == null ? void 0 : n.maxHeight) ?? 100, p = Gt(\n      a,\n      r,\n      Xt(a, r) ?? 100\n    );\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: l, ...o, \"data-lk-va-state\": a }, d.map(\n      (E, h) => s ? $(s, {\n        \"data-lk-highlighted\": p.includes(h),\n        \"data-lk-bar-index\": h,\n        class: \"lk-audio-bar\",\n        style: { height: `${Math.min(m, Math.max(f, E * 100 + 5))}%` }\n      }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n        \"span\",\n        {\n          key: h,\n          \"data-lk-highlighted\": p.includes(h),\n          \"data-lk-bar-index\": h,\n          className: `lk-audio-bar ${p.includes(h) && \"lk-highlighted\"}`,\n          style: {\n            // TODO transform animations would be more performant, however the border-radius gets distorted when using scale transforms. a 9-slice approach (or 3 in this case) could work\n            // transform: `scale(1, ${Math.min(maxHeight, Math.max(minHeight, volume))}`,\n            height: `${Math.min(m, Math.max(f, E * 100 + 5))}%`\n          }\n        }\n      )\n    ));\n  }\n), Sa = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({\n    children: a,\n    disableSpeakingIndicator: n,\n    onParticipantClick: r,\n    trackRef: c,\n    ...s\n  }, i) {\n    const l = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(c), { elementProps: o } = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.l)({\n      trackRef: l,\n      htmlProps: s,\n      disableSpeakingIndicator: n,\n      onParticipantClick: r\n    });\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: i, style: { position: \"relative\", minHeight: \"160px\" }, ...o }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.ag.Provider, { value: l }, a ?? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(l) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(q, { trackRef: l }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Yt, { barCount: 7, options: { minHeight: 8 } }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata-item\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(de, { trackRef: l }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(B, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ue, { className: \"lk-participant-metadata-item\" })))));\n  }\n);\nfunction Ca(t) {\n  const [a, n] = react__WEBPACK_IMPORTED_MODULE_0__.useState(void 0), r = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.a)(t.room);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    switch (r) {\n      case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Reconnecting:\n        n(\n          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(U, { className: \"lk-spinner\" }), \" Reconnecting\")\n        );\n        break;\n      case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Connecting:\n        n(\n          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(U, { className: \"lk-spinner\" }), \" Connecting\")\n        );\n        break;\n      case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected:\n        n(/* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, \"Disconnected\"));\n        break;\n      default:\n        n(void 0);\n        break;\n    }\n  }, [r]), a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Dt, { className: \"lk-toast-connection-state\" }, a) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null);\n}\nconst Ia = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  function({ entry: a, hideName: n = !1, hideTimestamp: r = !1, messageFormatter: c, ...s }, i) {\n    var f, m, p;\n    const l = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => c ? c(a.message) : a.message, [a.message, c]), o = !!a.editTimestamp, u = new Date(a.timestamp), d = navigator ? navigator.language : \"en-US\";\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      \"li\",\n      {\n        ref: i,\n        className: \"lk-chat-entry\",\n        title: u.toLocaleTimeString(d, { timeStyle: \"full\" }),\n        \"data-lk-message-origin\": (f = a.from) != null && f.isLocal ? \"local\" : \"remote\",\n        ...s\n      },\n      (!r || !n || o) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-meta-data\" }, !n && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", { className: \"lk-participant-name\" }, ((m = a.from) == null ? void 0 : m.name) ?? ((p = a.from) == null ? void 0 : p.identity)), (!r || o) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-timestamp\" }, o && \"edited \", u.toLocaleTimeString(d, { timeStyle: \"short\" }))),\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-message-body\" }, l)\n    );\n  }\n);\nfunction Pa(t) {\n  return (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.al)(t, (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_3__.am)()).map((a, n) => {\n    if (typeof a == \"string\")\n      return a;\n    {\n      const r = a.content.toString(), c = a.type === \"url\" ? /^http(s?):\\/\\//.test(r) ? r : `https://${r}` : `mailto:${r}`;\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", { className: \"lk-chat-link\", key: n, href: c, target: \"_blank\", rel: \"noreferrer\" }, r);\n    }\n  });\n}\n\n//# sourceMappingURL=components-OLOni9K_.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyLjYuN19AbGl2ZWtpdCtrcmlzcC1ub2lzZS1maWx0ZXJAMC4yLjEyX2xpdmVraXQtY2xpZW50QDIuNi4wX19saXZlX2txY2NoZXd2NWVnZXJoc29uMmFwc2xuN3NpL25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3QvY29tcG9uZW50cy1PTE9uaTlLXy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyQjtBQUN1RDtBQUN5SjtBQUMzRTtBQUM0SDtBQUNyTztBQUN2RCwyQkFBMkIsNkNBQVk7QUFDdkM7QUFDQSxZQUFZLGlCQUFpQixFQUFFLHNEQUFFO0FBQ2pDLDJCQUEyQixnREFBZSxhQUFhLGNBQWM7QUFDckU7QUFDQSx3QkFBd0IsNkNBQVk7QUFDcEMsYUFBYSxlQUFlO0FBQzVCLGNBQWMsc0RBQUM7QUFDZiwyQkFBMkIsZ0RBQWUsVUFBVSxjQUFjO0FBQ2xFO0FBQ0Esd0JBQXdCLDZDQUFZO0FBQ3BDO0FBQ0EsWUFBWSxpQkFBaUIsRUFBRSxzREFBRSxHQUFHLFVBQVU7QUFDOUMsMkJBQTJCLGdEQUFlLGFBQWEsY0FBYztBQUNyRTtBQUNBLHdCQUF3Qiw2Q0FBWTtBQUNwQztBQUNBLFlBQVksaUJBQWlCLEVBQUUsc0RBQUU7QUFDakMsMkJBQTJCLGdEQUFlLGFBQWEsY0FBYztBQUNyRTtBQUNBLCtCQUErQixnREFBZSxVQUFVLHdGQUF3RixrQkFBa0IsZ0RBQWUsV0FBVyx1TUFBdU0sbUJBQW1CLGdEQUFlLFdBQVcscUdBQXFHLGdDQUFnQyxnREFBZSxVQUFVLHdGQUF3RixrQkFBa0IsZ0RBQWUsV0FBVyx1TUFBdU0sZ0NBQWdDLGdEQUFlLFVBQVUsd0ZBQXdGLGtCQUFrQixnREFBZTtBQUMza0M7QUFDQTtBQUNBO0FBQ0E7QUFD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REFBZSxhQUFhLGtDQUFrQywwSEFBMEgsZ0RBQWUsV0FBVywyQkFBMkIsNENBQTRDLG9CQUFvQjtBQUNuYSxzQkFBc0IsZ0RBQWUsV0FBVyw4QkFBOEI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBEQUFFLElBQUksMERBQUU7QUFDakI7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHLEVBQUUsY0FBYyxFQUFFO0FBQ3pILDZCQUE2QixnREFBZSxRQUFRLGlGQUFpRjtBQUNySTtBQUNBLEdBQUc7QUFDSDtBQTBERTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxheWdyb3VuZC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbGl2ZWtpdCtjb21wb25lbnRzLXJlYWN0QDIuNi43X0BsaXZla2l0K2tyaXNwLW5vaXNlLWZpbHRlckAwLjIuMTJfbGl2ZWtpdC1jbGllbnRAMi42LjBfX2xpdmVfa3FjY2hld3Y1ZWdlcmhzb24yYXBzbG43c2kvbm9kZV9tb2R1bGVzL0BsaXZla2l0L2NvbXBvbmVudHMtcmVhY3QvZGlzdC9jb21wb25lbnRzLU9MT25pOUtfLm1qcz8zZTU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGUgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSBhcyBBLCB1c2VSZWYgYXMgSSwgdXNlRWZmZWN0IGFzIFAsIHVzZU1lbW8gYXMgZ2UgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHUgYXMgdmUsIGEgYXMgSywgYiBhcyBwZSwgYyBhcyBFZSwgZCBhcyB3ZSwgZSBhcyBrZSwgZiBhcyBlZSwgZyBhcyB5ZSwgaCBhcyBNZSwgaSBhcyBSZSwgaiBhcyBiZSwgayBhcyBTZSwgbCBhcyB0ZSwgbSBhcyBDZSwgbiBhcyBJZSwgbyBhcyBQZSwgcCBhcyBUZSwgcSBhcyB4ZSwgciBhcyBBZSwgcyBhcyBhZSwgdCBhcyBOZSwgdiBhcyBMZSB9IGZyb20gXCIuL2hvb2tzLUJaOUtoTWNWLm1qc1wiO1xuaW1wb3J0IHsgUm9vbUV2ZW50IGFzIFZlLCBUcmFjayBhcyB5LCBDb25uZWN0aW9uUXVhbGl0eSBhcyB6LCBSZW1vdGVUcmFja1B1YmxpY2F0aW9uIGFzIEgsIFJlbW90ZUF1ZGlvVHJhY2sgYXMgemUsIENvbm5lY3Rpb25TdGF0ZSBhcyBGIH0gZnJvbSBcImxpdmVraXQtY2xpZW50XCI7XG5pbXBvcnQgeyBhOSBhcyBPLCBhYSBhcyBuZSwgbCBhcyBULCB3IGFzIEZlLCBmIGFzIHJlLCBjIGFzIFplLCBhYiBhcyBIZSwgWCBhcyBCZSwgWSBhcyBqZSwgYTEgYXMgViwgYWMgYXMgY2UsIGFkIGFzIEwsIGFlIGFzIE9lLCBpIGFzIE4sIEIgYXMgX2UsIGFmIGFzIGxlLCBhZyBhcyBfLCBqIGFzICRlLCBhaCBhcyBxZSwgbSBhcyBXZSwgcCBhcyBvZSwgYWkgYXMgRGUsIGFqIGFzIFVlLCBhayBhcyBHZSwgYWwgYXMgUWUsIGFtIGFzIFhlIH0gZnJvbSBcIi4vY29udGV4dHMtNTY4RUhHTHAubWpzXCI7XG5pbXBvcnQgeyBtIGFzIFllLCBjIGFzIEplIH0gZnJvbSBcIi4vcm9vbS05SWY0enBMUy5tanNcIjtcbmNvbnN0IG5hID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24oYSwgbikge1xuICAgIGNvbnN0IHsgYnV0dG9uUHJvcHM6IHIgfSA9IHZlKGEpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiBuLCAuLi5yIH0sIGEuY2hpbGRyZW4pO1xuICB9XG4pLCByYSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgcm9vbTogYSwgLi4ubiB9LCByKSB7XG4gICAgY29uc3QgYyA9IEsoYSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHIsIC4uLm4gfSwgYyk7XG4gIH1cbiksIGNhID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24oYSwgbikge1xuICAgIGNvbnN0IHsgbWVyZ2VkUHJvcHM6IHIgfSA9IHBlKHsgcHJvcHM6IGEgfSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyByZWY6IG4sIC4uLnIgfSwgYS5jaGlsZHJlbik7XG4gIH1cbiksIGxhID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24oYSwgbikge1xuICAgIGNvbnN0IHsgYnV0dG9uUHJvcHM6IHIgfSA9IEVlKGEpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiBuLCAuLi5yIH0sIGEuY2hpbGRyZW4pO1xuICB9XG4pLCBLZSA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMS4zNTQuNjQ2YS41LjUgMCAxIDAtLjcwOC43MDhsMTQgMTRhLjUuNSAwIDAgMCAuNzA4LS43MDhMMTEgMTAuMjkzVjQuNUExLjUgMS41IDAgMCAwIDkuNSAzSDMuNzA3ek0wIDQuNWExLjUgMS41IDAgMCAxIC45NDMtMS4zOTNsOS41MzIgOS41MzNjLS4yNjIuMjI0LS42MDMuMzYtLjk3NS4zNmgtOEExLjUgMS41IDAgMCAxIDAgMTEuNXpcIiB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIm0xNS4yIDMuNi0yLjggMi4xYTEgMSAwIDAgMC0uNC44djNhMSAxIDAgMCAwIC40LjhsMi44IDIuMWEuNS41IDAgMCAwIC44LS40VjRhLjUuNSAwIDAgMC0uOC0uNHpcIiB9KSksIGV0ID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwiY3VycmVudENvbG9yXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDQuNUExLjUgMS41IDAgMCAxIDEuNSAzaDhBMS41IDEuNSAwIDAgMSAxMSA0LjV2N0ExLjUgMS41IDAgMCAxIDkuNSAxM2gtOEExLjUgMS41IDAgMCAxIDAgMTEuNXpNMTUuMiAzLjZsLTIuOCAyLjFhMSAxIDAgMCAwLS40Ljh2M2ExIDEgMCAwIDAgLjQuOGwyLjggMi4xYS41LjUgMCAwIDAgLjgtLjRWNGEuNS41IDAgMCAwLS44LS40elwiIH0pKSwgb2EgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiI0ZGRlwiLFxuICAgIGQ6IFwiTTQuOTkgMy45OWExIDEgMCAwIDAtLjY5NyAxLjcxN0wxMC41ODYgMTJsLTYuMjkzIDYuMjkzYTEgMSAwIDEgMCAxLjQxNCAxLjQxNEwxMiAxMy40MTRsNi4yOTMgNi4yOTNhMSAxIDAgMSAwIDEuNDE0LTEuNDE0TDEzLjQxNCAxMmw2LjI5My02LjI5M2ExIDEgMCAwIDAtLjcyNy0xLjcxNyAxIDEgMCAwIDAtLjY4Ny4zMDNMMTIgMTAuNTg2IDUuNzA3IDQuMjkzYTEgMSAwIDAgMC0uNzE3LS4zMDN6XCJcbiAgfVxuKSksIHNhID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTgsIGZpbGw6IFwibm9uZVwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMCAyLjc1QTIuNzUgMi43NSAwIDAgMSAyLjc1IDBoMTAuNUEyLjc1IDIuNzUgMCAwIDEgMTYgMi43NXYxMy41OTRhLjc1Ljc1IDAgMCAxLTEuMjM0LjU3MmwtMy42OTEtMy4xMmExLjI1IDEuMjUgMCAwIDAtLjgwNy0uMjk2SDIuNzVBMi43NSAyLjc1IDAgMCAxIDAgMTAuNzV2LThaTTIuNzUgMS41Yy0uNjkgMC0xLjI1LjU2LTEuMjUgMS4yNXY4YzAgLjY5LjU2IDEuMjUgMS4yNSAxLjI1aDcuNTE4Yy42NSAwIDEuMjc5LjIzIDEuNzc1LjY1bDIuNDU3IDIuMDc3VjIuNzVjMC0uNjktLjU2LTEuMjUtMS4yNS0xLjI1SDIuNzVaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMyA0LjVhLjUuNSAwIDAgMSAuNS0uNWg5YS41LjUgMCAwIDEgMCAxaC05YS41LjUgMCAwIDEtLjUtLjVabTAgMmEuNS41IDAgMCAxIC41LS41aDlhLjUuNSAwIDAgMSAwIDFoLTlhLjUuNSAwIDAgMS0uNS0uNVptMCAyYS41LjUgMCAwIDEgLjUtLjVoNWEuNS41IDAgMCAxIDAgMWgtNWEuNS41IDAgMCAxLS41LS41WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pKSwgRCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudGNvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTUuMjkzIDIuMjkzYTEgMSAwIDAgMSAxLjQxNCAwbDQuODIzIDQuODIzYTEuMjUgMS4yNSAwIDAgMSAwIDEuNzY4bC00LjgyMyA0LjgyM2ExIDEgMCAwIDEtMS40MTQtMS40MTRMOS41ODYgOCA1LjI5MyAzLjcwN2ExIDEgMCAwIDEgMC0xLjQxNHpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSksIHR0ID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwibm9uZVwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHsgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIsIHN0cm9rZVdpZHRoOiAxLjUgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMCAxLjc1aDQuMjVtMCAwVjZtMC00LjI1TDkgN002IDE0LjI1SDEuNzVtMCAwVjEwbTAgNC4yNUw3IDlcIiB9KSkpLCBpYSA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudGNvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTguOTYxLjg5NEM4Ljg3NS0uMjk4IDcuMTI1LS4yOTggNy4wNC44OTRjLS4wNjYuOTEyLTEuMjQ2IDEuMjI4LTEuNzYuNDcyLS42Ny0uOTktMi4xODYtLjExNS0xLjY2NC45Ni4zOTkuODI0LS40NjUgMS42ODgtMS4yODggMS4yODktMS4wNzYtLjUyMi0xLjk1Ljk5NC0uOTYxIDEuNjY1Ljc1Ni41MTMuNDQgMS42OTMtLjQ3MiAxLjc1OS0xLjE5Mi4wODYtMS4xOTIgMS44MzYgMCAxLjkyMi45MTIuMDY2IDEuMjI4IDEuMjQ2LjQ3MiAxLjc2LS45OS42Ny0uMTE1IDIuMTg2Ljk2IDEuNjY0LjgyNC0uMzk5IDEuNjg4LjQ2NSAxLjI4OSAxLjI4OC0uNTIyIDEuMDc2Ljk5NCAxLjk1IDEuNjY1Ljk2MS41MTMtLjc1NiAxLjY5My0uNDQgMS43NTkuNDcyLjA4NiAxLjE5MiAxLjgzNiAxLjE5MiAxLjkyMiAwIC4wNjYtLjkxMiAxLjI0Ni0xLjIyOCAxLjc2LS40NzIuNjcuOTkgMi4xODYuMTE1IDEuNjY0LS45Ni0uMzk5LS44MjQuNDY1LTEuNjg4IDEuMjg4LTEuMjg5IDEuMDc2LjUyMiAxLjk1LS45OTQuOTYxLTEuNjY1LS43NTYtLjUxMy0uNDQtMS42OTMuNDcyLTEuNzU5IDEuMTkyLS4wODYgMS4xOTItMS44MzYgMC0xLjkyMi0uOTEyLS4wNjYtMS4yMjgtMS4yNDYtLjQ3Mi0xLjc2Ljk5LS42Ny4xMTUtMi4xODYtLjk2LTEuNjY0LS44MjQuMzk5LTEuNjg4LS40NjUtMS4yODktMS4yODguNTIyLTEuMDc2LS45OTQtMS45NS0xLjY2NS0uOTYxLS41MTMuNzU2LTEuNjkzLjQ0LTEuNzU5LS40NzJaTTggMTNBNSA1IDAgMSAwIDggM2E1IDUgMCAwIDAgMCAxMFpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSksIHVhID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwibm9uZVwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMiAyLjc1QTIuNzUgMi43NSAwIDAgMSA0Ljc1IDBoNi41QTIuNzUgMi43NSAwIDAgMSAxNCAyLjc1djEwLjVBMi43NSAyLjc1IDAgMCAxIDExLjI1IDE2aC02LjVBMi43NSAyLjc1IDAgMCAxIDIgMTMuMjV2LS41YS43NS43NSAwIDAgMSAxLjUgMHYuNWMwIC42OS41NiAxLjI1IDEuMjUgMS4yNWg2LjVjLjY5IDAgMS4yNS0uNTYgMS4yNS0xLjI1VjIuNzVjMC0uNjktLjU2LTEuMjUtMS4yNS0xLjI1aC02LjVjLS42OSAwLTEuMjUuNTYtMS4yNSAxLjI1di41YS43NS43NSAwIDAgMS0xLjUgMHYtLjVaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNOC43OCA3LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZsLTIuMjUgMi4yNWEuNzUuNzUgMCAxIDEtMS4wNi0xLjA2bC45Ny0uOTdIMS43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC42OWwtLjk3LS45N2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDIuMjUgMi4yNVpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSksIGF0ID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwibm9uZVwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNNCA2LjEwNFY0YTQgNCAwIDEgMSA4IDB2Mi4xMDRjMS4xNTQuMzI2IDIgMS4zODcgMiAyLjY0NnY0LjVBMi43NSAyLjc1IDAgMCAxIDExLjI1IDE2aC02LjVBMi43NSAyLjc1IDAgMCAxIDIgMTMuMjV2LTQuNWMwLTEuMjU5Ljg0Ni0yLjMyIDItMi42NDZaTTUuNSA0YTIuNSAyLjUgMCAwIDEgNSAwdjJoLTVWNFpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSksIG50ID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwiY3VycmVudENvbG9yXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMi4yMjcgMTEuNTJhNS40NzcgNS40NzcgMCAwIDAgMS4yNDYtMi45Ny41LjUgMCAwIDAtLjk5NS0uMSA0LjQ3OCA0LjQ3OCAwIDAgMS0uOTYyIDIuMzU5bC0xLjA3LTEuMDdDMTAuNzk0IDkuMjQ3IDExIDguNjQ3IDExIDhWM2EzIDMgMCAwIDAtNiAwdjEuMjkzTDEuMzU0LjY0NmEuNS41IDAgMSAwLS43MDguNzA4bDE0IDE0YS41LjUgMCAwIDAgLjcwOC0uNzA4ek04IDEyLjVjLjY4MyAwIDEuMzMtLjE1MiAxLjkxMS0uNDI1bC43NDMuNzQzYy0uNjQ5LjM1OS0xLjM3OC41OS0yLjE1NC42NlYxNWgyYS41LjUgMCAwIDEgMCAxaC01YS41LjUgMCAwIDEgMC0xaDJ2LTEuNTIyYTUuNTAyIDUuNTAyIDAgMCAxLTQuOTczLTQuOTI5LjUuNSAwIDAgMSAuOTk1LS4wOThBNC41IDQuNSAwIDAgMCA4IDEyLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNOC43NDMgMTAuOTA3IDUgNy4xNjRWOGEzIDMgMCAwIDAgMy43NDMgMi45MDd6XCIgfSkpLCBydCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTIuOTc1IDguMDAyYS41LjUgMCAwIDEgLjU0Ny40NDkgNC41IDQuNSAwIDAgMCA4Ljk1NiAwIC41LjUgMCAxIDEgLjk5NS4wOThBNS41MDIgNS41MDIgMCAwIDEgOC41IDEzLjQ3OFYxNWgyYS41LjUgMCAwIDEgMCAxaC01YS41LjUgMCAwIDEgMC0xaDJ2LTEuNTIyYTUuNTAyIDUuNTAyIDAgMCAxLTQuOTczLTQuOTI5LjUuNSAwIDAgMSAuNDQ4LS41NDd6XCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNSAzYTMgMyAwIDEgMSA2IDB2NWEzIDMgMCAwIDEtNiAwelwiIH0pKSwgY3QgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJjdXJyZW50Y29sb3JcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMTEuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djRhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6bTYtNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djlhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6bTYtNmEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djE1YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMTEuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djRhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6bTYtNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djlhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6bTYtNmEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djE1YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pKSwgbHQgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJjdXJyZW50Y29sb3JcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMTEuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djRhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6bTYtNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djlhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAxMS41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2NGEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXptNi01YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2OWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImdcIiwgeyBvcGFjaXR5OiAwLjI1IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTIgLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXYxNWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMiAuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djE1YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pKSksIG90ID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwiY3VycmVudGNvbG9yXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDExLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY0YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMTEuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djRhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHsgb3BhY2l0eTogMC4yNSB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTYgNi41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2OWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk02IDYuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djlhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6bTYtNmEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djE1YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEyIC41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2MTVhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSkpKSwgc3QgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IG9wYWNpdHk6IDAuMjUgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDExLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY0YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41di00Wm02LTVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY5YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41di05Wm02LTZhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXYxNWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNVYuNVpcIiB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDExLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY0YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41di00Wm02LTVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY5YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41di05Wm02LTZhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXYxNWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNVYuNVpcIiB9KSkpLCBzZSA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDIwLCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTAgMi43NUEyLjc1IDIuNzUgMCAwIDEgMi43NSAwaDE0LjVBMi43NSAyLjc1IDAgMCAxIDIwIDIuNzV2MTAuNUEyLjc1IDIuNzUgMCAwIDEgMTcuMjUgMTZIMi43NUEyLjc1IDIuNzUgMCAwIDEgMCAxMy4yNVYyLjc1Wk0yLjc1IDEuNWMtLjY5IDAtMS4yNS41Ni0xLjI1IDEuMjV2MTAuNWMwIC42OS41NiAxLjI1IDEuMjUgMS4yNWgxNC41Yy42OSAwIDEuMjUtLjU2IDEuMjUtMS4yNVYyLjc1YzAtLjY5LS41Ni0xLjI1LTEuMjUtMS4yNUgyLjc1WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTkuNDcgNC4yMmEuNzUuNzUgMCAwIDEgMS4wNiAwbDIuMjUgMi4yNWEuNzUuNzUgMCAwIDEtMS4wNiAxLjA2bC0uOTctLjk3djQuNjlhLjc1Ljc1IDAgMCAxLTEuNSAwVjYuNTZsLS45Ny45N2EuNzUuNzUgMCAwIDEtMS4wNi0xLjA2bDIuMjUtMi4yNVpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSksIGl0ID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMjAsIGhlaWdodDogMTYsIGZpbGw6IFwibm9uZVwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHsgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTcuMjggNC4yMmEuNzUuNzUgMCAwIDAtMS4wNiAxLjA2TDguOTQgOGwtMi43MiAyLjcyYS43NS43NSAwIDEgMCAxLjA2IDEuMDZMMTAgOS4wNmwyLjcyIDIuNzJhLjc1Ljc1IDAgMSAwIDEuMDYtMS4wNkwxMS4wNiA4bDIuNzItMi43MmEuNzUuNzUgMCAwIDAtMS4wNi0xLjA2TDEwIDYuOTR6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTIuNzUgMEEyLjc1IDIuNzUgMCAwIDAgMCAyLjc1djEwLjVBMi43NSAyLjc1IDAgMCAwIDIuNzUgMTZoMTQuNUEyLjc1IDIuNzUgMCAwIDAgMjAgMTMuMjVWMi43NUEyLjc1IDIuNzUgMCAwIDAgMTcuMjUgMHpNMS41IDIuNzVjMC0uNjkuNTYtMS4yNSAxLjI1LTEuMjVoMTQuNWMuNjkgMCAxLjI1LjU2IDEuMjUgMS4yNXYxMC41YzAgLjY5LS41NiAxLjI1LTEuMjUgMS4yNUgyLjc1Yy0uNjkgMC0xLjI1LS41Ni0xLjI1LTEuMjV6XCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbikpKSwgVSA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTggMGEuNzUuNzUgMCAwIDEgLjc1Ljc1djIuNWEuNzUuNzUgMCAwIDEtMS41IDBWLjc1QS43NS43NSAwIDAgMSA4IDBaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNOCAxMmEuNzUuNzUgMCAwIDEgLjc1Ljc1djIuNWEuNzUuNzUgMCAwIDEtMS41IDB2LTIuNUEuNzUuNzUgMCAwIDEgOCAxMlpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgb3BhY2l0eTogMC43XG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMTIgMS4wNzJhLjc1Ljc1IDAgMCAxIC4yNzQgMS4wMjRsLTEuMjUgMi4xNjVhLjc1Ljc1IDAgMCAxLTEuMjk5LS43NWwxLjI1LTIuMTY1QS43NS43NSAwIDAgMSAxMiAxLjA3MlpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk02IDExLjQ2NGEuNzUuNzUgMCAwIDEgLjI3NCAxLjAyNWwtMS4yNSAyLjE2NWEuNzUuNzUgMCAwIDEtMS4yOTktLjc1bDEuMjUtMi4xNjVBLjc1Ljc1IDAgMCAxIDYgMTEuNDY0WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBvcGFjaXR5OiAwLjZcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xNC45MjggNGEuNzUuNzUgMCAwIDEtLjI3NCAxLjAyNWwtMi4xNjUgMS4yNWEuNzUuNzUgMCAxIDEtLjc1LTEuM2wyLjE2NS0xLjI1QS43NS43NSAwIDAgMSAxNC45MjggNFpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk00LjUzNiAxMGEuNzUuNzUgMCAwIDEtLjI3NSAxLjAyNGwtMi4xNjUgMS4yNWEuNzUuNzUgMCAwIDEtLjc1LTEuMjk4bDIuMTY1LTEuMjVBLjc1Ljc1IDAgMCAxIDQuNTM2IDEwWlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBvcGFjaXR5OiAwLjVcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0xNiA4YS43NS43NSAwIDAgMS0uNzUuNzVoLTIuNWEuNzUuNzUgMCAwIDEgMC0xLjVoMi41QS43NS43NSAwIDAgMSAxNiA4WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTQgOGEuNzUuNzUgMCAwIDEtLjc1Ljc1SC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoMi41QS43NS43NSAwIDAgMSA0IDhaXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIG9wYWNpdHk6IDAuNFxuICB9XG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICBcInBhdGhcIixcbiAge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTE0LjkyOCAxMmEuNzUuNzUgMCAwIDEtMS4wMjQuMjc0bC0yLjE2NS0xLjI1YS43NS43NSAwIDAgMSAuNzUtMS4yOTlsMi4xNjUgMS4yNUEuNzUuNzUgMCAwIDEgMTQuOTI4IDEyWlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBvcGFjaXR5OiAwLjlcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk00LjUzNiA2YS43NS43NSAwIDAgMS0xLjAyNS4yNzVsLTIuMTY1LTEuMjVhLjc1Ljc1IDAgMSAxIC43NS0xLjNsMi4xNjUgMS4yNUEuNzUuNzUgMCAwIDEgNC41MzYgNlpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgb3BhY2l0eTogMC4zXG4gIH1cbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwicGF0aFwiLFxuICB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMTIgMTQuOTI4YS43NS43NSAwIDAgMS0xLjAyNC0uMjc0bC0xLjI1LTIuMTY1YS43NS43NSAwIDAgMSAxLjI5OC0uNzVsMS4yNSAyLjE2NUEuNzUuNzUgMCAwIDEgMTIgMTQuOTI4WlwiLFxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBvcGFjaXR5OiAwLjhcbiAgfVxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgXCJwYXRoXCIsXG4gIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk02IDQuNTM2YS43NS43NSAwIDAgMS0xLjAyNC0uMjc1bC0xLjI1LTIuMTY1YS43NS43NSAwIDEgMSAxLjI5OS0uNzVsMS4yNSAyLjE2NUEuNzUuNzUgMCAwIDEgNiA0LjUzNlpcIixcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXG4gICAgb3BhY2l0eTogMC4yXG4gIH1cbikpLCB1dCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLCBzdHJva2VXaWR0aDogMS41IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTMuMjUgN0g5bTAgMFYyLjc1TTkgN2w1LjI1LTUuMjVNMi43NSA5SDdtMCAwdjQuMjVNNyA5bC01LjI1IDUuMjVcIiB9KSkpLCBkdCA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgdHJhY2tSZWY6IGEsIC4uLm4gfSwgcikge1xuICAgIGNvbnN0IGMgPSBPKCksIHsgbWVyZ2VkUHJvcHM6IHMsIGluRm9jdXM6IGkgfSA9IHdlKHtcbiAgICAgIHRyYWNrUmVmOiBhID8/IGMsXG4gICAgICBwcm9wczogblxuICAgIH0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KG5lLkNvbnN1bWVyLCBudWxsLCAobCkgPT4gbCAhPT0gdm9pZCAwICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyByZWY6IHIsIC4uLnMgfSwgbi5jaGlsZHJlbiA/IG4uY2hpbGRyZW4gOiBpID8gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudCh1dCwgbnVsbCkgOiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHR0LCBudWxsKSkpO1xuICB9XG4pO1xuZnVuY3Rpb24gbXQodCkge1xuICByZXR1cm4gdCAhPT0gdm9pZCAwO1xufVxuZnVuY3Rpb24gUiguLi50KSB7XG4gIHJldHVybiBZZSguLi50LmZpbHRlcihtdCkpO1xufVxuZnVuY3Rpb24gJCh0LCBhLCBuKSB7XG4gIHJldHVybiBlLkNoaWxkcmVuLm1hcCh0LCAocikgPT4gZS5pc1ZhbGlkRWxlbWVudChyKSAmJiBlLkNoaWxkcmVuLm9ubHkodCkgPyAoci5wcm9wcy5jbGFzcyAmJiAoYSA/PyAoYSA9IHt9KSwgYS5jbGFzcyA9IEplKHIucHJvcHMuY2xhc3MsIGEuY2xhc3MpLCBhLnN0eWxlID0geyAuLi5yLnByb3BzLnN0eWxlLCAuLi5hLnN0eWxlIH0pLCBlLmNsb25lRWxlbWVudChyLCB7IC4uLmEsIGtleTogbiB9KSkgOiByKTtcbn1cbmZ1bmN0aW9uIGRhKHQpIHtcbiAgdmFyIGEsIG47XG4gIGlmICh0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgdHlwZW9mIHByb2Nlc3MgPCBcInVcIiAmJiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdHVyYm8vbm8tdW5kZWNsYXJlZC1lbnYtdmFyc1xuICAoKChhID0gcHJvY2VzcyA9PSBudWxsID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09IG51bGwgPyB2b2lkIDAgOiBhLk5PREVfRU5WKSA9PT0gXCJkZXZcIiB8fCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdHVyYm8vbm8tdW5kZWNsYXJlZC1lbnYtdmFyc1xuICAoKG4gPSBwcm9jZXNzID09IG51bGwgPyB2b2lkIDAgOiBwcm9jZXNzLmVudikgPT0gbnVsbCA/IHZvaWQgMCA6IG4uTk9ERV9FTlYpID09PSBcImRldmVsb3BtZW50XCIpKSB7XG4gICAgY29uc3QgciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGstcm9vbS1jb250YWluZXJcIik7XG4gICAgciAmJiAhZ2V0Q29tcHV0ZWRTdHlsZShyKS5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1say1oYXMtaW1wb3J0ZWQtc3R5bGVzXCIpICYmIFQud2FybihcbiAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgbm90IHVzaW5nIHRoZSBgQGxpdmVraXQvY29tcG9uZW50cy1zdHlsZXMgcGFja2FnZWAuIFRvIHJlbmRlciB0aGUgVUkgd2l0aCB0aGUgZGVmYXVsdCBzdHlsaW5nLCBwbGVhc2UgaW1wb3J0IGl0IGluIHlvdXIgbGF5b3V0IG9yIHBhZ2UuXCJcbiAgICApO1xuICB9XG59XG5jb25zdCBtYSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHtcbiAgICBraW5kOiBhLFxuICAgIGluaXRpYWxTZWxlY3Rpb246IG4sXG4gICAgb25BY3RpdmVEZXZpY2VDaGFuZ2U6IHIsXG4gICAgb25EZXZpY2VMaXN0Q2hhbmdlOiBjLFxuICAgIG9uRGV2aWNlU2VsZWN0RXJyb3I6IHMsXG4gICAgZXhhY3RNYXRjaDogaSxcbiAgICB0cmFjazogbCxcbiAgICByZXF1ZXN0UGVybWlzc2lvbnM6IG8sXG4gICAgb25FcnJvcjogdSxcbiAgICAuLi5kXG4gIH0sIGYpIHtcbiAgICBjb25zdCBtID0gRmUoKSwgcCA9IGUudXNlQ2FsbGJhY2soXG4gICAgICAodykgPT4ge1xuICAgICAgICBtICYmIG0uZW1pdChWZS5NZWRpYURldmljZXNFcnJvciwgdyksIHUgPT0gbnVsbCB8fCB1KHcpO1xuICAgICAgfSxcbiAgICAgIFttLCB1XVxuICAgICksIHsgZGV2aWNlczogRSwgYWN0aXZlRGV2aWNlSWQ6IGgsIHNldEFjdGl2ZU1lZGlhRGV2aWNlOiBnLCBjbGFzc05hbWU6IGsgfSA9IGtlKHtcbiAgICAgIGtpbmQ6IGEsXG4gICAgICByb29tOiBtLFxuICAgICAgdHJhY2s6IGwsXG4gICAgICByZXF1ZXN0UGVybWlzc2lvbnM6IG8sXG4gICAgICBvbkVycm9yOiBwXG4gICAgfSk7XG4gICAgZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgbiAhPT0gdm9pZCAwICYmIGcobik7XG4gICAgfSwgW2ddKSwgZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgdHlwZW9mIGMgPT0gXCJmdW5jdGlvblwiICYmIGMoRSk7XG4gICAgfSwgW2MsIEVdKSwgZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaCAmJiBoICE9PSBcIlwiICYmIChyID09IG51bGwgfHwgcihoKSk7XG4gICAgfSwgW2hdKTtcbiAgICBjb25zdCBDID0gYXN5bmMgKHcpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGcodywgeyBleGFjdDogaSB9KTtcbiAgICAgIH0gY2F0Y2ggKHYpIHtcbiAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgICBzID09IG51bGwgfHwgcyh2KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRocm93IHY7XG4gICAgICB9XG4gICAgfSwgYiA9IGUudXNlTWVtbyhcbiAgICAgICgpID0+IFIoZCwgeyBjbGFzc05hbWU6IGsgfSwgeyBjbGFzc05hbWU6IFwibGstbGlzdFwiIH0pLFxuICAgICAgW2ssIGRdXG4gICAgKTtcbiAgICBmdW5jdGlvbiBTKHcsIHYsIE0pIHtcbiAgICAgIHJldHVybiB3ID09PSB2IHx8IE0gPT09IDAgJiYgdiA9PT0gXCJkZWZhdWx0XCI7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwidWxcIiwgeyByZWY6IGYsIC4uLmIgfSwgRS5tYXAoKHcsIHYpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImxpXCIsXG4gICAgICB7XG4gICAgICAgIGtleTogdy5kZXZpY2VJZCxcbiAgICAgICAgaWQ6IHcuZGV2aWNlSWQsXG4gICAgICAgIFwiZGF0YS1say1hY3RpdmVcIjogUyh3LmRldmljZUlkLCBoLCB2KSxcbiAgICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IFMody5kZXZpY2VJZCwgaCwgdiksXG4gICAgICAgIHJvbGU6IFwib3B0aW9uXCJcbiAgICAgIH0sXG4gICAgICAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImxrLWJ1dHRvblwiLCBvbkNsaWNrOiAoKSA9PiBDKHcuZGV2aWNlSWQpIH0sIHcubGFiZWwpXG4gICAgKSkpO1xuICB9XG4pLCBmYSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgbGFiZWw6IGEgPSBcIkFsbG93IEF1ZGlvXCIsIC4uLm4gfSwgcikge1xuICAgIGNvbnN0IGMgPSByZSgpLCB7IG1lcmdlZFByb3BzOiBzIH0gPSBlZSh7IHJvb206IGMsIHByb3BzOiBuIH0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiByLCAuLi5zIH0sIGEpO1xuICB9XG4pLCBoYSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgbGFiZWw6IGEsIC4uLm4gfSwgcikge1xuICAgIGNvbnN0IGMgPSByZSgpLCB7IG1lcmdlZFByb3BzOiBzLCBjYW5QbGF5QXVkaW86IGkgfSA9IGVlKHsgcm9vbTogYywgcHJvcHM6IG4gfSksIHsgbWVyZ2VkUHJvcHM6IGwsIGNhblBsYXlWaWRlbzogbyB9ID0geWUoeyByb29tOiBjLCBwcm9wczogcyB9KSwgeyBzdHlsZTogdSwgLi4uZCB9ID0gbDtcbiAgICByZXR1cm4gdS5kaXNwbGF5ID0gaSAmJiBvID8gXCJub25lXCIgOiBcImJsb2NrXCIsIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyByZWY6IHIsIHN0eWxlOiB1LCAuLi5kIH0sIGEgPz8gYFN0YXJ0ICR7aSA/IFwiVmlkZW9cIiA6IFwiQXVkaW9cIn1gKTtcbiAgfVxuKTtcbmZ1bmN0aW9uIGllKHQsIGEpIHtcbiAgc3dpdGNoICh0KSB7XG4gICAgY2FzZSB5LlNvdXJjZS5NaWNyb3Bob25lOlxuICAgICAgcmV0dXJuIGEgPyAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHJ0LCBudWxsKSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQobnQsIG51bGwpO1xuICAgIGNhc2UgeS5Tb3VyY2UuQ2FtZXJhOlxuICAgICAgcmV0dXJuIGEgPyAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGV0LCBudWxsKSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoS2UsIG51bGwpO1xuICAgIGNhc2UgeS5Tb3VyY2UuU2NyZWVuU2hhcmU6XG4gICAgICByZXR1cm4gYSA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoaXQsIG51bGwpIDogLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChzZSwgbnVsbCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybjtcbiAgfVxufVxuZnVuY3Rpb24gZnQodCkge1xuICBzd2l0Y2ggKHQpIHtcbiAgICBjYXNlIHouRXhjZWxsZW50OlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoY3QsIG51bGwpO1xuICAgIGNhc2Ugei5Hb29kOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQobHQsIG51bGwpO1xuICAgIGNhc2Ugei5Qb29yOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQob3QsIG51bGwpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChzdCwgbnVsbCk7XG4gIH1cbn1cbmNvbnN0IGdhID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihmdW5jdGlvbih7IHNob3dJY29uOiBhLCAuLi5uIH0sIHIpIHtcbiAgY29uc3QgeyBidXR0b25Qcm9wczogYywgZW5hYmxlZDogcyB9ID0gTWUobik7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiByLCAuLi5jIH0sIChhID8/ICEwKSAmJiBpZShuLnNvdXJjZSwgcyksIG4uY2hpbGRyZW4pO1xufSksIHVlID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihmdW5jdGlvbihhLCBuKSB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lOiByLCBxdWFsaXR5OiBjIH0gPSBSZShhKSwgcyA9IGUudXNlTWVtbygoKSA9PiAoeyAuLi5SKGEsIHsgY2xhc3NOYW1lOiByIH0pLCBcImRhdGEtbGstcXVhbGl0eVwiOiBjIH0pLCBbYywgYSwgcl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogbiwgLi4ucyB9LCBhLmNoaWxkcmVuID8/IGZ0KGMpKTtcbn0pLCBCID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24oeyBwYXJ0aWNpcGFudDogYSwgLi4ubiB9LCByKSB7XG4gICAgY29uc3QgYyA9IFplKGEpLCB7IGNsYXNzTmFtZTogcywgaW5mb09ic2VydmVyOiBpIH0gPSBlLnVzZU1lbW8oKCkgPT4gSGUoYyksIFtjXSksIHsgaWRlbnRpdHk6IGwsIG5hbWU6IG8gfSA9IGJlKGksIHtcbiAgICAgIG5hbWU6IGMubmFtZSxcbiAgICAgIGlkZW50aXR5OiBjLmlkZW50aXR5LFxuICAgICAgbWV0YWRhdGE6IGMubWV0YWRhdGFcbiAgICB9KSwgdSA9IGUudXNlTWVtbygoKSA9PiBSKG4sIHsgY2xhc3NOYW1lOiBzLCBcImRhdGEtbGstcGFydGljaXBhbnQtbmFtZVwiOiBvIH0pLCBbbiwgcywgb10pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IHJlZjogciwgLi4udSB9LCBvICE9PSBcIlwiID8gbyA6IGwsIG4uY2hpbGRyZW4pO1xuICB9XG4pLCBkZSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgdHJhY2tSZWY6IGEsIHNob3c6IG4gPSBcImFsd2F5c1wiLCAuLi5yIH0sIGMpIHtcbiAgICBjb25zdCB7IGNsYXNzTmFtZTogcywgaXNNdXRlZDogaSB9ID0gU2UoYSksIGwgPSBuID09PSBcImFsd2F5c1wiIHx8IG4gPT09IFwibXV0ZWRcIiAmJiBpIHx8IG4gPT09IFwidW5tdXRlZFwiICYmICFpLCBvID0gZS51c2VNZW1vKFxuICAgICAgKCkgPT4gUihyLCB7XG4gICAgICAgIGNsYXNzTmFtZTogc1xuICAgICAgfSksXG4gICAgICBbcywgcl1cbiAgICApO1xuICAgIHJldHVybiBsID8gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogYywgLi4ubywgXCJkYXRhLWxrLW11dGVkXCI6IGkgfSwgci5jaGlsZHJlbiA/PyBpZShhLnNvdXJjZSwgIWkpKSA6IG51bGw7XG4gIH1cbiksIGh0ID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB3aWR0aDogMzIwLFxuICAgIGhlaWdodDogMzIwLFxuICAgIHZpZXdCb3g6IFwiMCAwIDMyMCAzMjBcIixcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaWRZTWlkIG1lZXRcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIC4uLnRcbiAgfSxcbiAgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICBcInBhdGhcIixcbiAgICB7XG4gICAgICBkOiBcIk0xNjAgMTgwQzIwNC4xODIgMTgwIDI0MCAxNDQuMTgzIDI0MCAxMDBDMjQwIDU1LjgxNzIgMjA0LjE4MiAyMCAxNjAgMjBDMTE1LjgxNyAyMCA3OS45OTk3IDU1LjgxNzIgNzkuOTk5NyAxMDBDNzkuOTk5NyAxNDQuMTgzIDExNS44MTcgMTgwIDE2MCAxODBaXCIsXG4gICAgICBmaWxsOiBcIndoaXRlXCIsXG4gICAgICBmaWxsT3BhY2l0eTogMC4yNVxuICAgIH1cbiAgKSxcbiAgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICBcInBhdGhcIixcbiAgICB7XG4gICAgICBkOiBcIk05Ny42NTQyIDE5NC42MTRDMTAzLjI2NyAxOTEuODE4IDEwOS44NDEgMTkyLjQ4MSAxMTUuNTE5IDE5NS4xNDFDMTI5LjAyNSAyMDEuNDY2IDE0NC4xIDIwNSAxNTkuOTk5IDIwNUMxNzUuODk5IDIwNSAxOTAuOTczIDIwMS40NjYgMjA0LjQ4IDE5NS4xNDFDMjEwLjE1OCAxOTIuNDgxIDIxNi43MzIgMTkxLjgxOCAyMjIuMzQ1IDE5NC42MTRDMjYyLjcwMyAyMTQuNzE5IDI5MS45ODUgMjUzLjczNiAyOTguNTkxIDMwMC4wNjJDMzAwLjE1IDMxMC45OTcgMjkxLjA0NSAzMjAgMjgwIDMyMEgzOS45OTk3QzI4Ljk1NCAzMjAgMTkuODQ5NSAzMTAuOTk3IDIxLjQwODcgMzAwLjA2MkMyOC4wMTQgMjUzLjczNiA1Ny4yOTY2IDIxNC43MiA5Ny42NTQyIDE5NC42MTRaXCIsXG4gICAgICBmaWxsOiBcIndoaXRlXCIsXG4gICAgICBmaWxsT3BhY2l0eTogMC4yNVxuICAgIH1cbiAgKVxuKTtcbmZ1bmN0aW9uIG1lKHQsIGEgPSB7fSkge1xuICBjb25zdCBbbiwgcl0gPSBlLnVzZVN0YXRlKEJlKHQpKSwgW2MsIHNdID0gZS51c2VTdGF0ZShuID09IG51bGwgPyB2b2lkIDAgOiBuLmlzTXV0ZWQpLCBbaSwgbF0gPSBlLnVzZVN0YXRlKG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4uaXNTdWJzY3JpYmVkKSwgW28sIHVdID0gZS51c2VTdGF0ZShuID09IG51bGwgPyB2b2lkIDAgOiBuLnRyYWNrKSwgW2QsIGZdID0gZS51c2VTdGF0ZShcImxhbmRzY2FwZVwiKSwgbSA9IGUudXNlUmVmKCksIHsgY2xhc3NOYW1lOiBwLCB0cmFja09ic2VydmVyOiBFIH0gPSBlLnVzZU1lbW8oKCkgPT4gamUodCksIFtcbiAgICB0LnBhcnRpY2lwYW50LnNpZCA/PyB0LnBhcnRpY2lwYW50LmlkZW50aXR5LFxuICAgIHQuc291cmNlLFxuICAgIFYodCkgJiYgdC5wdWJsaWNhdGlvbi50cmFja1NpZFxuICBdKTtcbiAgcmV0dXJuIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoID0gRS5zdWJzY3JpYmUoKGcpID0+IHtcbiAgICAgIFQuZGVidWcoXCJ1cGRhdGUgdHJhY2tcIiwgZyksIHIoZyksIHMoZyA9PSBudWxsID8gdm9pZCAwIDogZy5pc011dGVkKSwgbChnID09IG51bGwgPyB2b2lkIDAgOiBnLmlzU3Vic2NyaWJlZCksIHUoZyA9PSBudWxsID8gdm9pZCAwIDogZy50cmFjayk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IGggPT0gbnVsbCA/IHZvaWQgMCA6IGgudW5zdWJzY3JpYmUoKTtcbiAgfSwgW0VdKSwgZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciBoLCBnO1xuICAgIHJldHVybiBvICYmIChtLmN1cnJlbnQgJiYgby5kZXRhY2gobS5jdXJyZW50KSwgKGggPSBhLmVsZW1lbnQpICE9IG51bGwgJiYgaC5jdXJyZW50ICYmICEoY2UodC5wYXJ0aWNpcGFudCkgJiYgKG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8ua2luZCkgPT09IFwiYXVkaW9cIikgJiYgby5hdHRhY2goYS5lbGVtZW50LmN1cnJlbnQpKSwgbS5jdXJyZW50ID0gKGcgPSBhLmVsZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBnLmN1cnJlbnQsICgpID0+IHtcbiAgICAgIG0uY3VycmVudCAmJiAobyA9PSBudWxsIHx8IG8uZGV0YWNoKG0uY3VycmVudCkpO1xuICAgIH07XG4gIH0sIFtvLCBhLmVsZW1lbnRdKSwgZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciBoLCBnO1xuICAgIGlmICh0eXBlb2YgKChoID0gbiA9PSBudWxsID8gdm9pZCAwIDogbi5kaW1lbnNpb25zKSA9PSBudWxsID8gdm9pZCAwIDogaC53aWR0aCkgPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgKChnID0gbiA9PSBudWxsID8gdm9pZCAwIDogbi5kaW1lbnNpb25zKSA9PSBudWxsID8gdm9pZCAwIDogZy5oZWlnaHQpID09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IGsgPSBuLmRpbWVuc2lvbnMud2lkdGggPiBuLmRpbWVuc2lvbnMuaGVpZ2h0ID8gXCJsYW5kc2NhcGVcIiA6IFwicG9ydHJhaXRcIjtcbiAgICAgIGYoayk7XG4gICAgfVxuICB9LCBbbl0pLCB7XG4gICAgcHVibGljYXRpb246IG4sXG4gICAgaXNNdXRlZDogYyxcbiAgICBpc1N1YnNjcmliZWQ6IGksXG4gICAgdHJhY2s6IG8sXG4gICAgZWxlbWVudFByb3BzOiBSKGEucHJvcHMsIHtcbiAgICAgIGNsYXNzTmFtZTogcCxcbiAgICAgIFwiZGF0YS1say1sb2NhbC1wYXJ0aWNpcGFudFwiOiB0LnBhcnRpY2lwYW50LmlzTG9jYWwsXG4gICAgICBcImRhdGEtbGstc291cmNlXCI6IG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4uc291cmNlLFxuICAgICAgLi4uKG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4ua2luZCkgPT09IFwidmlkZW9cIiAmJiB7IFwiZGF0YS1say1vcmllbnRhdGlvblwiOiBkIH1cbiAgICB9KVxuICB9O1xufVxudmFyIGd0ID0gXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIsIEcgPSBOYU4sIHZ0ID0gXCJbb2JqZWN0IFN5bWJvbF1cIiwgcHQgPSAvXlxccyt8XFxzKyQvZywgRXQgPSAvXlstK10weFswLTlhLWZdKyQvaSwgd3QgPSAvXjBiWzAxXSskL2ksIGt0ID0gL14wb1swLTddKyQvaSwgeXQgPSBwYXJzZUludCwgTXQgPSB0eXBlb2YgTCA9PSBcIm9iamVjdFwiICYmIEwgJiYgTC5PYmplY3QgPT09IE9iamVjdCAmJiBMLCBSdCA9IHR5cGVvZiBzZWxmID09IFwib2JqZWN0XCIgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGYsIGJ0ID0gTXQgfHwgUnQgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLCBTdCA9IE9iamVjdC5wcm90b3R5cGUsIEN0ID0gU3QudG9TdHJpbmcsIEl0ID0gTWF0aC5tYXgsIFB0ID0gTWF0aC5taW4sIFogPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGJ0LkRhdGUubm93KCk7XG59O1xuZnVuY3Rpb24gVHQodCwgYSwgbikge1xuICB2YXIgciwgYywgcywgaSwgbCwgbywgdSA9IDAsIGQgPSAhMSwgZiA9ICExLCBtID0gITA7XG4gIGlmICh0eXBlb2YgdCAhPSBcImZ1bmN0aW9uXCIpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihndCk7XG4gIGEgPSBRKGEpIHx8IDAsIGoobikgJiYgKGQgPSAhIW4ubGVhZGluZywgZiA9IFwibWF4V2FpdFwiIGluIG4sIHMgPSBmID8gSXQoUShuLm1heFdhaXQpIHx8IDAsIGEpIDogcywgbSA9IFwidHJhaWxpbmdcIiBpbiBuID8gISFuLnRyYWlsaW5nIDogbSk7XG4gIGZ1bmN0aW9uIHAodikge1xuICAgIHZhciBNID0gciwgeCA9IGM7XG4gICAgcmV0dXJuIHIgPSBjID0gdm9pZCAwLCB1ID0gdiwgaSA9IHQuYXBwbHkoeCwgTSksIGk7XG4gIH1cbiAgZnVuY3Rpb24gRSh2KSB7XG4gICAgcmV0dXJuIHUgPSB2LCBsID0gc2V0VGltZW91dChrLCBhKSwgZCA/IHAodikgOiBpO1xuICB9XG4gIGZ1bmN0aW9uIGgodikge1xuICAgIHZhciBNID0gdiAtIG8sIHggPSB2IC0gdSwgVyA9IGEgLSBNO1xuICAgIHJldHVybiBmID8gUHQoVywgcyAtIHgpIDogVztcbiAgfVxuICBmdW5jdGlvbiBnKHYpIHtcbiAgICB2YXIgTSA9IHYgLSBvLCB4ID0gdiAtIHU7XG4gICAgcmV0dXJuIG8gPT09IHZvaWQgMCB8fCBNID49IGEgfHwgTSA8IDAgfHwgZiAmJiB4ID49IHM7XG4gIH1cbiAgZnVuY3Rpb24gaygpIHtcbiAgICB2YXIgdiA9IFooKTtcbiAgICBpZiAoZyh2KSlcbiAgICAgIHJldHVybiBDKHYpO1xuICAgIGwgPSBzZXRUaW1lb3V0KGssIGgodikpO1xuICB9XG4gIGZ1bmN0aW9uIEModikge1xuICAgIHJldHVybiBsID0gdm9pZCAwLCBtICYmIHIgPyBwKHYpIDogKHIgPSBjID0gdm9pZCAwLCBpKTtcbiAgfVxuICBmdW5jdGlvbiBiKCkge1xuICAgIGwgIT09IHZvaWQgMCAmJiBjbGVhclRpbWVvdXQobCksIHUgPSAwLCByID0gbyA9IGMgPSBsID0gdm9pZCAwO1xuICB9XG4gIGZ1bmN0aW9uIFMoKSB7XG4gICAgcmV0dXJuIGwgPT09IHZvaWQgMCA/IGkgOiBDKFooKSk7XG4gIH1cbiAgZnVuY3Rpb24gdygpIHtcbiAgICB2YXIgdiA9IFooKSwgTSA9IGcodik7XG4gICAgaWYgKHIgPSBhcmd1bWVudHMsIGMgPSB0aGlzLCBvID0gdiwgTSkge1xuICAgICAgaWYgKGwgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuIEUobyk7XG4gICAgICBpZiAoZilcbiAgICAgICAgcmV0dXJuIGwgPSBzZXRUaW1lb3V0KGssIGEpLCBwKG8pO1xuICAgIH1cbiAgICByZXR1cm4gbCA9PT0gdm9pZCAwICYmIChsID0gc2V0VGltZW91dChrLCBhKSksIGk7XG4gIH1cbiAgcmV0dXJuIHcuY2FuY2VsID0gYiwgdy5mbHVzaCA9IFMsIHc7XG59XG5mdW5jdGlvbiBqKHQpIHtcbiAgdmFyIGEgPSB0eXBlb2YgdDtcbiAgcmV0dXJuICEhdCAmJiAoYSA9PSBcIm9iamVjdFwiIHx8IGEgPT0gXCJmdW5jdGlvblwiKTtcbn1cbmZ1bmN0aW9uIHh0KHQpIHtcbiAgcmV0dXJuICEhdCAmJiB0eXBlb2YgdCA9PSBcIm9iamVjdFwiO1xufVxuZnVuY3Rpb24gQXQodCkge1xuICByZXR1cm4gdHlwZW9mIHQgPT0gXCJzeW1ib2xcIiB8fCB4dCh0KSAmJiBDdC5jYWxsKHQpID09IHZ0O1xufVxuZnVuY3Rpb24gUSh0KSB7XG4gIGlmICh0eXBlb2YgdCA9PSBcIm51bWJlclwiKVxuICAgIHJldHVybiB0O1xuICBpZiAoQXQodCkpXG4gICAgcmV0dXJuIEc7XG4gIGlmIChqKHQpKSB7XG4gICAgdmFyIGEgPSB0eXBlb2YgdC52YWx1ZU9mID09IFwiZnVuY3Rpb25cIiA/IHQudmFsdWVPZigpIDogdDtcbiAgICB0ID0gaihhKSA/IGEgKyBcIlwiIDogYTtcbiAgfVxuICBpZiAodHlwZW9mIHQgIT0gXCJzdHJpbmdcIilcbiAgICByZXR1cm4gdCA9PT0gMCA/IHQgOiArdDtcbiAgdCA9IHQucmVwbGFjZShwdCwgXCJcIik7XG4gIHZhciBuID0gd3QudGVzdCh0KTtcbiAgcmV0dXJuIG4gfHwga3QudGVzdCh0KSA/IHl0KHQuc2xpY2UoMiksIG4gPyAyIDogOCkgOiBFdC50ZXN0KHQpID8gRyA6ICt0O1xufVxudmFyIE50ID0gVHQ7XG5jb25zdCBYID0gLyogQF9fUFVSRV9fICovIE9lKE50KTtcbmZ1bmN0aW9uIEx0KHQpIHtcbiAgY29uc3QgYSA9IEkodCk7XG4gIGEuY3VycmVudCA9IHQsIFAoXG4gICAgKCkgPT4gKCkgPT4ge1xuICAgICAgYS5jdXJyZW50KCk7XG4gICAgfSxcbiAgICBbXVxuICApO1xufVxuZnVuY3Rpb24gVnQodCwgYSA9IDUwMCwgbikge1xuICBjb25zdCByID0gSSgpO1xuICBMdCgoKSA9PiB7XG4gICAgci5jdXJyZW50ICYmIHIuY3VycmVudC5jYW5jZWwoKTtcbiAgfSk7XG4gIGNvbnN0IGMgPSBnZSgoKSA9PiB7XG4gICAgY29uc3QgcyA9IFgodCwgYSwgbiksIGkgPSAoLi4ubCkgPT4gcyguLi5sKTtcbiAgICByZXR1cm4gaS5jYW5jZWwgPSAoKSA9PiB7XG4gICAgICBzLmNhbmNlbCgpO1xuICAgIH0sIGkuaXNQZW5kaW5nID0gKCkgPT4gISFyLmN1cnJlbnQsIGkuZmx1c2ggPSAoKSA9PiBzLmZsdXNoKCksIGk7XG4gIH0sIFt0LCBhLCBuXSk7XG4gIHJldHVybiBQKCgpID0+IHtcbiAgICByLmN1cnJlbnQgPSBYKHQsIGEsIG4pO1xuICB9LCBbdCwgYSwgbl0pLCBjO1xufVxuZnVuY3Rpb24genQodCwgYSwgbikge1xuICBjb25zdCByID0gKHUsIGQpID0+IHUgPT09IGQsIGMgPSB0IGluc3RhbmNlb2YgRnVuY3Rpb24gPyB0KCkgOiB0LCBbcywgaV0gPSBBKGMpLCBsID0gSShjKSwgbyA9IFZ0KFxuICAgIGksXG4gICAgYSxcbiAgICBuXG4gICk7XG4gIHJldHVybiByKGwuY3VycmVudCwgYykgfHwgKG8oYyksIGwuY3VycmVudCA9IGMpLCBbcywgb107XG59XG5mdW5jdGlvbiBGdCh7XG4gIHRocmVzaG9sZDogdCA9IDAsXG4gIHJvb3Q6IGEgPSBudWxsLFxuICByb290TWFyZ2luOiBuID0gXCIwJVwiLFxuICBmcmVlemVPbmNlVmlzaWJsZTogciA9ICExLFxuICBpbml0aWFsSXNJbnRlcnNlY3Rpbmc6IGMgPSAhMSxcbiAgb25DaGFuZ2U6IHNcbn0gPSB7fSkge1xuICB2YXIgaTtcbiAgY29uc3QgW2wsIG9dID0gQShudWxsKSwgW3UsIGRdID0gQSgoKSA9PiAoe1xuICAgIGlzSW50ZXJzZWN0aW5nOiBjLFxuICAgIGVudHJ5OiB2b2lkIDBcbiAgfSkpLCBmID0gSSgpO1xuICBmLmN1cnJlbnQgPSBzO1xuICBjb25zdCBtID0gKChpID0gdS5lbnRyeSkgPT0gbnVsbCA/IHZvaWQgMCA6IGkuaXNJbnRlcnNlY3RpbmcpICYmIHI7XG4gIFAoKCkgPT4ge1xuICAgIGlmICghbCB8fCAhKFwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcIiBpbiB3aW5kb3cpIHx8IG0pXG4gICAgICByZXR1cm47XG4gICAgbGV0IGg7XG4gICAgY29uc3QgZyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIChrKSA9PiB7XG4gICAgICAgIGNvbnN0IEMgPSBBcnJheS5pc0FycmF5KGcudGhyZXNob2xkcykgPyBnLnRocmVzaG9sZHMgOiBbZy50aHJlc2hvbGRzXTtcbiAgICAgICAgay5mb3JFYWNoKChiKSA9PiB7XG4gICAgICAgICAgY29uc3QgUyA9IGIuaXNJbnRlcnNlY3RpbmcgJiYgQy5zb21lKCh3KSA9PiBiLmludGVyc2VjdGlvblJhdGlvID49IHcpO1xuICAgICAgICAgIGQoeyBpc0ludGVyc2VjdGluZzogUywgZW50cnk6IGIgfSksIGYuY3VycmVudCAmJiBmLmN1cnJlbnQoUywgYiksIFMgJiYgciAmJiBoICYmIChoKCksIGggPSB2b2lkIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB7IHRocmVzaG9sZDogdCwgcm9vdDogYSwgcm9vdE1hcmdpbjogbiB9XG4gICAgKTtcbiAgICByZXR1cm4gZy5vYnNlcnZlKGwpLCAoKSA9PiB7XG4gICAgICBnLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICB9LCBbXG4gICAgbCxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgSlNPTi5zdHJpbmdpZnkodCksXG4gICAgYSxcbiAgICBuLFxuICAgIG0sXG4gICAgclxuICBdKTtcbiAgY29uc3QgcCA9IEkobnVsbCk7XG4gIFAoKCkgPT4ge1xuICAgIHZhciBoO1xuICAgICFsICYmICgoaCA9IHUuZW50cnkpICE9IG51bGwgJiYgaC50YXJnZXQpICYmICFyICYmICFtICYmIHAuY3VycmVudCAhPT0gdS5lbnRyeS50YXJnZXQgJiYgKHAuY3VycmVudCA9IHUuZW50cnkudGFyZ2V0LCBkKHsgaXNJbnRlcnNlY3Rpbmc6IGMsIGVudHJ5OiB2b2lkIDAgfSkpO1xuICB9LCBbbCwgdS5lbnRyeSwgciwgbSwgY10pO1xuICBjb25zdCBFID0gW1xuICAgIG8sXG4gICAgISF1LmlzSW50ZXJzZWN0aW5nLFxuICAgIHUuZW50cnlcbiAgXTtcbiAgcmV0dXJuIEUucmVmID0gRVswXSwgRS5pc0ludGVyc2VjdGluZyA9IEVbMV0sIEUuZW50cnkgPSBFWzJdLCBFO1xufVxuY29uc3QgWnQgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbih7XG4gICAgb25UcmFja0NsaWNrOiBhLFxuICAgIG9uQ2xpY2s6IG4sXG4gICAgb25TdWJzY3JpcHRpb25TdGF0dXNDaGFuZ2VkOiByLFxuICAgIHRyYWNrUmVmOiBjLFxuICAgIG1hbmFnZVN1YnNjcmlwdGlvbjogcyxcbiAgICAuLi5pXG4gIH0sIGwpIHtcbiAgICBjb25zdCBvID0gTihjKSwgdSA9IGUudXNlUmVmKG51bGwpO1xuICAgIGUudXNlSW1wZXJhdGl2ZUhhbmRsZShsLCAoKSA9PiB1LmN1cnJlbnQpO1xuICAgIGNvbnN0IGQgPSBGdCh7IHJvb3Q6IHUuY3VycmVudCB9KSwgW2ZdID0genQoZCwgM2UzKTtcbiAgICBlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBzICYmIG8ucHVibGljYXRpb24gaW5zdGFuY2VvZiBIICYmIChmID09IG51bGwgPyB2b2lkIDAgOiBmLmlzSW50ZXJzZWN0aW5nKSA9PT0gITEgJiYgKGQgPT0gbnVsbCA/IHZvaWQgMCA6IGQuaXNJbnRlcnNlY3RpbmcpID09PSAhMSAmJiBvLnB1YmxpY2F0aW9uLnNldFN1YnNjcmliZWQoITEpO1xuICAgIH0sIFtmLCBvLCBzXSksIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIHMgJiYgby5wdWJsaWNhdGlvbiBpbnN0YW5jZW9mIEggJiYgKGQgPT0gbnVsbCA/IHZvaWQgMCA6IGQuaXNJbnRlcnNlY3RpbmcpID09PSAhMCAmJiBvLnB1YmxpY2F0aW9uLnNldFN1YnNjcmliZWQoITApO1xuICAgIH0sIFtkLCBvLCBzXSk7XG4gICAgY29uc3Qge1xuICAgICAgZWxlbWVudFByb3BzOiBtLFxuICAgICAgcHVibGljYXRpb246IHAsXG4gICAgICBpc1N1YnNjcmliZWQ6IEVcbiAgICB9ID0gbWUobywge1xuICAgICAgZWxlbWVudDogdSxcbiAgICAgIHByb3BzOiBpXG4gICAgfSk7XG4gICAgZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgciA9PSBudWxsIHx8IHIoISFFKTtcbiAgICB9LCBbRSwgcl0pO1xuICAgIGNvbnN0IGggPSAoZykgPT4ge1xuICAgICAgbiA9PSBudWxsIHx8IG4oZyksIGEgPT0gbnVsbCB8fCBhKHsgcGFydGljaXBhbnQ6IG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8ucGFydGljaXBhbnQsIHRyYWNrOiBwIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiLCB7IHJlZjogdSwgLi4ubSwgbXV0ZWQ6ICEwLCBvbkNsaWNrOiBoIH0pO1xuICB9XG4pLCBxID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24oeyB0cmFja1JlZjogYSwgb25TdWJzY3JpcHRpb25TdGF0dXNDaGFuZ2VkOiBuLCB2b2x1bWU6IHIsIG11dGVkOiBjLCAuLi5zIH0sIGkpIHtcbiAgICBjb25zdCBsID0gTihhKSwgbyA9IGUudXNlUmVmKG51bGwpO1xuICAgIGUudXNlSW1wZXJhdGl2ZUhhbmRsZShpLCAoKSA9PiBvLmN1cnJlbnQpO1xuICAgIGNvbnN0IHtcbiAgICAgIGVsZW1lbnRQcm9wczogdSxcbiAgICAgIGlzU3Vic2NyaWJlZDogZCxcbiAgICAgIHRyYWNrOiBmLFxuICAgICAgcHVibGljYXRpb246IG1cbiAgICB9ID0gbWUobCwge1xuICAgICAgZWxlbWVudDogbyxcbiAgICAgIHByb3BzOiBzXG4gICAgfSk7XG4gICAgcmV0dXJuIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIG4gPT0gbnVsbCB8fCBuKCEhZCk7XG4gICAgfSwgW2QsIG5dKSwgZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgZiA9PT0gdm9pZCAwIHx8IHIgPT09IHZvaWQgMCB8fCAoZiBpbnN0YW5jZW9mIHplID8gZi5zZXRWb2x1bWUocikgOiBULndhcm4oXCJWb2x1bWUgY2FuIG9ubHkgYmUgc2V0IG9uIHJlbW90ZSBhdWRpbyB0cmFja3MuXCIpKTtcbiAgICB9LCBbciwgZl0pLCBlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBtID09PSB2b2lkIDAgfHwgYyA9PT0gdm9pZCAwIHx8IChtIGluc3RhbmNlb2YgSCA/IG0uc2V0RW5hYmxlZCghYykgOiBULndhcm4oXCJDYW4gb25seSBjYWxsIHNldEVuYWJsZWQgb24gcmVtb3RlIHRyYWNrIHB1YmxpY2F0aW9ucy5cIikpO1xuICAgIH0sIFtjLCBtLCBmXSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiLCB7IHJlZjogbywgLi4udSB9KTtcbiAgfVxuKTtcbmZ1bmN0aW9uIEh0KHQpIHtcbiAgY29uc3QgYSA9ICEhX2UoKTtcbiAgcmV0dXJuIHQucGFydGljaXBhbnQgJiYgIWEgPyAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGxlLlByb3ZpZGVyLCB7IHZhbHVlOiB0LnBhcnRpY2lwYW50IH0sIHQuY2hpbGRyZW4pIDogLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChlLkZyYWdtZW50LCBudWxsLCB0LmNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIEJ0KHQpIHtcbiAgY29uc3QgYSA9ICEhTygpO1xuICByZXR1cm4gdC50cmFja1JlZiAmJiAhYSA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXy5Qcm92aWRlciwgeyB2YWx1ZTogdC50cmFja1JlZiB9LCB0LmNoaWxkcmVuKSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgdC5jaGlsZHJlbik7XG59XG5jb25zdCBqdCA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHtcbiAgICB0cmFja1JlZjogYSxcbiAgICBjaGlsZHJlbjogbixcbiAgICBvblBhcnRpY2lwYW50Q2xpY2s6IHIsXG4gICAgZGlzYWJsZVNwZWFraW5nSW5kaWNhdG9yOiBjLFxuICAgIC4uLnNcbiAgfSwgaSkge1xuICAgIHZhciBwLCBFO1xuICAgIGNvbnN0IGwgPSBOKGEpLCB7IGVsZW1lbnRQcm9wczogbyB9ID0gdGUoe1xuICAgICAgaHRtbFByb3BzOiBzLFxuICAgICAgZGlzYWJsZVNwZWFraW5nSW5kaWNhdG9yOiBjLFxuICAgICAgb25QYXJ0aWNpcGFudENsaWNrOiByLFxuICAgICAgdHJhY2tSZWY6IGxcbiAgICB9KSwgdSA9IENlKGwucGFydGljaXBhbnQpLCBkID0gJGUoKSwgZiA9IChwID0gcWUoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IHAuYXV0b1N1YnNjcmlwdGlvbiwgbSA9IGUudXNlQ2FsbGJhY2soXG4gICAgICAoaCkgPT4ge1xuICAgICAgICBsLnNvdXJjZSAmJiAhaCAmJiBkICYmIGQucGluLmRpc3BhdGNoICYmIFdlKGwsIGQucGluLnN0YXRlKSAmJiBkLnBpbi5kaXNwYXRjaCh7IG1zZzogXCJjbGVhcl9waW5cIiB9KTtcbiAgICAgIH0sXG4gICAgICBbbCwgZF1cbiAgICApO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBpLCBzdHlsZTogeyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiIH0sIC4uLm8gfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChCdCwgeyB0cmFja1JlZjogbCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEh0LCB7IHBhcnRpY2lwYW50OiBsLnBhcnRpY2lwYW50IH0sIG4gPz8gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChlLkZyYWdtZW50LCBudWxsLCBWKGwpICYmICgoKEUgPSBsLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogRS5raW5kKSA9PT0gXCJ2aWRlb1wiIHx8IGwuc291cmNlID09PSB5LlNvdXJjZS5DYW1lcmEgfHwgbC5zb3VyY2UgPT09IHkuU291cmNlLlNjcmVlblNoYXJlKSA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBadCxcbiAgICAgIHtcbiAgICAgICAgdHJhY2tSZWY6IGwsXG4gICAgICAgIG9uU3Vic2NyaXB0aW9uU3RhdHVzQ2hhbmdlZDogbSxcbiAgICAgICAgbWFuYWdlU3Vic2NyaXB0aW9uOiBmXG4gICAgICB9XG4gICAgKSA6IFYobCkgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICAgIHEsXG4gICAgICB7XG4gICAgICAgIHRyYWNrUmVmOiBsLFxuICAgICAgICBvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWQ6IG1cbiAgICAgIH1cbiAgICApLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhcnRpY2lwYW50LXBsYWNlaG9sZGVyXCIgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChodCwgbnVsbCkpLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhcnRpY2lwYW50LW1ldGFkYXRhXCIgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1tZXRhZGF0YS1pdGVtXCIgfSwgbC5zb3VyY2UgPT09IHkuU291cmNlLkNhbWVyYSA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgdSAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGF0LCB7IHN0eWxlOiB7IG1hcmdpblJpZ2h0OiBcIjAuMjVyZW1cIiB9IH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgICAgZGUsXG4gICAgICB7XG4gICAgICAgIHRyYWNrUmVmOiB7XG4gICAgICAgICAgcGFydGljaXBhbnQ6IGwucGFydGljaXBhbnQsXG4gICAgICAgICAgc291cmNlOiB5LlNvdXJjZS5NaWNyb3Bob25lXG4gICAgICAgIH0sXG4gICAgICAgIHNob3c6IFwibXV0ZWRcIlxuICAgICAgfVxuICAgICksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoQiwgbnVsbCkpIDogLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChlLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHNlLCB7IHN0eWxlOiB7IG1hcmdpblJpZ2h0OiBcIjAuMjVyZW1cIiB9IH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEIsIG51bGwsIFwiJ3Mgc2NyZWVuXCIpKSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQodWUsIHsgY2xhc3NOYW1lOiBcImxrLXBhcnRpY2lwYW50LW1ldGFkYXRhLWl0ZW1cIiB9KSkpLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGR0LCB7IHRyYWNrUmVmOiBsIH0pKSkpO1xuICB9XG4pO1xuZnVuY3Rpb24gdmEodCkge1xuICBjb25zdCBhID0gUih0LCB7IGNsYXNzTmFtZTogXCJsay1mb2N1cy1sYXlvdXRcIiB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyAuLi5hIH0sIHQuY2hpbGRyZW4pO1xufVxuZnVuY3Rpb24gcGEoeyB0cmFja1JlZjogdCwgLi4uYSB9KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGp0LCB7IHRyYWNrUmVmOiB0LCAuLi5hIH0pO1xufVxuZnVuY3Rpb24gZmUoeyB0cmFja3M6IHQsIC4uLmEgfSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChlLkZyYWdtZW50LCBudWxsLCB0Lm1hcCgobikgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICBfLlByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHZhbHVlOiBuLFxuICAgICAga2V5OiBvZShuKVxuICAgIH0sXG4gICAgJChhLmNoaWxkcmVuKVxuICApKSk7XG59XG5mdW5jdGlvbiBPdCh7XG4gIHRvdGFsUGFnZUNvdW50OiB0LFxuICBuZXh0UGFnZTogYSxcbiAgcHJldlBhZ2U6IG4sXG4gIGN1cnJlbnRQYWdlOiByLFxuICBwYWdlc0NvbnRhaW5lcjogY1xufSkge1xuICBjb25zdCBbcywgaV0gPSBlLnVzZVN0YXRlKCExKTtcbiAgcmV0dXJuIGUudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgbDtcbiAgICByZXR1cm4gYyAmJiAobCA9IERlKGMuY3VycmVudCwgMmUzKS5zdWJzY3JpYmUoXG4gICAgICBpXG4gICAgKSksICgpID0+IHtcbiAgICAgIGwgJiYgbC51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFtjXSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstcGFnaW5hdGlvbi1jb250cm9sXCIsIFwiZGF0YS1say11c2VyLWludGVyYWN0aW9uXCI6IHMgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJsay1idXR0b25cIiwgb25DbGljazogbiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEQsIG51bGwpKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwibGstcGFnaW5hdGlvbi1jb3VudFwiIH0sIGAke3J9IG9mICR7dH1gKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJsay1idXR0b25cIiwgb25DbGljazogYSB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEQsIG51bGwpKSk7XG59XG5jb25zdCBfdCA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgdG90YWxQYWdlQ291bnQ6IGEsIGN1cnJlbnRQYWdlOiBuIH0sIHIpIHtcbiAgICBjb25zdCBjID0gbmV3IEFycmF5KGEpLmZpbGwoXCJcIikubWFwKChzLCBpKSA9PiBpICsgMSA9PT0gbiA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgXCJkYXRhLWxrLWFjdGl2ZVwiOiAhMCwga2V5OiBpIH0pIDogLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBrZXk6IGkgfSkpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiByLCBjbGFzc05hbWU6IFwibGstcGFnaW5hdGlvbi1pbmRpY2F0b3JcIiB9LCBjKTtcbiAgfVxuKTtcbmZ1bmN0aW9uIEVhKHsgdHJhY2tzOiB0LCAuLi5hIH0pIHtcbiAgY29uc3QgbiA9IGUuY3JlYXRlUmVmKCksIHIgPSBlLnVzZU1lbW8oXG4gICAgKCkgPT4gUihhLCB7IGNsYXNzTmFtZTogXCJsay1ncmlkLWxheW91dFwiIH0pLFxuICAgIFthXVxuICApLCB7IGxheW91dDogYyB9ID0gSWUobiwgdC5sZW5ndGgpLCBzID0gUGUoYy5tYXhUaWxlcywgdCk7XG4gIHJldHVybiBUZShuLCB7XG4gICAgb25MZWZ0U3dpcGU6IHMubmV4dFBhZ2UsXG4gICAgb25SaWdodFN3aXBlOiBzLnByZXZQYWdlXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBuLCBcImRhdGEtbGstcGFnaW5hdGlvblwiOiBzLnRvdGFsUGFnZUNvdW50ID4gMSwgLi4uciB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGZlLCB7IHRyYWNrczogcy50cmFja3MgfSwgYS5jaGlsZHJlbiksIHQubGVuZ3RoID4gYy5tYXhUaWxlcyAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgX3QsXG4gICAge1xuICAgICAgdG90YWxQYWdlQ291bnQ6IHMudG90YWxQYWdlQ291bnQsXG4gICAgICBjdXJyZW50UGFnZTogcy5jdXJyZW50UGFnZVxuICAgIH1cbiAgKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChPdCwgeyBwYWdlc0NvbnRhaW5lcjogbiwgLi4ucyB9KSkpO1xufVxuY29uc3QgJHQgPSAxMzAsIHF0ID0gMTQwLCBZID0gMSwgaGUgPSAxNiAvIDEwLCBXdCA9ICgxIC0gaGUpICogLTE7XG5mdW5jdGlvbiB3YSh7IHRyYWNrczogdCwgb3JpZW50YXRpb246IGEsIC4uLm4gfSkge1xuICBjb25zdCByID0gZS51c2VSZWYobnVsbCksIFtjLCBzXSA9IGUudXNlU3RhdGUoMCksIHsgd2lkdGg6IGksIGhlaWdodDogbCB9ID0geGUociksIG8gPSBhIHx8IChsID49IGkgPyBcInZlcnRpY2FsXCIgOiBcImhvcml6b250YWxcIiksIHUgPSBvID09PSBcInZlcnRpY2FsXCIgPyBNYXRoLm1heChpICogV3QsICR0KSA6IE1hdGgubWF4KGwgKiBoZSwgcXQpLCBkID0gVWUoKSwgZiA9IE1hdGgubWF4KG8gPT09IFwidmVydGljYWxcIiA/IChsIC0gZCkgLyB1IDogKGkgLSBkKSAvIHUsIFkpO1xuICBsZXQgbSA9IE1hdGgucm91bmQoZik7XG4gIE1hdGguYWJzKGYgLSBjKSA8IDAuNSA/IG0gPSBNYXRoLnJvdW5kKGMpIDogYyAhPT0gZiAmJiBzKGYpO1xuICBjb25zdCBwID0gQWUodCwgbSk7XG4gIHJldHVybiBlLnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgci5jdXJyZW50ICYmIChyLmN1cnJlbnQuZGF0YXNldC5sa09yaWVudGF0aW9uID0gbywgci5jdXJyZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLS1say1tYXgtdmlzaWJsZS10aWxlc1wiLCBtLnRvU3RyaW5nKCkpKTtcbiAgfSwgW20sIG9dKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImFzaWRlXCIsIHsga2V5OiBvLCBjbGFzc05hbWU6IFwibGstY2Fyb3VzZWxcIiwgcmVmOiByLCAuLi5uIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZmUsIHsgdHJhY2tzOiBwIH0sIG4uY2hpbGRyZW4pKTtcbn1cbmZ1bmN0aW9uIGthKHtcbiAgdmFsdWU6IHQsXG4gIG9uUGluQ2hhbmdlOiBhLFxuICBvbldpZGdldENoYW5nZTogbixcbiAgY2hpbGRyZW46IHJcbn0pIHtcbiAgY29uc3QgYyA9IEdlKHQpO1xuICByZXR1cm4gZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIFQuZGVidWcoXCJQaW5TdGF0ZSBVcGRhdGVkXCIsIHsgc3RhdGU6IGMucGluLnN0YXRlIH0pLCBhICYmIGMucGluLnN0YXRlICYmIGEoYy5waW4uc3RhdGUpO1xuICB9LCBbYy5waW4uc3RhdGUsIGFdKSwgZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIFQuZGVidWcoXCJXaWRnZXQgVXBkYXRlZFwiLCB7IHdpZGdldFN0YXRlOiBjLndpZGdldC5zdGF0ZSB9KSwgbiAmJiBjLndpZGdldC5zdGF0ZSAmJiBuKGMud2lkZ2V0LnN0YXRlKTtcbiAgfSwgW24sIGMud2lkZ2V0LnN0YXRlXSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQobmUuUHJvdmlkZXIsIHsgdmFsdWU6IGMgfSwgcik7XG59XG5jb25zdCB5YSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgdHJhY2tSZWY6IGEsIC4uLm4gfSwgcikge1xuICAgIGNvbnN0IGQgPSBOKGEpLCBmID0gYWUoZCwgeyBiYW5kczogNywgbG9QYXNzOiAzMDAgfSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcInN2Z1wiLFxuICAgICAge1xuICAgICAgICByZWY6IHIsXG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgdmlld0JveDogXCIwIDAgMjAwIDkwXCIsXG4gICAgICAgIC4uLm4sXG4gICAgICAgIGNsYXNzTmFtZTogXCJsay1hdWRpby12aXN1YWxpemVyXCJcbiAgICAgIH0sXG4gICAgICAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7IHg6IFwiMFwiLCB5OiBcIjBcIiwgd2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwJVwiIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICAgICAgXCJnXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7KDIwMCAtIDcgKiAxMCkgLyAyfXB4LCAwKWBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGYubWFwKChtLCBwKSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIFwicmVjdFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogcCxcbiAgICAgICAgICAgIHg6IHAgKiAxMCxcbiAgICAgICAgICAgIHk6IDkwIC8gMiAtIG0gKiA1MCAvIDIsXG4gICAgICAgICAgICB3aWR0aDogNixcbiAgICAgICAgICAgIGhlaWdodDogbSAqIDUwXG4gICAgICAgICAgfVxuICAgICAgICApKVxuICAgICAgKVxuICAgICk7XG4gIH1cbik7XG5mdW5jdGlvbiBNYSh7IHBhcnRpY2lwYW50czogdCwgLi4uYSB9KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIHQubWFwKChuKSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGxlLlByb3ZpZGVyLCB7IHZhbHVlOiBuLCBrZXk6IG4uaWRlbnRpdHkgfSwgJChhLmNoaWxkcmVuKSkpKTtcbn1cbmZ1bmN0aW9uIFJhKHsgdm9sdW1lOiB0LCBtdXRlZDogYSB9KSB7XG4gIGNvbnN0IG4gPSBOZShcbiAgICBbeS5Tb3VyY2UuTWljcm9waG9uZSwgeS5Tb3VyY2UuU2NyZWVuU2hhcmVBdWRpbywgeS5Tb3VyY2UuVW5rbm93bl0sXG4gICAge1xuICAgICAgdXBkYXRlT25seU9uOiBbXSxcbiAgICAgIG9ubHlTdWJzY3JpYmVkOiAhMFxuICAgIH1cbiAgKS5maWx0ZXIoKHIpID0+ICFjZShyLnBhcnRpY2lwYW50KSAmJiByLnB1YmxpY2F0aW9uLmtpbmQgPT09IHkuS2luZC5BdWRpbyk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgZGlzcGxheTogXCJub25lXCIgfSB9LCBuLm1hcCgocikgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICBxLFxuICAgIHtcbiAgICAgIGtleTogb2UociksXG4gICAgICB0cmFja1JlZjogcixcbiAgICAgIHZvbHVtZTogdCxcbiAgICAgIG11dGVkOiBhXG4gICAgfVxuICApKSk7XG59XG5jb25zdCBiYSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoZnVuY3Rpb24oeyBjaGlsZHJlblBvc2l0aW9uOiBhID0gXCJiZWZvcmVcIiwgY2hpbGRyZW46IG4sIC4uLnIgfSwgYykge1xuICBjb25zdCB7IG5hbWU6IHMgfSA9IExlKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IHJlZjogYywgLi4uciB9LCBhID09PSBcImJlZm9yZVwiICYmIG4sIHMsIGEgPT09IFwiYWZ0ZXJcIiAmJiBuKTtcbn0pO1xuZnVuY3Rpb24gRHQodCkge1xuICBjb25zdCBhID0gZS51c2VNZW1vKCgpID0+IFIodCwgeyBjbGFzc05hbWU6IFwibGstdG9hc3RcIiB9KSwgW3RdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyAuLi5hIH0sIHQuY2hpbGRyZW4pO1xufVxuY29uc3QgVXQgPSAodCkgPT4ge1xuICBjb25zdCBhID0gW107XG4gIGZvciAobGV0IG4gPSAwOyBuIDwgdDsgbisrKVxuICAgIGEucHVzaChbbiwgdCAtIDEgLSBuXSk7XG4gIHJldHVybiBhO1xufSwgSiA9ICh0KSA9PiBbW01hdGguZmxvb3IodCAvIDIpXSwgWy0xXV0sIEd0ID0gKHQsIGEsIG4pID0+IHtcbiAgY29uc3QgW3IsIGNdID0gQSgwKSwgW3MsIGldID0gQShbW11dKTtcbiAgUCgoKSA9PiB7XG4gICAgaWYgKHQgPT09IFwidGhpbmtpbmdcIilcbiAgICAgIGkoSihhKSk7XG4gICAgZWxzZSBpZiAodCA9PT0gXCJjb25uZWN0aW5nXCIgfHwgdCA9PT0gXCJpbml0aWFsaXppbmdcIikge1xuICAgICAgY29uc3QgbyA9IFsuLi5VdChhKV07XG4gICAgICBpKG8pO1xuICAgIH0gZWxzZSBpKHQgPT09IFwibGlzdGVuaW5nXCIgPyBKKGEpIDogdCA9PT0gdm9pZCAwID8gW25ldyBBcnJheShhKS5maWxsKDApLm1hcCgobywgdSkgPT4gdSldIDogW1tdXSk7XG4gICAgYygwKTtcbiAgfSwgW3QsIGFdKTtcbiAgY29uc3QgbCA9IEkobnVsbCk7XG4gIHJldHVybiBQKCgpID0+IHtcbiAgICBsZXQgbyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IHUgPSAoZCkgPT4ge1xuICAgICAgZCAtIG8gPj0gbiAmJiAoYygobSkgPT4gbSArIDEpLCBvID0gZCksIGwuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1KTtcbiAgICB9O1xuICAgIHJldHVybiBsLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodSksICgpID0+IHtcbiAgICAgIGwuY3VycmVudCAhPT0gbnVsbCAmJiBjYW5jZWxBbmltYXRpb25GcmFtZShsLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtuLCBhLCB0LCBzLmxlbmd0aF0pLCBzW3IgJSBzLmxlbmd0aF07XG59LCBRdCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKFtcbiAgW1wiY29ubmVjdGluZ1wiLCAyZTNdLFxuICBbXCJpbml0aWFsaXppbmdcIiwgMmUzXSxcbiAgW1wibGlzdGVuaW5nXCIsIDUwMF0sXG4gIFtcInRoaW5raW5nXCIsIDE1MF1cbl0pLCBYdCA9ICh0LCBhKSA9PiB7XG4gIGlmICh0ID09PSB2b2lkIDApXG4gICAgcmV0dXJuIDFlMztcbiAgbGV0IG4gPSBRdC5nZXQodCk7XG4gIGlmIChuKVxuICAgIHN3aXRjaCAodCkge1xuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjpcbiAgICAgICAgbiAvPSBhO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIHJldHVybiBuO1xufSwgWXQgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbih7IHN0YXRlOiBhLCBvcHRpb25zOiBuLCBiYXJDb3VudDogciA9IDE1LCB0cmFja1JlZjogYywgY2hpbGRyZW46IHMsIC4uLmkgfSwgbCkge1xuICAgIGNvbnN0IG8gPSBSKGksIHsgY2xhc3NOYW1lOiBcImxrLWF1ZGlvLWJhci12aXN1YWxpemVyXCIgfSk7XG4gICAgbGV0IHUgPSBPKCk7XG4gICAgYyAmJiAodSA9IGMpO1xuICAgIGNvbnN0IGQgPSBhZSh1LCB7XG4gICAgICBiYW5kczogcixcbiAgICAgIGxvUGFzczogMTAwLFxuICAgICAgaGlQYXNzOiAyMDBcbiAgICB9KSwgZiA9IChuID09IG51bGwgPyB2b2lkIDAgOiBuLm1pbkhlaWdodCkgPz8gMjAsIG0gPSAobiA9PSBudWxsID8gdm9pZCAwIDogbi5tYXhIZWlnaHQpID8/IDEwMCwgcCA9IEd0KFxuICAgICAgYSxcbiAgICAgIHIsXG4gICAgICBYdChhLCByKSA/PyAxMDBcbiAgICApO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBsLCAuLi5vLCBcImRhdGEtbGstdmEtc3RhdGVcIjogYSB9LCBkLm1hcChcbiAgICAgIChFLCBoKSA9PiBzID8gJChzLCB7XG4gICAgICAgIFwiZGF0YS1say1oaWdobGlnaHRlZFwiOiBwLmluY2x1ZGVzKGgpLFxuICAgICAgICBcImRhdGEtbGstYmFyLWluZGV4XCI6IGgsXG4gICAgICAgIGNsYXNzOiBcImxrLWF1ZGlvLWJhclwiLFxuICAgICAgICBzdHlsZTogeyBoZWlnaHQ6IGAke01hdGgubWluKG0sIE1hdGgubWF4KGYsIEUgKiAxMDAgKyA1KSl9JWAgfVxuICAgICAgfSkgOiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxuICAgICAgICBcInNwYW5cIixcbiAgICAgICAge1xuICAgICAgICAgIGtleTogaCxcbiAgICAgICAgICBcImRhdGEtbGstaGlnaGxpZ2h0ZWRcIjogcC5pbmNsdWRlcyhoKSxcbiAgICAgICAgICBcImRhdGEtbGstYmFyLWluZGV4XCI6IGgsXG4gICAgICAgICAgY2xhc3NOYW1lOiBgbGstYXVkaW8tYmFyICR7cC5pbmNsdWRlcyhoKSAmJiBcImxrLWhpZ2hsaWdodGVkXCJ9YCxcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgLy8gVE9ETyB0cmFuc2Zvcm0gYW5pbWF0aW9ucyB3b3VsZCBiZSBtb3JlIHBlcmZvcm1hbnQsIGhvd2V2ZXIgdGhlIGJvcmRlci1yYWRpdXMgZ2V0cyBkaXN0b3J0ZWQgd2hlbiB1c2luZyBzY2FsZSB0cmFuc2Zvcm1zLiBhIDktc2xpY2UgYXBwcm9hY2ggKG9yIDMgaW4gdGhpcyBjYXNlKSBjb3VsZCB3b3JrXG4gICAgICAgICAgICAvLyB0cmFuc2Zvcm06IGBzY2FsZSgxLCAke01hdGgubWluKG1heEhlaWdodCwgTWF0aC5tYXgobWluSGVpZ2h0LCB2b2x1bWUpKX1gLFxuICAgICAgICAgICAgaGVpZ2h0OiBgJHtNYXRoLm1pbihtLCBNYXRoLm1heChmLCBFICogMTAwICsgNSkpfSVgXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgKSk7XG4gIH1cbiksIFNhID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24oe1xuICAgIGNoaWxkcmVuOiBhLFxuICAgIGRpc2FibGVTcGVha2luZ0luZGljYXRvcjogbixcbiAgICBvblBhcnRpY2lwYW50Q2xpY2s6IHIsXG4gICAgdHJhY2tSZWY6IGMsXG4gICAgLi4uc1xuICB9LCBpKSB7XG4gICAgY29uc3QgbCA9IE4oYyksIHsgZWxlbWVudFByb3BzOiBvIH0gPSB0ZSh7XG4gICAgICB0cmFja1JlZjogbCxcbiAgICAgIGh0bWxQcm9wczogcyxcbiAgICAgIGRpc2FibGVTcGVha2luZ0luZGljYXRvcjogbixcbiAgICAgIG9uUGFydGljaXBhbnRDbGljazogclxuICAgIH0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBpLCBzdHlsZTogeyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLCBtaW5IZWlnaHQ6IFwiMTYwcHhcIiB9LCAuLi5vIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXy5Qcm92aWRlciwgeyB2YWx1ZTogbCB9LCBhID8/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgVihsKSAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHEsIHsgdHJhY2tSZWY6IGwgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoWXQsIHsgYmFyQ291bnQ6IDcsIG9wdGlvbnM6IHsgbWluSGVpZ2h0OiA4IH0gfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstcGFydGljaXBhbnQtbWV0YWRhdGFcIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhcnRpY2lwYW50LW1ldGFkYXRhLWl0ZW1cIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGRlLCB7IHRyYWNrUmVmOiBsIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEIsIG51bGwpKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudCh1ZSwgeyBjbGFzc05hbWU6IFwibGstcGFydGljaXBhbnQtbWV0YWRhdGEtaXRlbVwiIH0pKSkpKTtcbiAgfVxuKTtcbmZ1bmN0aW9uIENhKHQpIHtcbiAgY29uc3QgW2EsIG5dID0gZS51c2VTdGF0ZSh2b2lkIDApLCByID0gSyh0LnJvb20pO1xuICByZXR1cm4gZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHN3aXRjaCAocikge1xuICAgICAgY2FzZSBGLlJlY29ubmVjdGluZzpcbiAgICAgICAgbihcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoVSwgeyBjbGFzc05hbWU6IFwibGstc3Bpbm5lclwiIH0pLCBcIiBSZWNvbm5lY3RpbmdcIilcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEYuQ29ubmVjdGluZzpcbiAgICAgICAgbihcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoVSwgeyBjbGFzc05hbWU6IFwibGstc3Bpbm5lclwiIH0pLCBcIiBDb25uZWN0aW5nXCIpXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGLkRpc2Nvbm5lY3RlZDpcbiAgICAgICAgbigvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIFwiRGlzY29ubmVjdGVkXCIpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBuKHZvaWQgMCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSwgW3JdKSwgYSA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoRHQsIHsgY2xhc3NOYW1lOiBcImxrLXRvYXN0LWNvbm5lY3Rpb24tc3RhdGVcIiB9LCBhKSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCk7XG59XG5jb25zdCBJYSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uKHsgZW50cnk6IGEsIGhpZGVOYW1lOiBuID0gITEsIGhpZGVUaW1lc3RhbXA6IHIgPSAhMSwgbWVzc2FnZUZvcm1hdHRlcjogYywgLi4ucyB9LCBpKSB7XG4gICAgdmFyIGYsIG0sIHA7XG4gICAgY29uc3QgbCA9IGUudXNlTWVtbygoKSA9PiBjID8gYyhhLm1lc3NhZ2UpIDogYS5tZXNzYWdlLCBbYS5tZXNzYWdlLCBjXSksIG8gPSAhIWEuZWRpdFRpbWVzdGFtcCwgdSA9IG5ldyBEYXRlKGEudGltZXN0YW1wKSwgZCA9IG5hdmlnYXRvciA/IG5hdmlnYXRvci5sYW5ndWFnZSA6IFwiZW4tVVNcIjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcbiAgICAgIFwibGlcIixcbiAgICAgIHtcbiAgICAgICAgcmVmOiBpLFxuICAgICAgICBjbGFzc05hbWU6IFwibGstY2hhdC1lbnRyeVwiLFxuICAgICAgICB0aXRsZTogdS50b0xvY2FsZVRpbWVTdHJpbmcoZCwgeyB0aW1lU3R5bGU6IFwiZnVsbFwiIH0pLFxuICAgICAgICBcImRhdGEtbGstbWVzc2FnZS1vcmlnaW5cIjogKGYgPSBhLmZyb20pICE9IG51bGwgJiYgZi5pc0xvY2FsID8gXCJsb2NhbFwiIDogXCJyZW1vdGVcIixcbiAgICAgICAgLi4uc1xuICAgICAgfSxcbiAgICAgICghciB8fCAhbiB8fCBvKSAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJsay1tZXRhLWRhdGFcIiB9LCAhbiAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhcnRpY2lwYW50LW5hbWVcIiB9LCAoKG0gPSBhLmZyb20pID09IG51bGwgPyB2b2lkIDAgOiBtLm5hbWUpID8/ICgocCA9IGEuZnJvbSkgPT0gbnVsbCA/IHZvaWQgMCA6IHAuaWRlbnRpdHkpKSwgKCFyIHx8IG8pICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImxrLXRpbWVzdGFtcFwiIH0sIG8gJiYgXCJlZGl0ZWQgXCIsIHUudG9Mb2NhbGVUaW1lU3RyaW5nKGQsIHsgdGltZVN0eWxlOiBcInNob3J0XCIgfSkpKSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImxrLW1lc3NhZ2UtYm9keVwiIH0sIGwpXG4gICAgKTtcbiAgfVxuKTtcbmZ1bmN0aW9uIFBhKHQpIHtcbiAgcmV0dXJuIFFlKHQsIFhlKCkpLm1hcCgoYSwgbikgPT4ge1xuICAgIGlmICh0eXBlb2YgYSA9PSBcInN0cmluZ1wiKVxuICAgICAgcmV0dXJuIGE7XG4gICAge1xuICAgICAgY29uc3QgciA9IGEuY29udGVudC50b1N0cmluZygpLCBjID0gYS50eXBlID09PSBcInVybFwiID8gL15odHRwKHM/KTpcXC9cXC8vLnRlc3QocikgPyByIDogYGh0dHBzOi8vJHtyfWAgOiBgbWFpbHRvOiR7cn1gO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHsgY2xhc3NOYW1lOiBcImxrLWNoYXQtbGlua1wiLCBrZXk6IG4sIGhyZWY6IGMsIHRhcmdldDogXCJfYmxhbmtcIiwgcmVsOiBcIm5vcmVmZXJyZXJcIiB9LCByKTtcbiAgICB9XG4gIH0pO1xufVxuZXhwb3J0IHtcbiAgaXQgYXMgJCxcbiAgeWEgYXMgQSxcbiAgWXQgYXMgQixcbiAgY2EgYXMgQyxcbiAgbGEgYXMgRCxcbiAgSHQgYXMgRSxcbiAgdmEgYXMgRixcbiAgRWEgYXMgRyxcbiAgQnQgYXMgSCxcbiAgS2UgYXMgSSxcbiAgZXQgYXMgSixcbiAgRCBhcyBLLFxuICBrYSBhcyBMLFxuICBtYSBhcyBNLFxuICB0dCBhcyBOLFxuICBhdCBhcyBPLFxuICBqdCBhcyBQLFxuICBudCBhcyBRLFxuICBSYSBhcyBSLFxuICBvYSBhcyBTLFxuICBnYSBhcyBULFxuICBydCBhcyBVLFxuICBadCBhcyBWLFxuICBjdCBhcyBXLFxuICBsdCBhcyBYLFxuICBvdCBhcyBZLFxuICBzdCBhcyBaLFxuICBzZSBhcyBfLFxuICBJYSBhcyBhLFxuICBVIGFzIGEwLFxuICB1dCBhcyBhMSxcbiAgaHQgYXMgYixcbiAgJCBhcyBjLFxuICBzYSBhcyBkLFxuICBpYSBhcyBlLFxuICB1YSBhcyBmLFxuICBoYSBhcyBnLFxuICB3YSBhcyBoLFxuICBwYSBhcyBpLFxuICBDYSBhcyBqLFxuICBmZSBhcyBrLFxuICBTYSBhcyBsLFxuICBSIGFzIG0sXG4gIER0IGFzIG4sXG4gIFBhIGFzIG8sXG4gIG5hIGFzIHAsXG4gIHJhIGFzIHEsXG4gIGR0IGFzIHIsXG4gIGZhIGFzIHMsXG4gIHVlIGFzIHQsXG4gIHEgYXMgdSxcbiAgQiBhcyB2LFxuICBkYSBhcyB3LFxuICBkZSBhcyB4LFxuICBNYSBhcyB5LFxuICBiYSBhcyB6XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50cy1PTE9uaTlLXy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/components-OLOni9K_.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/contexts-568EHGLp.mjs":
/*!***********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/contexts-568EHGLp.mjs ***!
  \***********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $: () => (/* binding */ Cs),\n/* harmony export */   A: () => (/* binding */ zo),\n/* harmony export */   B: () => (/* binding */ Eo),\n/* harmony export */   C: () => (/* binding */ oo),\n/* harmony export */   D: () => (/* binding */ ds),\n/* harmony export */   E: () => (/* binding */ es),\n/* harmony export */   F: () => (/* binding */ ks),\n/* harmony export */   G: () => (/* binding */ Uo),\n/* harmony export */   H: () => (/* binding */ ts),\n/* harmony export */   I: () => (/* binding */ rs),\n/* harmony export */   J: () => (/* binding */ Ko),\n/* harmony export */   K: () => (/* binding */ Qo),\n/* harmony export */   L: () => (/* binding */ Co),\n/* harmony export */   M: () => (/* binding */ Ho),\n/* harmony export */   N: () => (/* binding */ hs),\n/* harmony export */   O: () => (/* binding */ vs),\n/* harmony export */   P: () => (/* binding */ ms),\n/* harmony export */   Q: () => (/* binding */ ls),\n/* harmony export */   R: () => (/* binding */ $n),\n/* harmony export */   S: () => (/* binding */ os),\n/* harmony export */   T: () => (/* binding */ ss),\n/* harmony export */   U: () => (/* binding */ Bi),\n/* harmony export */   V: () => (/* binding */ ws),\n/* harmony export */   W: () => (/* binding */ Bo),\n/* harmony export */   X: () => (/* binding */ Rt),\n/* harmony export */   Y: () => (/* binding */ Yo),\n/* harmony export */   Z: () => (/* binding */ ps),\n/* harmony export */   _: () => (/* binding */ Ps),\n/* harmony export */   a: () => (/* binding */ As),\n/* harmony export */   a0: () => (/* binding */ qo),\n/* harmony export */   a1: () => (/* binding */ F),\n/* harmony export */   a2: () => (/* binding */ Ss),\n/* harmony export */   a3: () => (/* binding */ Es),\n/* harmony export */   a4: () => (/* binding */ xs),\n/* harmony export */   a5: () => (/* binding */ Wo),\n/* harmony export */   a6: () => (/* binding */ jo),\n/* harmony export */   a7: () => (/* binding */ is),\n/* harmony export */   a8: () => (/* binding */ Xo),\n/* harmony export */   a9: () => (/* binding */ Rn),\n/* harmony export */   aa: () => (/* binding */ Dn),\n/* harmony export */   ab: () => (/* binding */ fs),\n/* harmony export */   ac: () => (/* binding */ Oo),\n/* harmony export */   ad: () => (/* binding */ Sr),\n/* harmony export */   ae: () => (/* binding */ xr),\n/* harmony export */   af: () => (/* binding */ Nn),\n/* harmony export */   ag: () => (/* binding */ Mn),\n/* harmony export */   ah: () => (/* binding */ $s),\n/* harmony export */   ai: () => (/* binding */ Ts),\n/* harmony export */   aj: () => (/* binding */ Lo),\n/* harmony export */   ak: () => (/* binding */ Ls),\n/* harmony export */   al: () => (/* binding */ Ro),\n/* harmony export */   am: () => (/* binding */ Mo),\n/* harmony export */   an: () => (/* binding */ Io),\n/* harmony export */   ao: () => (/* binding */ Do),\n/* harmony export */   ap: () => (/* binding */ be),\n/* harmony export */   aq: () => (/* binding */ Fo),\n/* harmony export */   ar: () => (/* binding */ Os),\n/* harmony export */   as: () => (/* binding */ Ao),\n/* harmony export */   at: () => (/* binding */ _o),\n/* harmony export */   au: () => (/* binding */ No),\n/* harmony export */   av: () => (/* binding */ $o),\n/* harmony export */   aw: () => (/* binding */ Ds),\n/* harmony export */   ax: () => (/* binding */ _s),\n/* harmony export */   b: () => (/* binding */ bs),\n/* harmony export */   c: () => (/* binding */ Ms),\n/* harmony export */   d: () => (/* binding */ us),\n/* harmony export */   e: () => (/* binding */ Go),\n/* harmony export */   f: () => (/* binding */ Rs),\n/* harmony export */   g: () => (/* binding */ co),\n/* harmony export */   h: () => (/* binding */ cs),\n/* harmony export */   i: () => (/* binding */ Is),\n/* harmony export */   j: () => (/* binding */ xo),\n/* harmony export */   k: () => (/* binding */ gs),\n/* harmony export */   l: () => (/* binding */ _),\n/* harmony export */   m: () => (/* binding */ ko),\n/* harmony export */   n: () => (/* binding */ ji),\n/* harmony export */   o: () => (/* binding */ ao),\n/* harmony export */   p: () => (/* binding */ N),\n/* harmony export */   q: () => (/* binding */ Zo),\n/* harmony export */   r: () => (/* binding */ no),\n/* harmony export */   s: () => (/* binding */ ys),\n/* harmony export */   t: () => (/* binding */ On),\n/* harmony export */   u: () => (/* binding */ Ns),\n/* harmony export */   v: () => (/* binding */ ns),\n/* harmony export */   w: () => (/* binding */ To),\n/* harmony export */   x: () => (/* binding */ Jo),\n/* harmony export */   y: () => (/* binding */ as),\n/* harmony export */   z: () => (/* binding */ Vo)\n/* harmony export */ });\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/.pnpm/livekit-client@2.6.0/node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.7_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\nconst Ke = Math.min, ue = Math.max, ke = Math.round, te = (e) => ({\n  x: e,\n  y: e\n}), Bn = {\n  left: \"right\",\n  right: \"left\",\n  bottom: \"top\",\n  top: \"bottom\"\n}, Vn = {\n  start: \"end\",\n  end: \"start\"\n};\nfunction bt(e, t, n) {\n  return ue(e, Ke(t, n));\n}\nfunction Ne(e, t) {\n  return typeof e == \"function\" ? e(t) : e;\n}\nfunction oe(e) {\n  return e.split(\"-\")[0];\n}\nfunction $e(e) {\n  return e.split(\"-\")[1];\n}\nfunction jt(e) {\n  return e === \"x\" ? \"y\" : \"x\";\n}\nfunction Wt(e) {\n  return e === \"y\" ? \"height\" : \"width\";\n}\nfunction Ue(e) {\n  return [\"top\", \"bottom\"].includes(oe(e)) ? \"y\" : \"x\";\n}\nfunction Bt(e) {\n  return jt(Ue(e));\n}\nfunction Hn(e, t, n) {\n  n === void 0 && (n = !1);\n  const r = $e(e), i = Bt(e), o = Wt(i);\n  let s = i === \"x\" ? r === (n ? \"end\" : \"start\") ? \"right\" : \"left\" : r === \"start\" ? \"bottom\" : \"top\";\n  return t.reference[o] > t.floating[o] && (s = Oe(s)), [s, Oe(s)];\n}\nfunction zn(e) {\n  const t = Oe(e);\n  return [Qe(e), t, Qe(t)];\n}\nfunction Qe(e) {\n  return e.replace(/start|end/g, (t) => Vn[t]);\n}\nfunction Yn(e, t, n) {\n  const r = [\"left\", \"right\"], i = [\"right\", \"left\"], o = [\"top\", \"bottom\"], s = [\"bottom\", \"top\"];\n  switch (e) {\n    case \"top\":\n    case \"bottom\":\n      return n ? t ? i : r : t ? r : i;\n    case \"left\":\n    case \"right\":\n      return t ? o : s;\n    default:\n      return [];\n  }\n}\nfunction Gn(e, t, n, r) {\n  const i = $e(e);\n  let o = Yn(oe(e), n === \"start\", r);\n  return i && (o = o.map((s) => s + \"-\" + i), t && (o = o.concat(o.map(Qe)))), o;\n}\nfunction Oe(e) {\n  return e.replace(/left|right|bottom|top/g, (t) => Bn[t]);\n}\nfunction Kn(e) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...e\n  };\n}\nfunction Qn(e) {\n  return typeof e != \"number\" ? Kn(e) : {\n    top: e,\n    right: e,\n    bottom: e,\n    left: e\n  };\n}\nfunction Le(e) {\n  const {\n    x: t,\n    y: n,\n    width: r,\n    height: i\n  } = e;\n  return {\n    width: r,\n    height: i,\n    top: n,\n    left: t,\n    right: t + r,\n    bottom: n + i,\n    x: t,\n    y: n\n  };\n}\nfunction yt(e, t, n) {\n  let {\n    reference: r,\n    floating: i\n  } = e;\n  const o = Ue(t), s = Bt(t), a = Wt(s), c = oe(t), u = o === \"y\", l = r.x + r.width / 2 - i.width / 2, f = r.y + r.height / 2 - i.height / 2, h = r[a] / 2 - i[a] / 2;\n  let d;\n  switch (c) {\n    case \"top\":\n      d = {\n        x: l,\n        y: r.y - i.height\n      };\n      break;\n    case \"bottom\":\n      d = {\n        x: l,\n        y: r.y + r.height\n      };\n      break;\n    case \"right\":\n      d = {\n        x: r.x + r.width,\n        y: f\n      };\n      break;\n    case \"left\":\n      d = {\n        x: r.x - i.width,\n        y: f\n      };\n      break;\n    default:\n      d = {\n        x: r.x,\n        y: r.y\n      };\n  }\n  switch ($e(t)) {\n    case \"start\":\n      d[s] -= h * (n && u ? -1 : 1);\n      break;\n    case \"end\":\n      d[s] += h * (n && u ? -1 : 1);\n      break;\n  }\n  return d;\n}\nconst Jn = async (e, t, n) => {\n  const {\n    placement: r = \"bottom\",\n    strategy: i = \"absolute\",\n    middleware: o = [],\n    platform: s\n  } = n, a = o.filter(Boolean), c = await (s.isRTL == null ? void 0 : s.isRTL(t));\n  let u = await s.getElementRects({\n    reference: e,\n    floating: t,\n    strategy: i\n  }), {\n    x: l,\n    y: f\n  } = yt(u, r, c), h = r, d = {}, m = 0;\n  for (let p = 0; p < a.length; p++) {\n    const {\n      name: g,\n      fn: v\n    } = a[p], {\n      x: E,\n      y: P,\n      data: L,\n      reset: C\n    } = await v({\n      x: l,\n      y: f,\n      initialPlacement: r,\n      placement: h,\n      strategy: i,\n      middlewareData: d,\n      rects: u,\n      platform: s,\n      elements: {\n        reference: e,\n        floating: t\n      }\n    });\n    l = E ?? l, f = P ?? f, d = {\n      ...d,\n      [g]: {\n        ...d[g],\n        ...L\n      }\n    }, C && m <= 50 && (m++, typeof C == \"object\" && (C.placement && (h = C.placement), C.rects && (u = C.rects === !0 ? await s.getElementRects({\n      reference: e,\n      floating: t,\n      strategy: i\n    }) : C.rects), {\n      x: l,\n      y: f\n    } = yt(u, h, c)), p = -1);\n  }\n  return {\n    x: l,\n    y: f,\n    placement: h,\n    strategy: i,\n    middlewareData: d\n  };\n};\nasync function Vt(e, t) {\n  var n;\n  t === void 0 && (t = {});\n  const {\n    x: r,\n    y: i,\n    platform: o,\n    rects: s,\n    elements: a,\n    strategy: c\n  } = e, {\n    boundary: u = \"clippingAncestors\",\n    rootBoundary: l = \"viewport\",\n    elementContext: f = \"floating\",\n    altBoundary: h = !1,\n    padding: d = 0\n  } = Ne(t, e), m = Qn(d), g = a[h ? f === \"floating\" ? \"reference\" : \"floating\" : f], v = Le(await o.getClippingRect({\n    element: (n = await (o.isElement == null ? void 0 : o.isElement(g))) == null || n ? g : g.contextElement || await (o.getDocumentElement == null ? void 0 : o.getDocumentElement(a.floating)),\n    boundary: u,\n    rootBoundary: l,\n    strategy: c\n  })), E = f === \"floating\" ? {\n    ...s.floating,\n    x: r,\n    y: i\n  } : s.reference, P = await (o.getOffsetParent == null ? void 0 : o.getOffsetParent(a.floating)), L = await (o.isElement == null ? void 0 : o.isElement(P)) ? await (o.getScale == null ? void 0 : o.getScale(P)) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  }, C = Le(o.convertOffsetParentRelativeRectToViewportRelativeRect ? await o.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements: a,\n    rect: E,\n    offsetParent: P,\n    strategy: c\n  }) : E);\n  return {\n    top: (v.top - C.top + m.top) / L.y,\n    bottom: (C.bottom - v.bottom + m.bottom) / L.y,\n    left: (v.left - C.left + m.left) / L.x,\n    right: (C.right - v.right + m.right) / L.x\n  };\n}\nconst qn = function(e) {\n  return e === void 0 && (e = {}), {\n    name: \"flip\",\n    options: e,\n    async fn(t) {\n      var n, r;\n      const {\n        placement: i,\n        middlewareData: o,\n        rects: s,\n        initialPlacement: a,\n        platform: c,\n        elements: u\n      } = t, {\n        mainAxis: l = !0,\n        crossAxis: f = !0,\n        fallbackPlacements: h,\n        fallbackStrategy: d = \"bestFit\",\n        fallbackAxisSideDirection: m = \"none\",\n        flipAlignment: p = !0,\n        ...g\n      } = Ne(e, t);\n      if ((n = o.arrow) != null && n.alignmentOffset)\n        return {};\n      const v = oe(i), E = oe(a) === a, P = await (c.isRTL == null ? void 0 : c.isRTL(u.floating)), L = h || (E || !p ? [Oe(a)] : zn(a));\n      !h && m !== \"none\" && L.push(...Gn(a, p, m, P));\n      const C = [a, ...L], ie = await Vt(t, g), K = [];\n      let T = ((r = o.flip) == null ? void 0 : r.overflows) || [];\n      if (l && K.push(ie[v]), f) {\n        const S = Hn(i, s, P);\n        K.push(ie[S[0]], ie[S[1]]);\n      }\n      if (T = [...T, {\n        placement: i,\n        overflows: K\n      }], !K.every((S) => S <= 0)) {\n        var x, I;\n        const S = (((x = o.flip) == null ? void 0 : x.index) || 0) + 1, V = C[S];\n        if (V)\n          return {\n            data: {\n              index: S,\n              overflows: T\n            },\n            reset: {\n              placement: V\n            }\n          };\n        let X = (I = T.filter((Z) => Z.overflows[0] <= 0).sort((Z, ce) => Z.overflows[1] - ce.overflows[1])[0]) == null ? void 0 : I.placement;\n        if (!X)\n          switch (d) {\n            case \"bestFit\": {\n              var w;\n              const Z = (w = T.map((ce) => [ce.placement, ce.overflows.filter((ge) => ge > 0).reduce((ge, Un) => ge + Un, 0)]).sort((ce, ge) => ce[1] - ge[1])[0]) == null ? void 0 : w[0];\n              Z && (X = Z);\n              break;\n            }\n            case \"initialPlacement\":\n              X = a;\n              break;\n          }\n        if (i !== X)\n          return {\n            reset: {\n              placement: X\n            }\n          };\n      }\n      return {};\n    }\n  };\n};\nasync function Xn(e, t) {\n  const {\n    placement: n,\n    platform: r,\n    elements: i\n  } = e, o = await (r.isRTL == null ? void 0 : r.isRTL(i.floating)), s = oe(n), a = $e(n), c = Ue(n) === \"y\", u = [\"left\", \"top\"].includes(s) ? -1 : 1, l = o && c ? -1 : 1, f = Ne(t, e);\n  let {\n    mainAxis: h,\n    crossAxis: d,\n    alignmentAxis: m\n  } = typeof f == \"number\" ? {\n    mainAxis: f,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...f\n  };\n  return a && typeof m == \"number\" && (d = a === \"end\" ? m * -1 : m), c ? {\n    x: d * l,\n    y: h * u\n  } : {\n    x: h * u,\n    y: d * l\n  };\n}\nconst Zn = function(e) {\n  return e === void 0 && (e = 0), {\n    name: \"offset\",\n    options: e,\n    async fn(t) {\n      var n, r;\n      const {\n        x: i,\n        y: o,\n        placement: s,\n        middlewareData: a\n      } = t, c = await Xn(t, e);\n      return s === ((n = a.offset) == null ? void 0 : n.placement) && (r = a.arrow) != null && r.alignmentOffset ? {} : {\n        x: i + c.x,\n        y: o + c.y,\n        data: {\n          ...c,\n          placement: s\n        }\n      };\n    }\n  };\n}, er = function(e) {\n  return e === void 0 && (e = {}), {\n    name: \"shift\",\n    options: e,\n    async fn(t) {\n      const {\n        x: n,\n        y: r,\n        placement: i\n      } = t, {\n        mainAxis: o = !0,\n        crossAxis: s = !1,\n        limiter: a = {\n          fn: (g) => {\n            let {\n              x: v,\n              y: E\n            } = g;\n            return {\n              x: v,\n              y: E\n            };\n          }\n        },\n        ...c\n      } = Ne(e, t), u = {\n        x: n,\n        y: r\n      }, l = await Vt(t, c), f = Ue(oe(i)), h = jt(f);\n      let d = u[h], m = u[f];\n      if (o) {\n        const g = h === \"y\" ? \"top\" : \"left\", v = h === \"y\" ? \"bottom\" : \"right\", E = d + l[g], P = d - l[v];\n        d = bt(E, d, P);\n      }\n      if (s) {\n        const g = f === \"y\" ? \"top\" : \"left\", v = f === \"y\" ? \"bottom\" : \"right\", E = m + l[g], P = m - l[v];\n        m = bt(E, m, P);\n      }\n      const p = a.fn({\n        ...t,\n        [h]: d,\n        [f]: m\n      });\n      return {\n        ...p,\n        data: {\n          x: p.x - n,\n          y: p.y - r\n        }\n      };\n    }\n  };\n};\nfunction Fe() {\n  return typeof window < \"u\";\n}\nfunction ve(e) {\n  return Ht(e) ? (e.nodeName || \"\").toLowerCase() : \"#document\";\n}\nfunction U(e) {\n  var t;\n  return (e == null || (t = e.ownerDocument) == null ? void 0 : t.defaultView) || window;\n}\nfunction J(e) {\n  var t;\n  return (t = (Ht(e) ? e.ownerDocument : e.document) || window.document) == null ? void 0 : t.documentElement;\n}\nfunction Ht(e) {\n  return Fe() ? e instanceof Node || e instanceof U(e).Node : !1;\n}\nfunction H(e) {\n  return Fe() ? e instanceof Element || e instanceof U(e).Element : !1;\n}\nfunction G(e) {\n  return Fe() ? e instanceof HTMLElement || e instanceof U(e).HTMLElement : !1;\n}\nfunction wt(e) {\n  return !Fe() || typeof ShadowRoot > \"u\" ? !1 : e instanceof ShadowRoot || e instanceof U(e).ShadowRoot;\n}\nfunction Ee(e) {\n  const {\n    overflow: t,\n    overflowX: n,\n    overflowY: r,\n    display: i\n  } = z(e);\n  return /auto|scroll|overlay|hidden|clip/.test(t + r + n) && ![\"inline\", \"contents\"].includes(i);\n}\nfunction tr(e) {\n  return [\"table\", \"td\", \"th\"].includes(ve(e));\n}\nfunction je(e) {\n  return [\":popover-open\", \":modal\"].some((t) => {\n    try {\n      return e.matches(t);\n    } catch {\n      return !1;\n    }\n  });\n}\nfunction st(e) {\n  const t = at(), n = H(e) ? z(e) : e;\n  return n.transform !== \"none\" || n.perspective !== \"none\" || (n.containerType ? n.containerType !== \"normal\" : !1) || !t && (n.backdropFilter ? n.backdropFilter !== \"none\" : !1) || !t && (n.filter ? n.filter !== \"none\" : !1) || [\"transform\", \"perspective\", \"filter\"].some((r) => (n.willChange || \"\").includes(r)) || [\"paint\", \"layout\", \"strict\", \"content\"].some((r) => (n.contain || \"\").includes(r));\n}\nfunction nr(e) {\n  let t = ne(e);\n  for (; G(t) && !de(t); ) {\n    if (st(t))\n      return t;\n    if (je(t))\n      return null;\n    t = ne(t);\n  }\n  return null;\n}\nfunction at() {\n  return typeof CSS > \"u\" || !CSS.supports ? !1 : CSS.supports(\"-webkit-backdrop-filter\", \"none\");\n}\nfunction de(e) {\n  return [\"html\", \"body\", \"#document\"].includes(ve(e));\n}\nfunction z(e) {\n  return U(e).getComputedStyle(e);\n}\nfunction We(e) {\n  return H(e) ? {\n    scrollLeft: e.scrollLeft,\n    scrollTop: e.scrollTop\n  } : {\n    scrollLeft: e.scrollX,\n    scrollTop: e.scrollY\n  };\n}\nfunction ne(e) {\n  if (ve(e) === \"html\")\n    return e;\n  const t = (\n    // Step into the shadow DOM of the parent of a slotted node.\n    e.assignedSlot || // DOM Element detected.\n    e.parentNode || // ShadowRoot detected.\n    wt(e) && e.host || // Fallback.\n    J(e)\n  );\n  return wt(t) ? t.host : t;\n}\nfunction zt(e) {\n  const t = ne(e);\n  return de(t) ? e.ownerDocument ? e.ownerDocument.body : e.body : G(t) && Ee(t) ? t : zt(t);\n}\nfunction Je(e, t, n) {\n  var r;\n  t === void 0 && (t = []), n === void 0 && (n = !0);\n  const i = zt(e), o = i === ((r = e.ownerDocument) == null ? void 0 : r.body), s = U(i);\n  if (o) {\n    const a = qe(s);\n    return t.concat(s, s.visualViewport || [], Ee(i) ? i : [], a && n ? Je(a) : []);\n  }\n  return t.concat(i, Je(i, [], n));\n}\nfunction qe(e) {\n  return e.parent && Object.getPrototypeOf(e.parent) ? e.frameElement : null;\n}\nfunction Yt(e) {\n  const t = z(e);\n  let n = parseFloat(t.width) || 0, r = parseFloat(t.height) || 0;\n  const i = G(e), o = i ? e.offsetWidth : n, s = i ? e.offsetHeight : r, a = ke(n) !== o || ke(r) !== s;\n  return a && (n = o, r = s), {\n    width: n,\n    height: r,\n    $: a\n  };\n}\nfunction Gt(e) {\n  return H(e) ? e : e.contextElement;\n}\nfunction le(e) {\n  const t = Gt(e);\n  if (!G(t))\n    return te(1);\n  const n = t.getBoundingClientRect(), {\n    width: r,\n    height: i,\n    $: o\n  } = Yt(t);\n  let s = (o ? ke(n.width) : n.width) / r, a = (o ? ke(n.height) : n.height) / i;\n  return (!s || !Number.isFinite(s)) && (s = 1), (!a || !Number.isFinite(a)) && (a = 1), {\n    x: s,\n    y: a\n  };\n}\nconst rr = /* @__PURE__ */ te(0);\nfunction Kt(e) {\n  const t = U(e);\n  return !at() || !t.visualViewport ? rr : {\n    x: t.visualViewport.offsetLeft,\n    y: t.visualViewport.offsetTop\n  };\n}\nfunction ir(e, t, n) {\n  return t === void 0 && (t = !1), !n || t && n !== U(e) ? !1 : t;\n}\nfunction we(e, t, n, r) {\n  t === void 0 && (t = !1), n === void 0 && (n = !1);\n  const i = e.getBoundingClientRect(), o = Gt(e);\n  let s = te(1);\n  t && (r ? H(r) && (s = le(r)) : s = le(e));\n  const a = ir(o, n, r) ? Kt(o) : te(0);\n  let c = (i.left + a.x) / s.x, u = (i.top + a.y) / s.y, l = i.width / s.x, f = i.height / s.y;\n  if (o) {\n    const h = U(o), d = r && H(r) ? U(r) : r;\n    let m = h, p = qe(m);\n    for (; p && r && d !== m; ) {\n      const g = le(p), v = p.getBoundingClientRect(), E = z(p), P = v.left + (p.clientLeft + parseFloat(E.paddingLeft)) * g.x, L = v.top + (p.clientTop + parseFloat(E.paddingTop)) * g.y;\n      c *= g.x, u *= g.y, l *= g.x, f *= g.y, c += P, u += L, m = U(p), p = qe(m);\n    }\n  }\n  return Le({\n    width: l,\n    height: f,\n    x: c,\n    y: u\n  });\n}\nfunction or(e) {\n  let {\n    elements: t,\n    rect: n,\n    offsetParent: r,\n    strategy: i\n  } = e;\n  const o = i === \"fixed\", s = J(r), a = t ? je(t.floating) : !1;\n  if (r === s || a && o)\n    return n;\n  let c = {\n    scrollLeft: 0,\n    scrollTop: 0\n  }, u = te(1);\n  const l = te(0), f = G(r);\n  if ((f || !f && !o) && ((ve(r) !== \"body\" || Ee(s)) && (c = We(r)), G(r))) {\n    const h = we(r);\n    u = le(r), l.x = h.x + r.clientLeft, l.y = h.y + r.clientTop;\n  }\n  return {\n    width: n.width * u.x,\n    height: n.height * u.y,\n    x: n.x * u.x - c.scrollLeft * u.x + l.x,\n    y: n.y * u.y - c.scrollTop * u.y + l.y\n  };\n}\nfunction sr(e) {\n  return Array.from(e.getClientRects());\n}\nfunction Xe(e, t) {\n  const n = We(e).scrollLeft;\n  return t ? t.left + n : we(J(e)).left + n;\n}\nfunction ar(e) {\n  const t = J(e), n = We(e), r = e.ownerDocument.body, i = ue(t.scrollWidth, t.clientWidth, r.scrollWidth, r.clientWidth), o = ue(t.scrollHeight, t.clientHeight, r.scrollHeight, r.clientHeight);\n  let s = -n.scrollLeft + Xe(e);\n  const a = -n.scrollTop;\n  return z(r).direction === \"rtl\" && (s += ue(t.clientWidth, r.clientWidth) - i), {\n    width: i,\n    height: o,\n    x: s,\n    y: a\n  };\n}\nfunction cr(e, t) {\n  const n = U(e), r = J(e), i = n.visualViewport;\n  let o = r.clientWidth, s = r.clientHeight, a = 0, c = 0;\n  if (i) {\n    o = i.width, s = i.height;\n    const u = at();\n    (!u || u && t === \"fixed\") && (a = i.offsetLeft, c = i.offsetTop);\n  }\n  return {\n    width: o,\n    height: s,\n    x: a,\n    y: c\n  };\n}\nfunction ur(e, t) {\n  const n = we(e, !0, t === \"fixed\"), r = n.top + e.clientTop, i = n.left + e.clientLeft, o = G(e) ? le(e) : te(1), s = e.clientWidth * o.x, a = e.clientHeight * o.y, c = i * o.x, u = r * o.y;\n  return {\n    width: s,\n    height: a,\n    x: c,\n    y: u\n  };\n}\nfunction St(e, t, n) {\n  let r;\n  if (t === \"viewport\")\n    r = cr(e, n);\n  else if (t === \"document\")\n    r = ar(J(e));\n  else if (H(t))\n    r = ur(t, n);\n  else {\n    const i = Kt(e);\n    r = {\n      ...t,\n      x: t.x - i.x,\n      y: t.y - i.y\n    };\n  }\n  return Le(r);\n}\nfunction Qt(e, t) {\n  const n = ne(e);\n  return n === t || !H(n) || de(n) ? !1 : z(n).position === \"fixed\" || Qt(n, t);\n}\nfunction lr(e, t) {\n  const n = t.get(e);\n  if (n)\n    return n;\n  let r = Je(e, [], !1).filter((a) => H(a) && ve(a) !== \"body\"), i = null;\n  const o = z(e).position === \"fixed\";\n  let s = o ? ne(e) : e;\n  for (; H(s) && !de(s); ) {\n    const a = z(s), c = st(s);\n    !c && a.position === \"fixed\" && (i = null), (o ? !c && !i : !c && a.position === \"static\" && !!i && [\"absolute\", \"fixed\"].includes(i.position) || Ee(s) && !c && Qt(e, s)) ? r = r.filter((l) => l !== s) : i = a, s = ne(s);\n  }\n  return t.set(e, r), r;\n}\nfunction fr(e) {\n  let {\n    element: t,\n    boundary: n,\n    rootBoundary: r,\n    strategy: i\n  } = e;\n  const s = [...n === \"clippingAncestors\" ? je(t) ? [] : lr(t, this._c) : [].concat(n), r], a = s[0], c = s.reduce((u, l) => {\n    const f = St(t, l, i);\n    return u.top = ue(f.top, u.top), u.right = Ke(f.right, u.right), u.bottom = Ke(f.bottom, u.bottom), u.left = ue(f.left, u.left), u;\n  }, St(t, a, i));\n  return {\n    width: c.right - c.left,\n    height: c.bottom - c.top,\n    x: c.left,\n    y: c.top\n  };\n}\nfunction dr(e) {\n  const {\n    width: t,\n    height: n\n  } = Yt(e);\n  return {\n    width: t,\n    height: n\n  };\n}\nfunction pr(e, t, n) {\n  const r = G(t), i = J(t), o = n === \"fixed\", s = we(e, !0, o, t);\n  let a = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const c = te(0);\n  if (r || !r && !o)\n    if ((ve(t) !== \"body\" || Ee(i)) && (a = We(t)), r) {\n      const d = we(t, !0, o, t);\n      c.x = d.x + t.clientLeft, c.y = d.y + t.clientTop;\n    } else i && (c.x = Xe(i));\n  let u = 0, l = 0;\n  if (i && !r && !o) {\n    const d = i.getBoundingClientRect();\n    l = d.top + a.scrollTop, u = d.left + a.scrollLeft - // RTL <body> scrollbar.\n    Xe(i, d);\n  }\n  const f = s.left + a.scrollLeft - c.x - u, h = s.top + a.scrollTop - c.y - l;\n  return {\n    x: f,\n    y: h,\n    width: s.width,\n    height: s.height\n  };\n}\nfunction He(e) {\n  return z(e).position === \"static\";\n}\nfunction xt(e, t) {\n  if (!G(e) || z(e).position === \"fixed\")\n    return null;\n  if (t)\n    return t(e);\n  let n = e.offsetParent;\n  return J(e) === n && (n = n.ownerDocument.body), n;\n}\nfunction Jt(e, t) {\n  const n = U(e);\n  if (je(e))\n    return n;\n  if (!G(e)) {\n    let i = ne(e);\n    for (; i && !de(i); ) {\n      if (H(i) && !He(i))\n        return i;\n      i = ne(i);\n    }\n    return n;\n  }\n  let r = xt(e, t);\n  for (; r && tr(r) && He(r); )\n    r = xt(r, t);\n  return r && de(r) && He(r) && !st(r) ? n : r || nr(e) || n;\n}\nconst hr = async function(e) {\n  const t = this.getOffsetParent || Jt, n = this.getDimensions, r = await n(e.floating);\n  return {\n    reference: pr(e.reference, await t(e.floating), e.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: r.width,\n      height: r.height\n    }\n  };\n};\nfunction vr(e) {\n  return z(e).direction === \"rtl\";\n}\nconst mr = {\n  convertOffsetParentRelativeRectToViewportRelativeRect: or,\n  getDocumentElement: J,\n  getClippingRect: fr,\n  getOffsetParent: Jt,\n  getElementRects: hr,\n  getClientRects: sr,\n  getDimensions: dr,\n  getScale: le,\n  isElement: H,\n  isRTL: vr\n}, gr = Zn, br = er, yr = qn, wr = (e, t, n) => {\n  const r = /* @__PURE__ */ new Map(), i = {\n    platform: mr,\n    ...n\n  }, o = {\n    ...i.platform,\n    _c: r\n  };\n  return Jn(e, t, {\n    ...i,\n    platform: o\n  });\n};\nvar Sr = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {};\nfunction xr(e) {\n  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, \"default\") ? e.default : e;\n}\nvar qt = { exports: {} };\n(function(e) {\n  (function(t, n) {\n    e.exports ? e.exports = n() : t.log = n();\n  })(Sr, function() {\n    var t = function() {\n    }, n = \"undefined\", r = typeof window !== n && typeof window.navigator !== n && /Trident\\/|MSIE /.test(window.navigator.userAgent), i = [\n      \"trace\",\n      \"debug\",\n      \"info\",\n      \"warn\",\n      \"error\"\n    ], o = {}, s = null;\n    function a(p, g) {\n      var v = p[g];\n      if (typeof v.bind == \"function\")\n        return v.bind(p);\n      try {\n        return Function.prototype.bind.call(v, p);\n      } catch {\n        return function() {\n          return Function.prototype.apply.apply(v, [p, arguments]);\n        };\n      }\n    }\n    function c() {\n      console.log && (console.log.apply ? console.log.apply(console, arguments) : Function.prototype.apply.apply(console.log, [console, arguments])), console.trace && console.trace();\n    }\n    function u(p) {\n      return p === \"debug\" && (p = \"log\"), typeof console === n ? !1 : p === \"trace\" && r ? c : console[p] !== void 0 ? a(console, p) : console.log !== void 0 ? a(console, \"log\") : t;\n    }\n    function l() {\n      for (var p = this.getLevel(), g = 0; g < i.length; g++) {\n        var v = i[g];\n        this[v] = g < p ? t : this.methodFactory(v, p, this.name);\n      }\n      if (this.log = this.debug, typeof console === n && p < this.levels.SILENT)\n        return \"No console available for logging\";\n    }\n    function f(p) {\n      return function() {\n        typeof console !== n && (l.call(this), this[p].apply(this, arguments));\n      };\n    }\n    function h(p, g, v) {\n      return u(p) || f.apply(this, arguments);\n    }\n    function d(p, g) {\n      var v = this, E, P, L, C = \"loglevel\";\n      typeof p == \"string\" ? C += \":\" + p : typeof p == \"symbol\" && (C = void 0);\n      function ie(w) {\n        var S = (i[w] || \"silent\").toUpperCase();\n        if (!(typeof window === n || !C)) {\n          try {\n            window.localStorage[C] = S;\n            return;\n          } catch {\n          }\n          try {\n            window.document.cookie = encodeURIComponent(C) + \"=\" + S + \";\";\n          } catch {\n          }\n        }\n      }\n      function K() {\n        var w;\n        if (!(typeof window === n || !C)) {\n          try {\n            w = window.localStorage[C];\n          } catch {\n          }\n          if (typeof w === n)\n            try {\n              var S = window.document.cookie, V = encodeURIComponent(C), X = S.indexOf(V + \"=\");\n              X !== -1 && (w = /^([^;]+)/.exec(\n                S.slice(X + V.length + 1)\n              )[1]);\n            } catch {\n            }\n          return v.levels[w] === void 0 && (w = void 0), w;\n        }\n      }\n      function T() {\n        if (!(typeof window === n || !C)) {\n          try {\n            window.localStorage.removeItem(C);\n          } catch {\n          }\n          try {\n            window.document.cookie = encodeURIComponent(C) + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\";\n          } catch {\n          }\n        }\n      }\n      function x(w) {\n        var S = w;\n        if (typeof S == \"string\" && v.levels[S.toUpperCase()] !== void 0 && (S = v.levels[S.toUpperCase()]), typeof S == \"number\" && S >= 0 && S <= v.levels.SILENT)\n          return S;\n        throw new TypeError(\"log.setLevel() called with invalid level: \" + w);\n      }\n      v.name = p, v.levels = {\n        TRACE: 0,\n        DEBUG: 1,\n        INFO: 2,\n        WARN: 3,\n        ERROR: 4,\n        SILENT: 5\n      }, v.methodFactory = g || h, v.getLevel = function() {\n        return L ?? P ?? E;\n      }, v.setLevel = function(w, S) {\n        return L = x(w), S !== !1 && ie(L), l.call(v);\n      }, v.setDefaultLevel = function(w) {\n        P = x(w), K() || v.setLevel(w, !1);\n      }, v.resetLevel = function() {\n        L = null, T(), l.call(v);\n      }, v.enableAll = function(w) {\n        v.setLevel(v.levels.TRACE, w);\n      }, v.disableAll = function(w) {\n        v.setLevel(v.levels.SILENT, w);\n      }, v.rebuild = function() {\n        if (s !== v && (E = x(s.getLevel())), l.call(v), s === v)\n          for (var w in o)\n            o[w].rebuild();\n      }, E = x(\n        s ? s.getLevel() : \"WARN\"\n      );\n      var I = K();\n      I != null && (L = x(I)), l.call(v);\n    }\n    s = new d(), s.getLogger = function(g) {\n      if (typeof g != \"symbol\" && typeof g != \"string\" || g === \"\")\n        throw new TypeError(\"You must supply a name when creating a logger.\");\n      var v = o[g];\n      return v || (v = o[g] = new d(\n        g,\n        s.methodFactory\n      )), v;\n    };\n    var m = typeof window !== n ? window.log : void 0;\n    return s.noConflict = function() {\n      return typeof window !== n && window.log === s && (window.log = m), s;\n    }, s.getLoggers = function() {\n      return o;\n    }, s.default = s, s;\n  });\n})(qt);\nvar Er = qt.exports;\nconst Tr = /* @__PURE__ */ xr(Er);\nvar Ze = function(e, t) {\n  return Ze = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, r) {\n    n.__proto__ = r;\n  } || function(n, r) {\n    for (var i in r) Object.prototype.hasOwnProperty.call(r, i) && (n[i] = r[i]);\n  }, Ze(e, t);\n};\nfunction q(e, t) {\n  if (typeof t != \"function\" && t !== null)\n    throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n  Ze(e, t);\n  function n() {\n    this.constructor = e;\n  }\n  e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());\n}\nfunction Cr(e, t, n, r) {\n  function i(o) {\n    return o instanceof n ? o : new n(function(s) {\n      s(o);\n    });\n  }\n  return new (n || (n = Promise))(function(o, s) {\n    function a(l) {\n      try {\n        u(r.next(l));\n      } catch (f) {\n        s(f);\n      }\n    }\n    function c(l) {\n      try {\n        u(r.throw(l));\n      } catch (f) {\n        s(f);\n      }\n    }\n    function u(l) {\n      l.done ? o(l.value) : i(l.value).then(a, c);\n    }\n    u((r = r.apply(e, t || [])).next());\n  });\n}\nfunction Xt(e, t) {\n  var n = { label: 0, sent: function() {\n    if (o[0] & 1) throw o[1];\n    return o[1];\n  }, trys: [], ops: [] }, r, i, o, s = Object.create((typeof Iterator == \"function\" ? Iterator : Object).prototype);\n  return s.next = a(0), s.throw = a(1), s.return = a(2), typeof Symbol == \"function\" && (s[Symbol.iterator] = function() {\n    return this;\n  }), s;\n  function a(u) {\n    return function(l) {\n      return c([u, l]);\n    };\n  }\n  function c(u) {\n    if (r) throw new TypeError(\"Generator is already executing.\");\n    for (; s && (s = 0, u[0] && (n = 0)), n; ) try {\n      if (r = 1, i && (o = u[0] & 2 ? i.return : u[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, u[1])).done) return o;\n      switch (i = 0, o && (u = [u[0] & 2, o.value]), u[0]) {\n        case 0:\n        case 1:\n          o = u;\n          break;\n        case 4:\n          return n.label++, { value: u[1], done: !1 };\n        case 5:\n          n.label++, i = u[1], u = [0];\n          continue;\n        case 7:\n          u = n.ops.pop(), n.trys.pop();\n          continue;\n        default:\n          if (o = n.trys, !(o = o.length > 0 && o[o.length - 1]) && (u[0] === 6 || u[0] === 2)) {\n            n = 0;\n            continue;\n          }\n          if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) {\n            n.label = u[1];\n            break;\n          }\n          if (u[0] === 6 && n.label < o[1]) {\n            n.label = o[1], o = u;\n            break;\n          }\n          if (o && n.label < o[2]) {\n            n.label = o[2], n.ops.push(u);\n            break;\n          }\n          o[2] && n.ops.pop(), n.trys.pop();\n          continue;\n      }\n      u = t.call(e, n);\n    } catch (l) {\n      u = [6, l], i = 0;\n    } finally {\n      r = o = 0;\n    }\n    if (u[0] & 5) throw u[1];\n    return { value: u[0] ? u[1] : void 0, done: !0 };\n  }\n}\nfunction pe(e) {\n  var t = typeof Symbol == \"function\" && Symbol.iterator, n = t && e[t], r = 0;\n  if (n) return n.call(e);\n  if (e && typeof e.length == \"number\") return {\n    next: function() {\n      return e && r >= e.length && (e = void 0), { value: e && e[r++], done: !e };\n    }\n  };\n  throw new TypeError(t ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction he(e, t) {\n  var n = typeof Symbol == \"function\" && e[Symbol.iterator];\n  if (!n) return e;\n  var r = n.call(e), i, o = [], s;\n  try {\n    for (; (t === void 0 || t-- > 0) && !(i = r.next()).done; ) o.push(i.value);\n  } catch (a) {\n    s = { error: a };\n  } finally {\n    try {\n      i && !i.done && (n = r.return) && n.call(r);\n    } finally {\n      if (s) throw s.error;\n    }\n  }\n  return o;\n}\nfunction Se(e, t, n) {\n  if (n || arguments.length === 2) for (var r = 0, i = t.length, o; r < i; r++)\n    (o || !(r in t)) && (o || (o = Array.prototype.slice.call(t, 0, r)), o[r] = t[r]);\n  return e.concat(o || Array.prototype.slice.call(t));\n}\nfunction fe(e) {\n  return this instanceof fe ? (this.v = e, this) : new fe(e);\n}\nfunction Pr(e, t, n) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var r = n.apply(e, t || []), i, o = [];\n  return i = Object.create((typeof AsyncIterator == \"function\" ? AsyncIterator : Object).prototype), a(\"next\"), a(\"throw\"), a(\"return\", s), i[Symbol.asyncIterator] = function() {\n    return this;\n  }, i;\n  function s(d) {\n    return function(m) {\n      return Promise.resolve(m).then(d, f);\n    };\n  }\n  function a(d, m) {\n    r[d] && (i[d] = function(p) {\n      return new Promise(function(g, v) {\n        o.push([d, p, g, v]) > 1 || c(d, p);\n      });\n    }, m && (i[d] = m(i[d])));\n  }\n  function c(d, m) {\n    try {\n      u(r[d](m));\n    } catch (p) {\n      h(o[0][3], p);\n    }\n  }\n  function u(d) {\n    d.value instanceof fe ? Promise.resolve(d.value.v).then(l, f) : h(o[0][2], d);\n  }\n  function l(d) {\n    c(\"next\", d);\n  }\n  function f(d) {\n    c(\"throw\", d);\n  }\n  function h(d, m) {\n    d(m), o.shift(), o.length && c(o[0][0], o[0][1]);\n  }\n}\nfunction Ar(e) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var t = e[Symbol.asyncIterator], n;\n  return t ? t.call(e) : (e = typeof pe == \"function\" ? pe(e) : e[Symbol.iterator](), n = {}, r(\"next\"), r(\"throw\"), r(\"return\"), n[Symbol.asyncIterator] = function() {\n    return this;\n  }, n);\n  function r(o) {\n    n[o] = e[o] && function(s) {\n      return new Promise(function(a, c) {\n        s = e[o](s), i(a, c, s.done, s.value);\n      });\n    };\n  }\n  function i(o, s, a, c) {\n    Promise.resolve(c).then(function(u) {\n      o({ value: u, done: a });\n    }, s);\n  }\n}\nfunction A(e) {\n  return typeof e == \"function\";\n}\nfunction ct(e) {\n  var t = function(r) {\n    Error.call(r), r.stack = new Error().stack;\n  }, n = e(t);\n  return n.prototype = Object.create(Error.prototype), n.prototype.constructor = n, n;\n}\nvar ze = ct(function(e) {\n  return function(n) {\n    e(this), this.message = n ? n.length + ` errors occurred during unsubscription:\n` + n.map(function(r, i) {\n      return i + 1 + \") \" + r.toString();\n    }).join(`\n  `) : \"\", this.name = \"UnsubscriptionError\", this.errors = n;\n  };\n});\nfunction _e(e, t) {\n  if (e) {\n    var n = e.indexOf(t);\n    0 <= n && e.splice(n, 1);\n  }\n}\nvar Te = function() {\n  function e(t) {\n    this.initialTeardown = t, this.closed = !1, this._parentage = null, this._finalizers = null;\n  }\n  return e.prototype.unsubscribe = function() {\n    var t, n, r, i, o;\n    if (!this.closed) {\n      this.closed = !0;\n      var s = this._parentage;\n      if (s)\n        if (this._parentage = null, Array.isArray(s))\n          try {\n            for (var a = pe(s), c = a.next(); !c.done; c = a.next()) {\n              var u = c.value;\n              u.remove(this);\n            }\n          } catch (p) {\n            t = { error: p };\n          } finally {\n            try {\n              c && !c.done && (n = a.return) && n.call(a);\n            } finally {\n              if (t) throw t.error;\n            }\n          }\n        else\n          s.remove(this);\n      var l = this.initialTeardown;\n      if (A(l))\n        try {\n          l();\n        } catch (p) {\n          o = p instanceof ze ? p.errors : [p];\n        }\n      var f = this._finalizers;\n      if (f) {\n        this._finalizers = null;\n        try {\n          for (var h = pe(f), d = h.next(); !d.done; d = h.next()) {\n            var m = d.value;\n            try {\n              Et(m);\n            } catch (p) {\n              o = o ?? [], p instanceof ze ? o = Se(Se([], he(o)), he(p.errors)) : o.push(p);\n            }\n          }\n        } catch (p) {\n          r = { error: p };\n        } finally {\n          try {\n            d && !d.done && (i = h.return) && i.call(h);\n          } finally {\n            if (r) throw r.error;\n          }\n        }\n      }\n      if (o)\n        throw new ze(o);\n    }\n  }, e.prototype.add = function(t) {\n    var n;\n    if (t && t !== this)\n      if (this.closed)\n        Et(t);\n      else {\n        if (t instanceof e) {\n          if (t.closed || t._hasParent(this))\n            return;\n          t._addParent(this);\n        }\n        (this._finalizers = (n = this._finalizers) !== null && n !== void 0 ? n : []).push(t);\n      }\n  }, e.prototype._hasParent = function(t) {\n    var n = this._parentage;\n    return n === t || Array.isArray(n) && n.includes(t);\n  }, e.prototype._addParent = function(t) {\n    var n = this._parentage;\n    this._parentage = Array.isArray(n) ? (n.push(t), n) : n ? [n, t] : t;\n  }, e.prototype._removeParent = function(t) {\n    var n = this._parentage;\n    n === t ? this._parentage = null : Array.isArray(n) && _e(n, t);\n  }, e.prototype.remove = function(t) {\n    var n = this._finalizers;\n    n && _e(n, t), t instanceof e && t._removeParent(this);\n  }, e.EMPTY = function() {\n    var t = new e();\n    return t.closed = !0, t;\n  }(), e;\n}(), Zt = Te.EMPTY;\nfunction en(e) {\n  return e instanceof Te || e && \"closed\" in e && A(e.remove) && A(e.add) && A(e.unsubscribe);\n}\nfunction Et(e) {\n  A(e) ? e() : e.unsubscribe();\n}\nvar tn = {\n  onUnhandledError: null,\n  onStoppedNotification: null,\n  Promise: void 0,\n  useDeprecatedSynchronousErrorHandling: !1,\n  useDeprecatedNextContext: !1\n}, nn = {\n  setTimeout: function(e, t) {\n    for (var n = [], r = 2; r < arguments.length; r++)\n      n[r - 2] = arguments[r];\n    return setTimeout.apply(void 0, Se([e, t], he(n)));\n  },\n  clearTimeout: function(e) {\n    var t = nn.delegate;\n    return ((t == null ? void 0 : t.clearTimeout) || clearTimeout)(e);\n  },\n  delegate: void 0\n};\nfunction rn(e) {\n  nn.setTimeout(function() {\n    throw e;\n  });\n}\nfunction Ie() {\n}\nfunction Ae(e) {\n  e();\n}\nvar ut = function(e) {\n  q(t, e);\n  function t(n) {\n    var r = e.call(this) || this;\n    return r.isStopped = !1, n ? (r.destination = n, en(n) && n.add(r)) : r.destination = _r, r;\n  }\n  return t.create = function(n, r, i) {\n    return new et(n, r, i);\n  }, t.prototype.next = function(n) {\n    this.isStopped || this._next(n);\n  }, t.prototype.error = function(n) {\n    this.isStopped || (this.isStopped = !0, this._error(n));\n  }, t.prototype.complete = function() {\n    this.isStopped || (this.isStopped = !0, this._complete());\n  }, t.prototype.unsubscribe = function() {\n    this.closed || (this.isStopped = !0, e.prototype.unsubscribe.call(this), this.destination = null);\n  }, t.prototype._next = function(n) {\n    this.destination.next(n);\n  }, t.prototype._error = function(n) {\n    try {\n      this.destination.error(n);\n    } finally {\n      this.unsubscribe();\n    }\n  }, t.prototype._complete = function() {\n    try {\n      this.destination.complete();\n    } finally {\n      this.unsubscribe();\n    }\n  }, t;\n}(Te), kr = Function.prototype.bind;\nfunction Ye(e, t) {\n  return kr.call(e, t);\n}\nvar Or = function() {\n  function e(t) {\n    this.partialObserver = t;\n  }\n  return e.prototype.next = function(t) {\n    var n = this.partialObserver;\n    if (n.next)\n      try {\n        n.next(t);\n      } catch (r) {\n        Ce(r);\n      }\n  }, e.prototype.error = function(t) {\n    var n = this.partialObserver;\n    if (n.error)\n      try {\n        n.error(t);\n      } catch (r) {\n        Ce(r);\n      }\n    else\n      Ce(t);\n  }, e.prototype.complete = function() {\n    var t = this.partialObserver;\n    if (t.complete)\n      try {\n        t.complete();\n      } catch (n) {\n        Ce(n);\n      }\n  }, e;\n}(), et = function(e) {\n  q(t, e);\n  function t(n, r, i) {\n    var o = e.call(this) || this, s;\n    if (A(n) || !n)\n      s = {\n        next: n ?? void 0,\n        error: r ?? void 0,\n        complete: i ?? void 0\n      };\n    else {\n      var a;\n      o && tn.useDeprecatedNextContext ? (a = Object.create(n), a.unsubscribe = function() {\n        return o.unsubscribe();\n      }, s = {\n        next: n.next && Ye(n.next, a),\n        error: n.error && Ye(n.error, a),\n        complete: n.complete && Ye(n.complete, a)\n      }) : s = n;\n    }\n    return o.destination = new Or(s), o;\n  }\n  return t;\n}(ut);\nfunction Ce(e) {\n  rn(e);\n}\nfunction Lr(e) {\n  throw e;\n}\nvar _r = {\n  closed: !0,\n  next: Ie,\n  error: Lr,\n  complete: Ie\n}, lt = function() {\n  return typeof Symbol == \"function\" && Symbol.observable || \"@@observable\";\n}();\nfunction ft(e) {\n  return e;\n}\nfunction Ir(e) {\n  return e.length === 0 ? ft : e.length === 1 ? e[0] : function(n) {\n    return e.reduce(function(r, i) {\n      return i(r);\n    }, n);\n  };\n}\nvar O = function() {\n  function e(t) {\n    t && (this._subscribe = t);\n  }\n  return e.prototype.lift = function(t) {\n    var n = new e();\n    return n.source = this, n.operator = t, n;\n  }, e.prototype.subscribe = function(t, n, r) {\n    var i = this, o = Mr(t) ? t : new et(t, n, r);\n    return Ae(function() {\n      var s = i, a = s.operator, c = s.source;\n      o.add(a ? a.call(o, c) : c ? i._subscribe(o) : i._trySubscribe(o));\n    }), o;\n  }, e.prototype._trySubscribe = function(t) {\n    try {\n      return this._subscribe(t);\n    } catch (n) {\n      t.error(n);\n    }\n  }, e.prototype.forEach = function(t, n) {\n    var r = this;\n    return n = Tt(n), new n(function(i, o) {\n      var s = new et({\n        next: function(a) {\n          try {\n            t(a);\n          } catch (c) {\n            o(c), s.unsubscribe();\n          }\n        },\n        error: o,\n        complete: i\n      });\n      r.subscribe(s);\n    });\n  }, e.prototype._subscribe = function(t) {\n    var n;\n    return (n = this.source) === null || n === void 0 ? void 0 : n.subscribe(t);\n  }, e.prototype[lt] = function() {\n    return this;\n  }, e.prototype.pipe = function() {\n    for (var t = [], n = 0; n < arguments.length; n++)\n      t[n] = arguments[n];\n    return Ir(t)(this);\n  }, e.prototype.toPromise = function(t) {\n    var n = this;\n    return t = Tt(t), new t(function(r, i) {\n      var o;\n      n.subscribe(function(s) {\n        return o = s;\n      }, function(s) {\n        return i(s);\n      }, function() {\n        return r(o);\n      });\n    });\n  }, e.create = function(t) {\n    return new e(t);\n  }, e;\n}();\nfunction Tt(e) {\n  var t;\n  return (t = e ?? tn.Promise) !== null && t !== void 0 ? t : Promise;\n}\nfunction Dr(e) {\n  return e && A(e.next) && A(e.error) && A(e.complete);\n}\nfunction Mr(e) {\n  return e && e instanceof ut || Dr(e) && en(e);\n}\nfunction Rr(e) {\n  return A(e == null ? void 0 : e.lift);\n}\nfunction B(e) {\n  return function(t) {\n    if (Rr(t))\n      return t.lift(function(n) {\n        try {\n          return e(n, this);\n        } catch (r) {\n          this.error(r);\n        }\n      });\n    throw new TypeError(\"Unable to lift unknown Observable type\");\n  };\n}\nfunction j(e, t, n, r, i) {\n  return new Nr(e, t, n, r, i);\n}\nvar Nr = function(e) {\n  q(t, e);\n  function t(n, r, i, o, s, a) {\n    var c = e.call(this, n) || this;\n    return c.onFinalize = s, c.shouldUnsubscribe = a, c._next = r ? function(u) {\n      try {\n        r(u);\n      } catch (l) {\n        n.error(l);\n      }\n    } : e.prototype._next, c._error = o ? function(u) {\n      try {\n        o(u);\n      } catch (l) {\n        n.error(l);\n      } finally {\n        this.unsubscribe();\n      }\n    } : e.prototype._error, c._complete = i ? function() {\n      try {\n        i();\n      } catch (u) {\n        n.error(u);\n      } finally {\n        this.unsubscribe();\n      }\n    } : e.prototype._complete, c;\n  }\n  return t.prototype.unsubscribe = function() {\n    var n;\n    if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n      var r = this.closed;\n      e.prototype.unsubscribe.call(this), !r && ((n = this.onFinalize) === null || n === void 0 || n.call(this));\n    }\n  }, t;\n}(ut), $r = ct(function(e) {\n  return function() {\n    e(this), this.name = \"ObjectUnsubscribedError\", this.message = \"object unsubscribed\";\n  };\n}), re = function(e) {\n  q(t, e);\n  function t() {\n    var n = e.call(this) || this;\n    return n.closed = !1, n.currentObservers = null, n.observers = [], n.isStopped = !1, n.hasError = !1, n.thrownError = null, n;\n  }\n  return t.prototype.lift = function(n) {\n    var r = new Ct(this, this);\n    return r.operator = n, r;\n  }, t.prototype._throwIfClosed = function() {\n    if (this.closed)\n      throw new $r();\n  }, t.prototype.next = function(n) {\n    var r = this;\n    Ae(function() {\n      var i, o;\n      if (r._throwIfClosed(), !r.isStopped) {\n        r.currentObservers || (r.currentObservers = Array.from(r.observers));\n        try {\n          for (var s = pe(r.currentObservers), a = s.next(); !a.done; a = s.next()) {\n            var c = a.value;\n            c.next(n);\n          }\n        } catch (u) {\n          i = { error: u };\n        } finally {\n          try {\n            a && !a.done && (o = s.return) && o.call(s);\n          } finally {\n            if (i) throw i.error;\n          }\n        }\n      }\n    });\n  }, t.prototype.error = function(n) {\n    var r = this;\n    Ae(function() {\n      if (r._throwIfClosed(), !r.isStopped) {\n        r.hasError = r.isStopped = !0, r.thrownError = n;\n        for (var i = r.observers; i.length; )\n          i.shift().error(n);\n      }\n    });\n  }, t.prototype.complete = function() {\n    var n = this;\n    Ae(function() {\n      if (n._throwIfClosed(), !n.isStopped) {\n        n.isStopped = !0;\n        for (var r = n.observers; r.length; )\n          r.shift().complete();\n      }\n    });\n  }, t.prototype.unsubscribe = function() {\n    this.isStopped = this.closed = !0, this.observers = this.currentObservers = null;\n  }, Object.defineProperty(t.prototype, \"observed\", {\n    get: function() {\n      var n;\n      return ((n = this.observers) === null || n === void 0 ? void 0 : n.length) > 0;\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype._trySubscribe = function(n) {\n    return this._throwIfClosed(), e.prototype._trySubscribe.call(this, n);\n  }, t.prototype._subscribe = function(n) {\n    return this._throwIfClosed(), this._checkFinalizedStatuses(n), this._innerSubscribe(n);\n  }, t.prototype._innerSubscribe = function(n) {\n    var r = this, i = this, o = i.hasError, s = i.isStopped, a = i.observers;\n    return o || s ? Zt : (this.currentObservers = null, a.push(n), new Te(function() {\n      r.currentObservers = null, _e(a, n);\n    }));\n  }, t.prototype._checkFinalizedStatuses = function(n) {\n    var r = this, i = r.hasError, o = r.thrownError, s = r.isStopped;\n    i ? n.error(o) : s && n.complete();\n  }, t.prototype.asObservable = function() {\n    var n = new O();\n    return n.source = this, n;\n  }, t.create = function(n, r) {\n    return new Ct(n, r);\n  }, t;\n}(O), Ct = function(e) {\n  q(t, e);\n  function t(n, r) {\n    var i = e.call(this) || this;\n    return i.destination = n, i.source = r, i;\n  }\n  return t.prototype.next = function(n) {\n    var r, i;\n    (i = (r = this.destination) === null || r === void 0 ? void 0 : r.next) === null || i === void 0 || i.call(r, n);\n  }, t.prototype.error = function(n) {\n    var r, i;\n    (i = (r = this.destination) === null || r === void 0 ? void 0 : r.error) === null || i === void 0 || i.call(r, n);\n  }, t.prototype.complete = function() {\n    var n, r;\n    (r = (n = this.destination) === null || n === void 0 ? void 0 : n.complete) === null || r === void 0 || r.call(n);\n  }, t.prototype._subscribe = function(n) {\n    var r, i;\n    return (i = (r = this.source) === null || r === void 0 ? void 0 : r.subscribe(n)) !== null && i !== void 0 ? i : Zt;\n  }, t;\n}(re), on = function(e) {\n  q(t, e);\n  function t(n) {\n    var r = e.call(this) || this;\n    return r._value = n, r;\n  }\n  return Object.defineProperty(t.prototype, \"value\", {\n    get: function() {\n      return this.getValue();\n    },\n    enumerable: !1,\n    configurable: !0\n  }), t.prototype._subscribe = function(n) {\n    var r = e.prototype._subscribe.call(this, n);\n    return !r.closed && n.next(this._value), r;\n  }, t.prototype.getValue = function() {\n    var n = this, r = n.hasError, i = n.thrownError, o = n._value;\n    if (r)\n      throw i;\n    return this._throwIfClosed(), o;\n  }, t.prototype.next = function(n) {\n    e.prototype.next.call(this, this._value = n);\n  }, t;\n}(re), Ur = {\n  now: function() {\n    return Date.now();\n  },\n  delegate: void 0\n}, Fr = function(e) {\n  q(t, e);\n  function t(n, r) {\n    return e.call(this) || this;\n  }\n  return t.prototype.schedule = function(n, r) {\n    return this;\n  }, t;\n}(Te), Pt = {\n  setInterval: function(e, t) {\n    for (var n = [], r = 2; r < arguments.length; r++)\n      n[r - 2] = arguments[r];\n    return setInterval.apply(void 0, Se([e, t], he(n)));\n  },\n  clearInterval: function(e) {\n    return clearInterval(e);\n  },\n  delegate: void 0\n}, jr = function(e) {\n  q(t, e);\n  function t(n, r) {\n    var i = e.call(this, n, r) || this;\n    return i.scheduler = n, i.work = r, i.pending = !1, i;\n  }\n  return t.prototype.schedule = function(n, r) {\n    var i;\n    if (r === void 0 && (r = 0), this.closed)\n      return this;\n    this.state = n;\n    var o = this.id, s = this.scheduler;\n    return o != null && (this.id = this.recycleAsyncId(s, o, r)), this.pending = !0, this.delay = r, this.id = (i = this.id) !== null && i !== void 0 ? i : this.requestAsyncId(s, this.id, r), this;\n  }, t.prototype.requestAsyncId = function(n, r, i) {\n    return i === void 0 && (i = 0), Pt.setInterval(n.flush.bind(n, this), i);\n  }, t.prototype.recycleAsyncId = function(n, r, i) {\n    if (i === void 0 && (i = 0), i != null && this.delay === i && this.pending === !1)\n      return r;\n    r != null && Pt.clearInterval(r);\n  }, t.prototype.execute = function(n, r) {\n    if (this.closed)\n      return new Error(\"executing a cancelled action\");\n    this.pending = !1;\n    var i = this._execute(n, r);\n    if (i)\n      return i;\n    this.pending === !1 && this.id != null && (this.id = this.recycleAsyncId(this.scheduler, this.id, null));\n  }, t.prototype._execute = function(n, r) {\n    var i = !1, o;\n    try {\n      this.work(n);\n    } catch (s) {\n      i = !0, o = s || new Error(\"Scheduled action threw falsy error\");\n    }\n    if (i)\n      return this.unsubscribe(), o;\n  }, t.prototype.unsubscribe = function() {\n    if (!this.closed) {\n      var n = this, r = n.id, i = n.scheduler, o = i.actions;\n      this.work = this.state = this.scheduler = null, this.pending = !1, _e(o, this), r != null && (this.id = this.recycleAsyncId(i, r, null)), this.delay = null, e.prototype.unsubscribe.call(this);\n    }\n  }, t;\n}(Fr), At = function() {\n  function e(t, n) {\n    n === void 0 && (n = e.now), this.schedulerActionCtor = t, this.now = n;\n  }\n  return e.prototype.schedule = function(t, n, r) {\n    return n === void 0 && (n = 0), new this.schedulerActionCtor(this, t).schedule(r, n);\n  }, e.now = Ur.now, e;\n}(), Wr = function(e) {\n  q(t, e);\n  function t(n, r) {\n    r === void 0 && (r = At.now);\n    var i = e.call(this, n, r) || this;\n    return i.actions = [], i._active = !1, i;\n  }\n  return t.prototype.flush = function(n) {\n    var r = this.actions;\n    if (this._active) {\n      r.push(n);\n      return;\n    }\n    var i;\n    this._active = !0;\n    do\n      if (i = n.execute(n.state, n.delay))\n        break;\n    while (n = r.shift());\n    if (this._active = !1, i) {\n      for (; n = r.shift(); )\n        n.unsubscribe();\n      throw i;\n    }\n  }, t;\n}(At), Br = new Wr(jr), Vr = new O(function(e) {\n  return e.complete();\n});\nfunction Hr(e) {\n  return e && A(e.schedule);\n}\nfunction sn(e) {\n  return e[e.length - 1];\n}\nfunction Be(e) {\n  return Hr(sn(e)) ? e.pop() : void 0;\n}\nfunction zr(e, t) {\n  return typeof sn(e) == \"number\" ? e.pop() : t;\n}\nvar dt = function(e) {\n  return e && typeof e.length == \"number\" && typeof e != \"function\";\n};\nfunction an(e) {\n  return A(e == null ? void 0 : e.then);\n}\nfunction cn(e) {\n  return A(e[lt]);\n}\nfunction un(e) {\n  return Symbol.asyncIterator && A(e == null ? void 0 : e[Symbol.asyncIterator]);\n}\nfunction ln(e) {\n  return new TypeError(\"You provided \" + (e !== null && typeof e == \"object\" ? \"an invalid object\" : \"'\" + e + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\nfunction Yr() {\n  return typeof Symbol != \"function\" || !Symbol.iterator ? \"@@iterator\" : Symbol.iterator;\n}\nvar fn = Yr();\nfunction dn(e) {\n  return A(e == null ? void 0 : e[fn]);\n}\nfunction pn(e) {\n  return Pr(this, arguments, function() {\n    var n, r, i, o;\n    return Xt(this, function(s) {\n      switch (s.label) {\n        case 0:\n          n = e.getReader(), s.label = 1;\n        case 1:\n          s.trys.push([1, , 9, 10]), s.label = 2;\n        case 2:\n          return [4, fe(n.read())];\n        case 3:\n          return r = s.sent(), i = r.value, o = r.done, o ? [4, fe(void 0)] : [3, 5];\n        case 4:\n          return [2, s.sent()];\n        case 5:\n          return [4, fe(i)];\n        case 6:\n          return [4, s.sent()];\n        case 7:\n          return s.sent(), [3, 2];\n        case 8:\n          return [3, 10];\n        case 9:\n          return n.releaseLock(), [7];\n        case 10:\n          return [2];\n      }\n    });\n  });\n}\nfunction hn(e) {\n  return A(e == null ? void 0 : e.getReader);\n}\nfunction Y(e) {\n  if (e instanceof O)\n    return e;\n  if (e != null) {\n    if (cn(e))\n      return Gr(e);\n    if (dt(e))\n      return Kr(e);\n    if (an(e))\n      return Qr(e);\n    if (un(e))\n      return vn(e);\n    if (dn(e))\n      return Jr(e);\n    if (hn(e))\n      return qr(e);\n  }\n  throw ln(e);\n}\nfunction Gr(e) {\n  return new O(function(t) {\n    var n = e[lt]();\n    if (A(n.subscribe))\n      return n.subscribe(t);\n    throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");\n  });\n}\nfunction Kr(e) {\n  return new O(function(t) {\n    for (var n = 0; n < e.length && !t.closed; n++)\n      t.next(e[n]);\n    t.complete();\n  });\n}\nfunction Qr(e) {\n  return new O(function(t) {\n    e.then(function(n) {\n      t.closed || (t.next(n), t.complete());\n    }, function(n) {\n      return t.error(n);\n    }).then(null, rn);\n  });\n}\nfunction Jr(e) {\n  return new O(function(t) {\n    var n, r;\n    try {\n      for (var i = pe(e), o = i.next(); !o.done; o = i.next()) {\n        var s = o.value;\n        if (t.next(s), t.closed)\n          return;\n      }\n    } catch (a) {\n      n = { error: a };\n    } finally {\n      try {\n        o && !o.done && (r = i.return) && r.call(i);\n      } finally {\n        if (n) throw n.error;\n      }\n    }\n    t.complete();\n  });\n}\nfunction vn(e) {\n  return new O(function(t) {\n    Xr(e, t).catch(function(n) {\n      return t.error(n);\n    });\n  });\n}\nfunction qr(e) {\n  return vn(pn(e));\n}\nfunction Xr(e, t) {\n  var n, r, i, o;\n  return Cr(this, void 0, void 0, function() {\n    var s, a;\n    return Xt(this, function(c) {\n      switch (c.label) {\n        case 0:\n          c.trys.push([0, 5, 6, 11]), n = Ar(e), c.label = 1;\n        case 1:\n          return [4, n.next()];\n        case 2:\n          if (r = c.sent(), !!r.done) return [3, 4];\n          if (s = r.value, t.next(s), t.closed)\n            return [2];\n          c.label = 3;\n        case 3:\n          return [3, 1];\n        case 4:\n          return [3, 11];\n        case 5:\n          return a = c.sent(), i = { error: a }, [3, 11];\n        case 6:\n          return c.trys.push([6, , 9, 10]), r && !r.done && (o = n.return) ? [4, o.call(n)] : [3, 8];\n        case 7:\n          c.sent(), c.label = 8;\n        case 8:\n          return [3, 10];\n        case 9:\n          if (i) throw i.error;\n          return [7];\n        case 10:\n          return [7];\n        case 11:\n          return t.complete(), [2];\n      }\n    });\n  });\n}\nfunction ee(e, t, n, r, i) {\n  r === void 0 && (r = 0), i === void 0 && (i = !1);\n  var o = t.schedule(function() {\n    n(), i ? e.add(this.schedule(null, r)) : this.unsubscribe();\n  }, r);\n  if (e.add(o), !i)\n    return o;\n}\nfunction mn(e, t) {\n  return t === void 0 && (t = 0), B(function(n, r) {\n    n.subscribe(j(r, function(i) {\n      return ee(r, e, function() {\n        return r.next(i);\n      }, t);\n    }, function() {\n      return ee(r, e, function() {\n        return r.complete();\n      }, t);\n    }, function(i) {\n      return ee(r, e, function() {\n        return r.error(i);\n      }, t);\n    }));\n  });\n}\nfunction gn(e, t) {\n  return t === void 0 && (t = 0), B(function(n, r) {\n    r.add(e.schedule(function() {\n      return n.subscribe(r);\n    }, t));\n  });\n}\nfunction Zr(e, t) {\n  return Y(e).pipe(gn(t), mn(t));\n}\nfunction ei(e, t) {\n  return Y(e).pipe(gn(t), mn(t));\n}\nfunction ti(e, t) {\n  return new O(function(n) {\n    var r = 0;\n    return t.schedule(function() {\n      r === e.length ? n.complete() : (n.next(e[r++]), n.closed || this.schedule());\n    });\n  });\n}\nfunction ni(e, t) {\n  return new O(function(n) {\n    var r;\n    return ee(n, t, function() {\n      r = e[fn](), ee(n, t, function() {\n        var i, o, s;\n        try {\n          i = r.next(), o = i.value, s = i.done;\n        } catch (a) {\n          n.error(a);\n          return;\n        }\n        s ? n.complete() : n.next(o);\n      }, 0, !0);\n    }), function() {\n      return A(r == null ? void 0 : r.return) && r.return();\n    };\n  });\n}\nfunction bn(e, t) {\n  if (!e)\n    throw new Error(\"Iterable cannot be null\");\n  return new O(function(n) {\n    ee(n, t, function() {\n      var r = e[Symbol.asyncIterator]();\n      ee(n, t, function() {\n        r.next().then(function(i) {\n          i.done ? n.complete() : n.next(i.value);\n        });\n      }, 0, !0);\n    });\n  });\n}\nfunction ri(e, t) {\n  return bn(pn(e), t);\n}\nfunction ii(e, t) {\n  if (e != null) {\n    if (cn(e))\n      return Zr(e, t);\n    if (dt(e))\n      return ti(e, t);\n    if (an(e))\n      return ei(e, t);\n    if (un(e))\n      return bn(e, t);\n    if (dn(e))\n      return ni(e, t);\n    if (hn(e))\n      return ri(e, t);\n  }\n  throw ln(e);\n}\nfunction pt(e, t) {\n  return t ? ii(e, t) : Y(e);\n}\nfunction kt() {\n  for (var e = [], t = 0; t < arguments.length; t++)\n    e[t] = arguments[t];\n  var n = Be(e);\n  return pt(e, n);\n}\nfunction oi(e) {\n  return e instanceof Date && !isNaN(e);\n}\nvar si = ct(function(e) {\n  return function(n) {\n    n === void 0 && (n = null), e(this), this.message = \"Timeout has occurred\", this.name = \"TimeoutError\", this.info = n;\n  };\n});\nfunction ai(e, t) {\n  var n = oi(e) ? { first: e } : typeof e == \"number\" ? { each: e } : e, r = n.first, i = n.each, o = n.with, s = o === void 0 ? ci : o, a = n.scheduler, c = a === void 0 ? Br : a, u = n.meta, l = u === void 0 ? null : u;\n  if (r == null && i == null)\n    throw new TypeError(\"No timeout provided.\");\n  return B(function(f, h) {\n    var d, m, p = null, g = 0, v = function(E) {\n      m = ee(h, c, function() {\n        try {\n          d.unsubscribe(), Y(s({\n            meta: l,\n            lastValue: p,\n            seen: g\n          })).subscribe(h);\n        } catch (P) {\n          h.error(P);\n        }\n      }, E);\n    };\n    d = f.subscribe(j(h, function(E) {\n      m == null || m.unsubscribe(), g++, h.next(p = E), i > 0 && v(i);\n    }, void 0, void 0, function() {\n      m != null && m.closed || m == null || m.unsubscribe(), p = null;\n    })), !g && v(r != null ? typeof r == \"number\" ? r : +r - c.now() : i);\n  });\n}\nfunction ci(e) {\n  throw new si(e);\n}\nfunction k(e, t) {\n  return B(function(n, r) {\n    var i = 0;\n    n.subscribe(j(r, function(o) {\n      r.next(e.call(t, o, i++));\n    }));\n  });\n}\nvar ui = Array.isArray;\nfunction li(e, t) {\n  return ui(t) ? e.apply(void 0, Se([], he(t))) : e(t);\n}\nfunction fi(e) {\n  return k(function(t) {\n    return li(e, t);\n  });\n}\nfunction di(e, t, n, r, i, o, s, a) {\n  var c = [], u = 0, l = 0, f = !1, h = function() {\n    f && !c.length && !u && t.complete();\n  }, d = function(p) {\n    return u < r ? m(p) : c.push(p);\n  }, m = function(p) {\n    u++;\n    var g = !1;\n    Y(n(p, l++)).subscribe(j(t, function(v) {\n      t.next(v);\n    }, function() {\n      g = !0;\n    }, void 0, function() {\n      if (g)\n        try {\n          u--;\n          for (var v = function() {\n            var E = c.shift();\n            s || m(E);\n          }; c.length && u < r; )\n            v();\n          h();\n        } catch (E) {\n          t.error(E);\n        }\n    }));\n  };\n  return e.subscribe(j(t, d, function() {\n    f = !0, h();\n  })), function() {\n  };\n}\nfunction ht(e, t, n) {\n  return n === void 0 && (n = 1 / 0), A(t) ? ht(function(r, i) {\n    return k(function(o, s) {\n      return t(r, o, i, s);\n    })(Y(e(r, i)));\n  }, n) : (typeof t == \"number\" && (n = t), B(function(r, i) {\n    return di(r, i, e, n);\n  }));\n}\nfunction yn(e) {\n  return e === void 0 && (e = 1 / 0), ht(ft, e);\n}\nfunction pi() {\n  return yn(1);\n}\nfunction De() {\n  for (var e = [], t = 0; t < arguments.length; t++)\n    e[t] = arguments[t];\n  return pi()(pt(e, Be(e)));\n}\nvar hi = [\"addListener\", \"removeListener\"], vi = [\"addEventListener\", \"removeEventListener\"], mi = [\"on\", \"off\"];\nfunction tt(e, t, n, r) {\n  if (A(n) && (r = n, n = void 0), r)\n    return tt(e, t, n).pipe(fi(r));\n  var i = he(yi(e) ? vi.map(function(a) {\n    return function(c) {\n      return e[a](t, c, n);\n    };\n  }) : gi(e) ? hi.map(Ot(e, t)) : bi(e) ? mi.map(Ot(e, t)) : [], 2), o = i[0], s = i[1];\n  if (!o && dt(e))\n    return ht(function(a) {\n      return tt(a, t, n);\n    })(Y(e));\n  if (!o)\n    throw new TypeError(\"Invalid event target\");\n  return new O(function(a) {\n    var c = function() {\n      for (var u = [], l = 0; l < arguments.length; l++)\n        u[l] = arguments[l];\n      return a.next(1 < u.length ? u : u[0]);\n    };\n    return o(c), function() {\n      return s(c);\n    };\n  });\n}\nfunction Ot(e, t) {\n  return function(n) {\n    return function(r) {\n      return e[n](t, r);\n    };\n  };\n}\nfunction gi(e) {\n  return A(e.addListener) && A(e.removeListener);\n}\nfunction bi(e) {\n  return A(e.on) && A(e.off);\n}\nfunction yi(e) {\n  return A(e.addEventListener) && A(e.removeEventListener);\n}\nfunction wi() {\n  for (var e = [], t = 0; t < arguments.length; t++)\n    e[t] = arguments[t];\n  var n = Be(e), r = zr(e, 1 / 0), i = e;\n  return i.length ? i.length === 1 ? Y(i[0]) : yn(r)(pt(i, n)) : Vr;\n}\nfunction vt(e, t) {\n  return B(function(n, r) {\n    var i = 0;\n    n.subscribe(j(r, function(o) {\n      return e.call(t, o, i++) && r.next(o);\n    }));\n  });\n}\nfunction Si(e, t, n, r, i) {\n  return function(o, s) {\n    var a = n, c = t, u = 0;\n    o.subscribe(j(s, function(l) {\n      var f = u++;\n      c = a ? e(c, l, f) : (a = !0, l), s.next(c);\n    }, i));\n  };\n}\nfunction xi(e, t) {\n  return t === void 0 && (t = ft), e = e ?? Ei, B(function(n, r) {\n    var i, o = !0;\n    n.subscribe(j(r, function(s) {\n      var a = t(s);\n      (o || !e(i, a)) && (o = !1, i = a, r.next(s));\n    }));\n  });\n}\nfunction Ei(e, t) {\n  return e === t;\n}\nfunction Ti(e) {\n  return B(function(t, n) {\n    try {\n      t.subscribe(n);\n    } finally {\n      n.add(e);\n    }\n  });\n}\nfunction Ci(e, t) {\n  return B(Si(e, t, arguments.length >= 2, !0));\n}\nfunction Pi(e) {\n  return B(function(t, n) {\n    var r = !1, i = j(n, function() {\n      i == null || i.unsubscribe(), r = !0;\n    }, Ie);\n    Y(e).subscribe(i), t.subscribe(j(n, function(o) {\n      return r && n.next(o);\n    }));\n  });\n}\nfunction R() {\n  for (var e = [], t = 0; t < arguments.length; t++)\n    e[t] = arguments[t];\n  var n = Be(e);\n  return B(function(r, i) {\n    (n ? De(e, r, n) : De(e, r)).subscribe(i);\n  });\n}\nfunction wn(e, t) {\n  return B(function(n, r) {\n    var i = null, o = 0, s = !1, a = function() {\n      return s && !i && r.complete();\n    };\n    n.subscribe(j(r, function(c) {\n      i == null || i.unsubscribe();\n      var u = 0, l = o++;\n      Y(e(c, l)).subscribe(i = j(r, function(f) {\n        return r.next(t ? t(c, f, l, u++) : f);\n      }, function() {\n        i = null, a();\n      }));\n    }, function() {\n      s = !0, a();\n    }));\n  });\n}\nfunction Lt(e) {\n  return B(function(t, n) {\n    Y(e).subscribe(j(n, function() {\n      return n.complete();\n    }, Ie)), !n.closed && t.subscribe(n);\n  });\n}\nvar Ai = Object.defineProperty, ki = Object.defineProperties, Oi = Object.getOwnPropertyDescriptors, _t = Object.getOwnPropertySymbols, Li = Object.prototype.hasOwnProperty, _i = Object.prototype.propertyIsEnumerable, It = (e, t, n) => t in e ? Ai(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, Q = (e, t) => {\n  for (var n in t || (t = {}))\n    Li.call(t, n) && It(e, n, t[n]);\n  if (_t)\n    for (var n of _t(t))\n      _i.call(t, n) && It(e, n, t[n]);\n  return e;\n}, ye = (e, t) => ki(e, Oi(t)), W = (e, t, n) => new Promise((r, i) => {\n  var o = (c) => {\n    try {\n      a(n.next(c));\n    } catch (u) {\n      i(u);\n    }\n  }, s = (c) => {\n    try {\n      a(n.throw(c));\n    } catch (u) {\n      i(u);\n    }\n  }, a = (c) => c.done ? r(c.value) : Promise.resolve(c.value).then(o, s);\n  a((n = n.apply(e, t)).next());\n}), Sn = \"lk\";\nfunction F(e) {\n  return typeof e > \"u\" ? !1 : Ii(e) || Di(e);\n}\nfunction Ii(e) {\n  var t;\n  return e ? e.hasOwnProperty(\"participant\") && e.hasOwnProperty(\"source\") && e.hasOwnProperty(\"track\") && typeof ((t = e.publication) == null ? void 0 : t.track) < \"u\" : !1;\n}\nfunction Di(e) {\n  return e ? e.hasOwnProperty(\"participant\") && e.hasOwnProperty(\"source\") && e.hasOwnProperty(\"publication\") && typeof e.publication < \"u\" : !1;\n}\nfunction xe(e) {\n  return e ? e.hasOwnProperty(\"participant\") && e.hasOwnProperty(\"source\") && typeof e.publication > \"u\" : !1;\n}\nfunction N(e) {\n  if (typeof e == \"string\" || typeof e == \"number\")\n    return `${e}`;\n  if (xe(e))\n    return `${e.participant.identity}_${e.source}_placeholder`;\n  if (F(e))\n    return `${e.participant.identity}_${e.publication.source}_${e.publication.trackSid}`;\n  throw new Error(`Can't generate a id for the given track reference: ${e}`);\n}\nfunction Ao(e, t) {\n  return e === void 0 || t === void 0 ? !1 : F(e) && F(t) ? e.publication.trackSid === t.publication.trackSid : N(e) === N(t);\n}\nfunction ko(e, t) {\n  return typeof t > \"u\" ? !1 : F(e) ? t.some(\n    (n) => n.participant.identity === e.participant.identity && F(n) && n.publication.trackSid === e.publication.trackSid\n  ) : xe(e) ? t.some(\n    (n) => n.participant.identity === e.participant.identity && xe(n) && n.source === e.source\n  ) : !1;\n}\nfunction Mi(e, t) {\n  return xe(e) && F(t) && t.participant.identity === e.participant.identity && t.source === e.source;\n}\nfunction Oo(e) {\n  return e instanceof livekit_client__WEBPACK_IMPORTED_MODULE_0__.LocalParticipant;\n}\nfunction Lo() {\n  const e = document.createElement(\"p\");\n  e.style.width = \"100%\", e.style.height = \"200px\";\n  const t = document.createElement(\"div\");\n  t.style.position = \"absolute\", t.style.top = \"0px\", t.style.left = \"0px\", t.style.visibility = \"hidden\", t.style.width = \"200px\", t.style.height = \"150px\", t.style.overflow = \"hidden\", t.appendChild(e), document.body.appendChild(t);\n  const n = e.offsetWidth;\n  t.style.overflow = \"scroll\";\n  let r = e.offsetWidth;\n  return n === r && (r = t.clientWidth), document.body.removeChild(t), n - r;\n}\nfunction _o() {\n  return typeof document < \"u\";\n}\nfunction Ri(e) {\n  e = Q({}, e);\n  const t = \"(?:(?:[a-z]+:)?//)?\", n = \"(?:\\\\S+(?::\\\\S*)?@)?\", r = new RegExp(\n    \"(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}\",\n    \"g\"\n  ).source, u = `(?:${t}|www\\\\.)${n}(?:localhost|${r}|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9][-_]*)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))\\\\.?)(?::\\\\d{2,5})?(?:[/?#][^\\\\s\"]*)?`;\n  return e.exact ? new RegExp(`(?:^${u}$)`, \"i\") : new RegExp(u, \"ig\");\n}\nvar Dt = \"[^\\\\.\\\\s@:](?:[^\\\\s@:]*[^\\\\s@:\\\\.])?@[^\\\\.\\\\s@]+(?:\\\\.[^\\\\.\\\\s@]+)*\";\nfunction Ni({ exact: e } = {}) {\n  return e ? new RegExp(`^${Dt}$`) : new RegExp(Dt, \"g\");\n}\nfunction Io(e, t) {\n  return W(this, null, function* () {\n    const { x: n, y: r } = yield wr(e, t, {\n      placement: \"top\",\n      middleware: [gr(6), yr(), br({ padding: 5 })]\n    });\n    return { x: n, y: r };\n  });\n}\nfunction Do(e, t) {\n  return !e.contains(t.target);\n}\nvar Mo = () => ({\n  email: Ni(),\n  url: Ri({})\n});\nfunction Ro(e, t) {\n  const n = Object.entries(t).map(\n    ([o, s], a) => Array.from(e.matchAll(s)).map(({ index: c, 0: u }) => ({\n      type: o,\n      weight: a,\n      content: u,\n      index: c ?? 0\n    }))\n  ).flat().sort((o, s) => {\n    const a = o.index - s.index;\n    return a !== 0 ? a : o.weight - s.weight;\n  }).filter(({ index: o }, s, a) => {\n    if (s === 0) return !0;\n    const c = a[s - 1];\n    return c.index + c.content.length <= o;\n  }), r = [];\n  let i = 0;\n  for (const { type: o, content: s, index: a } of n)\n    a > i && r.push(e.substring(i, a)), r.push({ type: o, content: s }), i = a + s.length;\n  return e.length > i && r.push(e.substring(i)), r;\n}\nvar $i = [\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.RoomMetadataChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveSpeakersChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionQualityChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantPermissionsChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantMetadataChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantNameChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantAttributesChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackMuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnmuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnpublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackStreamStateChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionFailed,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionPermissionChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionStatusChanged\n], xn = [\n  ...$i,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackUnpublished\n], Ui = [\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnpublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackStreamStateChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscribed,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnsubscribed,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionPermissionChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionFailed,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished\n], Fi = [\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ConnectionQualityChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.IsSpeakingChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantMetadataChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantPermissionsChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnpublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackStreamStateChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionFailed,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionPermissionChanged,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionStatusChanged\n], En = [\n  ...Fi,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished\n], _ = Tr.getLogger(\"lk-components-js\");\n_.setDefaultLevel(\"WARN\");\nfunction No(e, t = {}) {\n  var n;\n  _.setLevel(e), (0,livekit_client__WEBPACK_IMPORTED_MODULE_0__.setLogLevel)((n = t.liveKitClientLogLevel) != null ? n : e);\n}\nfunction $o(e, t = {}) {\n  var n;\n  const r = _.methodFactory;\n  _.methodFactory = (i, o, s) => {\n    const a = r(i, o, s), c = livekit_client__WEBPACK_IMPORTED_MODULE_0__.LogLevel[i], u = c >= o && c < livekit_client__WEBPACK_IMPORTED_MODULE_0__.LogLevel.silent;\n    return (l, f) => {\n      f ? a(l, f) : a(l), u && e(c, l, f);\n    };\n  }, _.setLevel(_.getLevel()), (0,livekit_client__WEBPACK_IMPORTED_MODULE_0__.setLogExtension)((n = t.liveKitClientLogExtension) != null ? n : e);\n}\nvar Uo = [\n  {\n    columns: 1,\n    rows: 1\n  },\n  {\n    columns: 1,\n    rows: 2,\n    orientation: \"portrait\"\n  },\n  {\n    columns: 2,\n    rows: 1,\n    orientation: \"landscape\"\n  },\n  {\n    columns: 2,\n    rows: 2,\n    minWidth: 560\n  },\n  {\n    columns: 3,\n    rows: 3,\n    minWidth: 700\n  },\n  {\n    columns: 4,\n    rows: 4,\n    minWidth: 960\n  },\n  {\n    columns: 5,\n    rows: 5,\n    minWidth: 1100\n  }\n];\nfunction ji(e, t, n, r) {\n  if (e.length < 1)\n    throw new Error(\"At least one grid layout definition must be provided.\");\n  const i = Wi(e);\n  if (n <= 0 || r <= 0)\n    return i[0];\n  let o = 0;\n  const s = n / r > 1 ? \"landscape\" : \"portrait\";\n  let a = i.find((c, u, l) => {\n    o = u;\n    const f = l.findIndex((h, d) => {\n      const m = !h.orientation || h.orientation === s, p = d > u, g = h.maxTiles === c.maxTiles;\n      return p && g && m;\n    }) !== -1;\n    return c.maxTiles >= t && !f;\n  });\n  if (a === void 0)\n    if (a = i[i.length - 1], a)\n      _.warn(\n        `No layout found for: participantCount: ${t}, width/height: ${n}/${r} fallback to biggest available layout (${a}).`\n      );\n    else\n      throw new Error(\"No layout or fallback layout found.\");\n  if ((n < a.minWidth || r < a.minHeight) && o > 0) {\n    const c = i[o - 1];\n    a = ji(\n      i.slice(0, o),\n      c.maxTiles,\n      n,\n      r\n    );\n  }\n  return a;\n}\nfunction Wi(e) {\n  return [...e].map((t) => {\n    var n, r;\n    return {\n      name: `${t.columns}x${t.rows}`,\n      columns: t.columns,\n      rows: t.rows,\n      maxTiles: t.columns * t.rows,\n      minWidth: (n = t.minWidth) != null ? n : 0,\n      minHeight: (r = t.minHeight) != null ? r : 0,\n      orientation: t.orientation\n    };\n  }).sort((t, n) => t.maxTiles !== n.maxTiles ? t.maxTiles - n.maxTiles : t.minWidth !== 0 || n.minWidth !== 0 ? t.minWidth - n.minWidth : t.minHeight !== 0 || n.minHeight !== 0 ? t.minHeight - n.minHeight : 0);\n}\nfunction Fo() {\n  return typeof navigator < \"u\" && navigator.mediaDevices && !!navigator.mediaDevices.getDisplayMedia;\n}\nfunction jo(e, t) {\n  var n;\n  return ye(Q({}, e), {\n    receivedAtMediaTimestamp: (n = t.rtpTimestamp) != null ? n : 0,\n    receivedAt: t.timestamp\n  });\n}\nfunction Wo(e, t, n) {\n  return [...e, ...t].reduceRight((r, i) => (r.find((o) => o.id === i.id) || r.unshift(i), r), []).slice(0 - n);\n}\nvar Tn = [], Cn = {\n  showChat: !1,\n  unreadMessages: 0,\n  showSettings: !1\n};\nfunction Bi(e) {\n  return typeof e == \"object\";\n}\nfunction Bo(e) {\n  return Array.isArray(e) && e.filter(Bi).length > 0;\n}\nfunction Pn(e, t) {\n  return t.audioLevel - e.audioLevel;\n}\nfunction An(e, t) {\n  return e.isSpeaking === t.isSpeaking ? 0 : e.isSpeaking ? -1 : 1;\n}\nfunction kn(e, t) {\n  var n, r, i, o;\n  return e.lastSpokeAt !== void 0 || t.lastSpokeAt !== void 0 ? ((r = (n = t.lastSpokeAt) == null ? void 0 : n.getTime()) != null ? r : 0) - ((o = (i = e.lastSpokeAt) == null ? void 0 : i.getTime()) != null ? o : 0) : 0;\n}\nfunction Me(e, t) {\n  var n, r, i, o;\n  return ((r = (n = e.joinedAt) == null ? void 0 : n.getTime()) != null ? r : 0) - ((o = (i = t.joinedAt) == null ? void 0 : i.getTime()) != null ? o : 0);\n}\nfunction Vi(e, t) {\n  return F(e) ? F(t) ? 0 : -1 : F(t) ? 1 : 0;\n}\nfunction Hi(e, t) {\n  const n = e.participant.isCameraEnabled, r = t.participant.isCameraEnabled;\n  return n !== r ? n ? -1 : 1 : 0;\n}\nfunction Vo(e) {\n  const t = [], n = [], r = [], i = [];\n  e.forEach((a) => {\n    a.participant.isLocal && a.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera ? t.push(a) : a.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare ? n.push(a) : a.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera ? r.push(a) : i.push(a);\n  });\n  const o = zi(n), s = Yi(r);\n  return [...t, ...o, ...s, ...i];\n}\nfunction zi(e) {\n  const t = [], n = [];\n  return e.forEach((i) => {\n    i.participant.isLocal ? t.push(i) : n.push(i);\n  }), t.sort((i, o) => Me(i.participant, o.participant)), n.sort((i, o) => Me(i.participant, o.participant)), [...n, ...t];\n}\nfunction Yi(e) {\n  const t = [], n = [];\n  return e.forEach((r) => {\n    r.participant.isLocal ? t.push(r) : n.push(r);\n  }), n.sort((r, i) => r.participant.isSpeaking && i.participant.isSpeaking ? Pn(r.participant, i.participant) : r.participant.isSpeaking !== i.participant.isSpeaking ? An(r.participant, i.participant) : r.participant.lastSpokeAt !== i.participant.lastSpokeAt ? kn(r.participant, i.participant) : F(r) !== F(i) ? Vi(r, i) : r.participant.isCameraEnabled !== i.participant.isCameraEnabled ? Hi(r, i) : Me(r.participant, i.participant)), [...t, ...n];\n}\nfunction Ho(e) {\n  const t = [...e];\n  t.sort((r, i) => {\n    if (r.isSpeaking && i.isSpeaking)\n      return Pn(r, i);\n    if (r.isSpeaking !== i.isSpeaking)\n      return An(r, i);\n    if (r.lastSpokeAt !== i.lastSpokeAt)\n      return kn(r, i);\n    const o = r.videoTrackPublications.size > 0, s = i.videoTrackPublications.size > 0;\n    return o !== s ? o ? -1 : 1 : Me(r, i);\n  });\n  const n = t.find((r) => r instanceof livekit_client__WEBPACK_IMPORTED_MODULE_0__.LocalParticipant);\n  if (n) {\n    const r = t.indexOf(n);\n    r >= 0 && (t.splice(r, 1), t.length > 0 ? t.splice(0, 0, n) : t.push(n));\n  }\n  return t;\n}\nfunction Gi(e, t) {\n  return e.reduce(\n    (n, r, i) => i % t === 0 ? [...n, [r]] : [...n.slice(0, -1), [...n.slice(-1)[0], r]],\n    []\n  );\n}\nfunction Mt(e, t) {\n  const n = Math.max(e.length, t.length);\n  return new Array(n).fill([]).map((r, i) => [e[i], t[i]]);\n}\nfunction Re(e, t, n) {\n  return e.filter((r) => !t.map((i) => n(i)).includes(n(r)));\n}\nfunction nt(e) {\n  return e.map((t) => typeof t == \"string\" || typeof t == \"number\" ? `${t}` : N(t));\n}\nfunction Ki(e, t) {\n  return {\n    dropped: Re(e, t, N),\n    added: Re(t, e, N)\n  };\n}\nfunction Qi(e) {\n  return e.added.length !== 0 || e.dropped.length !== 0;\n}\nfunction rt(e, t) {\n  const n = t.findIndex(\n    (r) => N(r) === N(e)\n  );\n  if (n === -1)\n    throw new Error(\n      `Element not part of the array: ${N(\n        e\n      )} not in ${nt(t)}`\n    );\n  return n;\n}\nfunction Ji(e, t, n) {\n  const r = rt(e, n), i = rt(t, n);\n  return n.splice(r, 1, t), n.splice(i, 1, e), n;\n}\nfunction qi(e, t) {\n  const n = rt(e, t);\n  return t.splice(n, 1), t;\n}\nfunction Xi(e, t) {\n  return [...t, e];\n}\nfunction Ge(e, t) {\n  return Gi(e, t);\n}\nfunction zo(e, t, n) {\n  let r = Zi(e, t);\n  if (r.length < t.length) {\n    const s = Re(t, r, N);\n    r = [...r, ...s];\n  }\n  const i = Ge(r, n), o = Ge(t, n);\n  if (Mt(i, o).forEach(([s, a], c) => {\n    if (s && a) {\n      const u = Ge(r, n)[c], l = Ki(u, a);\n      Qi(l) && (_.debug(\n        `Detected visual changes on page: ${c}, current: ${nt(\n          s\n        )}, next: ${nt(a)}`,\n        { changes: l }\n      ), l.added.length === l.dropped.length && Mt(l.added, l.dropped).forEach(([f, h]) => {\n        if (f && h)\n          r = Ji(f, h, r);\n        else\n          throw new Error(\n            `For a swap action we need a addition and a removal one is missing: ${f}, ${h}`\n          );\n      }), l.added.length === 0 && l.dropped.length > 0 && l.dropped.forEach((f) => {\n        r = qi(f, r);\n      }), l.added.length > 0 && l.dropped.length === 0 && l.added.forEach((f) => {\n        r = Xi(f, r);\n      }));\n    }\n  }), r.length > t.length) {\n    const s = Re(r, t, N);\n    r = r.filter(\n      (a) => !s.map(N).includes(N(a))\n    );\n  }\n  return r;\n}\nfunction Zi(e, t) {\n  return e.map((n) => {\n    const r = t.find(\n      (i) => (\n        // If the IDs match or ..\n        N(n) === N(i) || // ... if the current item is a placeholder and the new item is the track reference can replace it.\n        typeof n != \"number\" && xe(n) && F(i) && Mi(n, i)\n      )\n    );\n    return r ?? n;\n  });\n}\nfunction $(e) {\n  return `${Sn}-${e}`;\n}\nfunction Yo(e) {\n  const t = Rt(e), n = On(e.participant).pipe(\n    k(() => Rt(e)),\n    R(t)\n  );\n  return { className: $(\n    e.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera || e.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare ? \"participant-media-video\" : \"participant-media-audio\"\n  ), trackObserver: n };\n}\nfunction Rt(e) {\n  if (F(e))\n    return e.publication;\n  {\n    const { source: t, name: n, participant: r } = e;\n    if (t && n)\n      return r.getTrackPublications().find((i) => i.source === t && i.trackName === n);\n    if (n)\n      return r.getTrackPublicationByName(n);\n    if (t)\n      return r.getTrackPublication(t);\n    throw new Error(\"At least one of source and name needs to be defined\");\n  }\n}\nfunction se(e, ...t) {\n  return new O((r) => {\n    const i = () => {\n      r.next(e);\n    };\n    return t.forEach((s) => {\n      e.on(s, i);\n    }), () => {\n      t.forEach((s) => {\n        e.off(s, i);\n      });\n    };\n  }).pipe(R(e));\n}\nfunction ae(e, t) {\n  return new O((r) => {\n    const i = (...s) => {\n      r.next(s);\n    };\n    return e.on(t, i), () => {\n      e.off(t, i);\n    };\n  });\n}\nfunction Go(e) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged).pipe(\n    k(([t]) => t),\n    R(e.state)\n  );\n}\nfunction Ko(e) {\n  return se(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.RoomMetadataChanged,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged\n  ).pipe(\n    k((n) => ({ name: n.name, metadata: n.metadata }))\n  );\n}\nfunction Qo(e) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveSpeakersChanged).pipe(\n    k(([t]) => t)\n  );\n}\nfunction Jo(e, t, n = !0) {\n  var r;\n  const i = () => W(this, null, function* () {\n    try {\n      const a = yield livekit_client__WEBPACK_IMPORTED_MODULE_0__.Room.getLocalDevices(e, n);\n      o.next(a);\n    } catch (a) {\n      t == null || t(a);\n    }\n  }), o = new re(), s = o.pipe(\n    Ti(() => {\n      var a;\n      (a = navigator == null ? void 0 : navigator.mediaDevices) == null || a.removeEventListener(\"devicechange\", i);\n    })\n  );\n  if (typeof window < \"u\") {\n    if (!window.isSecureContext)\n      throw new Error(\n        \"Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices\"\n      );\n    (r = navigator == null ? void 0 : navigator.mediaDevices) == null || r.addEventListener(\"devicechange\", i);\n  }\n  return De(\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.Room.getLocalDevices(e, n).catch((a) => (t == null || t(a), [])),\n    s\n  );\n}\nfunction eo(e) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.DataReceived);\n}\nfunction to(e) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ChatMessage);\n}\nfunction no(e) {\n  return se(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.AudioPlaybackStatusChanged).pipe(\n    k((n) => ({ canPlayAudio: n.canPlaybackAudio }))\n  );\n}\nfunction ro(e) {\n  return se(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.VideoPlaybackStatusChanged).pipe(\n    k((n) => ({ canPlayVideo: n.canPlaybackVideo }))\n  );\n}\nfunction io(e, t) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveDeviceChanged).pipe(\n    vt(([n]) => n === t),\n    k(([n, r]) => (_.debug(\"activeDeviceObservable | RoomEvent.ActiveDeviceChanged\", { kind: n, deviceId: r }), r))\n  );\n}\nfunction qo(e, t) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantEncryptionStatusChanged).pipe(\n    vt(\n      ([, n]) => (t == null ? void 0 : t.identity) === (n == null ? void 0 : n.identity) || !n && (t == null ? void 0 : t.identity) === e.localParticipant.identity\n    ),\n    k(([n]) => n),\n    R(\n      t instanceof livekit_client__WEBPACK_IMPORTED_MODULE_0__.LocalParticipant ? t.isE2EEEnabled : !!(t != null && t.isEncrypted)\n    )\n  );\n}\nfunction Xo(e) {\n  return ae(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.RecordingStatusChanged).pipe(\n    k(([t]) => t),\n    R(e.isRecording)\n  );\n}\nfunction me(e, ...t) {\n  return new O((r) => {\n    const i = () => {\n      r.next(e);\n    };\n    return t.forEach((s) => {\n      e.on(s, i);\n    }), () => {\n      t.forEach((s) => {\n        e.off(s, i);\n      });\n    };\n  }).pipe(R(e));\n}\nfunction On(e) {\n  return me(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantPermissionsChanged,\n    // ParticipantEvent.IsSpeakingChanged,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackPublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnpublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.MediaDevicesError,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionStatusChanged\n    // ParticipantEvent.ConnectionQualityChanged,\n  ).pipe(\n    k((n) => {\n      const { isMicrophoneEnabled: r, isCameraEnabled: i, isScreenShareEnabled: o } = n, s = n.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone), a = n.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera);\n      return {\n        isCameraEnabled: i,\n        isMicrophoneEnabled: r,\n        isScreenShareEnabled: o,\n        cameraTrack: a,\n        microphoneTrack: s,\n        participant: n\n      };\n    })\n  );\n}\nfunction oo(e) {\n  return e ? me(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantMetadataChanged,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantNameChanged\n  ).pipe(\n    k(({ name: n, identity: r, metadata: i }) => ({\n      name: n,\n      identity: r,\n      metadata: i\n    })),\n    R({\n      name: e.name,\n      identity: e.identity,\n      metadata: e.metadata\n    })\n  ) : void 0;\n}\nfunction so(e) {\n  return Ve(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ConnectionQualityChanged\n  ).pipe(\n    k(([n]) => n),\n    R(e.connectionQuality)\n  );\n}\nfunction Ve(e, t) {\n  return new O((r) => {\n    const i = (...s) => {\n      r.next(s);\n    };\n    return e.on(t, i), () => {\n      e.off(t, i);\n    };\n  });\n}\nfunction ao(e) {\n  var t, n, r, i;\n  return me(\n    e.participant,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscribed,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnsubscribed,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished\n  ).pipe(\n    k((o) => {\n      var s, a;\n      const c = (s = e.publication) != null ? s : o.getTrackPublication(e.source);\n      return (a = c == null ? void 0 : c.isMuted) != null ? a : !0;\n    }),\n    R(\n      (i = (r = (t = e.publication) == null ? void 0 : t.isMuted) != null ? r : (n = e.participant.getTrackPublication(e.source)) == null ? void 0 : n.isMuted) != null ? i : !0\n    )\n  );\n}\nfunction Zo(e) {\n  return Ve(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.IsSpeakingChanged).pipe(\n    k(([t]) => t)\n  );\n}\nfunction es(e, t = {}) {\n  var n;\n  let r;\n  const i = new O((c) => (r = c, () => a.unsubscribe())).pipe(R(Array.from(e.remoteParticipants.values()))), o = (n = t.additionalRoomEvents) != null ? n : xn, s = Array.from(\n    /* @__PURE__ */ new Set([\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged,\n      ...o\n    ])\n  ), a = se(e, ...s).subscribe(\n    (c) => r == null ? void 0 : r.next(Array.from(c.remoteParticipants.values()))\n  );\n  return e.remoteParticipants.size > 0 && (r == null || r.next(Array.from(e.remoteParticipants.values()))), i;\n}\nfunction ts(e, t, n = {}) {\n  var r;\n  const i = (r = n.additionalEvents) != null ? r : En;\n  return se(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged\n  ).pipe(\n    wn((s) => {\n      const a = s.getParticipantByIdentity(t);\n      return a ? me(a, ...i) : new O((c) => c.next(void 0));\n    }),\n    R(e.getParticipantByIdentity(t))\n  );\n}\nfunction ns(e) {\n  return Ve(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantPermissionsChanged\n  ).pipe(\n    k(() => e.permissions),\n    R(e.permissions)\n  );\n}\nfunction rs(e, { kind: t, identity: n }, r = {}) {\n  var i;\n  const o = (i = r.additionalEvents) != null ? i : En, s = (c) => {\n    let u = !0;\n    return t && (u = u && c.kind === t), n && (u = u && c.identity === n), u;\n  };\n  return se(\n    e,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged\n  ).pipe(\n    wn((c) => {\n      const u = Array.from(c.remoteParticipants.values()).find(\n        (l) => s(l)\n      );\n      return u ? me(u, ...o) : new O((l) => l.next(void 0));\n    }),\n    R(Array.from(e.remoteParticipants.values()).find((c) => s(c)))\n  );\n}\nfunction is(e) {\n  return typeof e > \"u\" ? new O() : Ve(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.AttributesChanged).pipe(\n    k(([t]) => ({\n      changed: t,\n      attributes: e.attributes\n    })),\n    R({ changed: e.attributes, attributes: e.attributes })\n  );\n}\nfunction os(e, t, n, r, i) {\n  const { localParticipant: o } = t, s = (f, h) => {\n    let d = !1;\n    switch (f) {\n      case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera:\n        d = h.isCameraEnabled;\n        break;\n      case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone:\n        d = h.isMicrophoneEnabled;\n        break;\n      case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare:\n        d = h.isScreenShareEnabled;\n        break;\n    }\n    return d;\n  }, a = On(o).pipe(\n    k((f) => s(e, f.participant)),\n    R(s(e, o))\n  ), c = new re(), u = (f, h) => W(this, null, function* () {\n    try {\n      switch (h ?? (h = n), c.next(!0), e) {\n        case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera:\n          return yield o.setCameraEnabled(\n            f ?? !o.isCameraEnabled,\n            h,\n            r\n          ), o.isCameraEnabled;\n        case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone:\n          return yield o.setMicrophoneEnabled(\n            f ?? !o.isMicrophoneEnabled,\n            h,\n            r\n          ), o.isMicrophoneEnabled;\n        case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare:\n          return yield o.setScreenShareEnabled(\n            f ?? !o.isScreenShareEnabled,\n            h,\n            r\n          ), o.isScreenShareEnabled;\n        default:\n          throw new TypeError(\"Tried to toggle unsupported source\");\n      }\n    } catch (d) {\n      if (i && d instanceof Error) {\n        i == null || i(d);\n        return;\n      } else\n        throw d;\n    } finally {\n      c.next(!1);\n    }\n  });\n  return {\n    className: $(\"button\"),\n    toggle: u,\n    enabledObserver: a,\n    pendingObserver: c.asObservable()\n  };\n}\nfunction ss() {\n  let e = !1;\n  const t = new re(), n = new re(), r = (o) => W(this, null, function* () {\n    n.next(!0), e = o ?? !e, t.next(e), n.next(!1);\n  });\n  return {\n    className: $(\"button\"),\n    toggle: r,\n    enabledObserver: t.asObservable(),\n    pendingObserver: n.asObservable()\n  };\n}\nfunction as(e, t, n) {\n  const r = new on(void 0), i = t ? io(t, e) : r.asObservable(), o = (a, ...c) => W(this, [a, ...c], function* (u, l = {}) {\n    var f, h, d;\n    if (t) {\n      _.debug(`Switching active device of kind \"${e}\" with id ${u}.`), yield t.switchActiveDevice(e, u, l.exact);\n      const m = (f = t.getActiveDevice(e)) != null ? f : u;\n      m !== u && u !== \"default\" && _.info(\n        `We tried to select the device with id (${u}), but the browser decided to select the device with id (${m}) instead.`\n      );\n      let p;\n      e === \"audioinput\" ? p = (h = t.localParticipant.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone)) == null ? void 0 : h.track : e === \"videoinput\" && (p = (d = t.localParticipant.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera)) == null ? void 0 : d.track);\n      const g = u === \"default\" && !p || u === \"default\" && (p == null ? void 0 : p.mediaStreamTrack.label.startsWith(\"Default\"));\n      r.next(g ? u : m);\n    } else if (n) {\n      yield n.setDeviceId(l.exact ? { exact: u } : u);\n      const m = yield n.getDeviceId();\n      r.next(\n        u === \"default\" && n.mediaStreamTrack.label.startsWith(\"Default\") ? u : m\n      );\n    } else r.value !== u && (_.warn(\n      \"device switch skipped, please provide either a room or a local track to switch on. \"\n    ), r.next(u));\n  });\n  return {\n    className: $(\"media-device-select\"),\n    activeDeviceObservable: i,\n    setActiveMediaDevice: o\n  };\n}\nfunction cs(e) {\n  const t = (r) => {\n    e.disconnect(r);\n  };\n  return { className: $(\"disconnect-button\"), disconnect: t };\n}\nfunction us(e) {\n  const t = $(\"connection-quality\"), n = so(e);\n  return { className: t, connectionQualityObserver: n };\n}\nfunction ls(e) {\n  let t = \"track-muted-indicator-camera\";\n  switch (e.source) {\n    case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera:\n      t = \"track-muted-indicator-camera\";\n      break;\n    case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone:\n      t = \"track-muted-indicator-microphone\";\n      break;\n  }\n  const n = $(t), r = ao(e);\n  return { className: n, mediaMutedObserver: r };\n}\nfunction fs(e) {\n  return { className: \"lk-participant-name\", infoObserver: oo(e) };\n}\nfunction ds() {\n  return {\n    className: $(\"participant-tile\")\n  };\n}\nvar Nt = {\n  CHAT: \"lk-chat-topic\",\n  CHAT_UPDATE: \"lk-chat-update-topic\"\n};\nfunction it(e, t) {\n  return W(this, arguments, function* (n, r, i = {}) {\n    const { reliable: o, destinationIdentities: s, topic: a } = i;\n    yield n.publishData(r, {\n      destinationIdentities: s,\n      topic: a,\n      reliable: o\n    });\n  });\n}\nfunction co(e, t, n) {\n  const r = Array.isArray(t) ? t : [t], i = eo(e).pipe(\n    vt(\n      ([, , , c]) => t === void 0 || c !== void 0 && r.includes(c)\n    ),\n    k(([c, u, , l]) => {\n      const f = {\n        payload: c,\n        topic: l,\n        from: u\n      };\n      return n == null || n(f), f;\n    })\n  );\n  let o;\n  const s = new O((c) => {\n    o = c;\n  });\n  return { messageObservable: i, isSendingObservable: s, send: (c, ...u) => W(this, [c, ...u], function* (l, f = {}) {\n    o.next(!0);\n    try {\n      yield it(e.localParticipant, l, Q({ topic: r[0] }, f));\n    } finally {\n      o.next(!1);\n    }\n  }) };\n}\nfunction uo(e) {\n  return { chatObservable: to(e), send: (i) => W(this, null, function* () {\n    return yield e.localParticipant.sendChatMessage(i);\n  }), edit: (i, o) => W(this, null, function* () {\n    return yield e.localParticipant.editChatMessage(i, o);\n  }) };\n}\nvar lo = new TextEncoder(), fo = new TextDecoder(), Pe = /* @__PURE__ */ new Map(), po = (e) => lo.encode(JSON.stringify(e)), ho = (e) => JSON.parse(fo.decode(e));\nfunction ps(e, t) {\n  var n, r;\n  const i = new re(), o = () => {\n    var T, x, I;\n    return ((T = e.serverInfo) == null ? void 0 : T.edition) === 1 || !!((x = e.serverInfo) != null && x.version) && (0,livekit_client__WEBPACK_IMPORTED_MODULE_0__.compareVersions)((I = e.serverInfo) == null ? void 0 : I.version, \"1.17.2\") > 0;\n  }, { messageDecoder: s, messageEncoder: a, channelTopic: c, updateChannelTopic: u } = t ?? {}, l = c ?? Nt.CHAT, f = u ?? Nt.CHAT_UPDATE;\n  let h = !1;\n  Pe.has(e) || (h = !0);\n  const d = (n = Pe.get(e)) != null ? n : /* @__PURE__ */ new Map(), m = (r = d.get(l)) != null ? r : new re();\n  if (d.set(l, m), Pe.set(e, d), h) {\n    const { messageObservable: T } = co(e, [l, f]);\n    T.pipe(Lt(i)).subscribe(m);\n  }\n  const { chatObservable: p, send: g } = uo(e), v = s ?? ho, E = wi(\n    m.pipe(\n      k((T) => {\n        const x = v(T.payload), I = ye(Q({}, x), { from: T.from });\n        if (!vo(I))\n          return I;\n      })\n    ),\n    p.pipe(\n      k(([T, x]) => ye(Q({}, T), { from: x }))\n    )\n  ).pipe(\n    Ci((T, x) => {\n      var I;\n      if (!x)\n        return T;\n      if (\"id\" in x && T.find((w) => {\n        var S, V;\n        return ((S = w.from) == null ? void 0 : S.identity) === ((V = x.from) == null ? void 0 : V.identity) && w.id === x.id;\n      })) {\n        const w = T.findIndex((S) => S.id === x.id);\n        if (w > -1) {\n          const S = T[w];\n          T[w] = ye(Q({}, x), {\n            timestamp: S.timestamp,\n            editTimestamp: (I = x.editTimestamp) != null ? I : x.timestamp\n          });\n        }\n        return [...T];\n      }\n      return [...T, x];\n    }, []),\n    Lt(i)\n  ), P = new on(!1), L = a ?? po, C = (T) => W(this, null, function* () {\n    P.next(!0);\n    try {\n      const x = yield g(T), I = L(ye(Q({}, x), {\n        ignore: o()\n      }));\n      return yield it(e.localParticipant, I, {\n        reliable: !0,\n        topic: l\n      }), x;\n    } finally {\n      P.next(!1);\n    }\n  }), ie = (T, x) => W(this, null, function* () {\n    const I = Date.now(), w = typeof x == \"string\" ? { id: x, message: \"\", timestamp: I } : x;\n    P.next(!0);\n    try {\n      const S = yield e.localParticipant.editChatMessage(T, w), V = L(S);\n      return yield it(e.localParticipant, V, {\n        topic: f,\n        reliable: !0\n      }), S;\n    } finally {\n      P.next(!1);\n    }\n  });\n  function K() {\n    i.next(), i.complete(), Pe.delete(e);\n  }\n  return e.once(livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.Disconnected, K), {\n    messageObservable: E,\n    isSendingObservable: P,\n    send: C,\n    update: ie\n  };\n}\nfunction vo(e) {\n  return e.ignore == !0;\n}\nfunction hs() {\n  const e = (n) => W(this, null, function* () {\n    _.info(\"Start Audio for room: \", n), yield n.startAudio();\n  });\n  return { className: $(\"start-audio-button\"), roomAudioPlaybackAllowedObservable: no, handleStartAudioPlayback: e };\n}\nfunction vs() {\n  const e = (n) => W(this, null, function* () {\n    _.info(\"Start Video for room: \", n), yield n.startVideo();\n  });\n  return { className: $(\"start-audio-button\"), roomVideoPlaybackAllowedObservable: ro, handleStartVideoPlayback: e };\n}\nfunction ms() {\n  return { className: [$(\"button\"), $(\"chat-toggle\")].join(\" \") };\n}\nfunction gs() {\n  return { className: [$(\"button\"), $(\"focus-toggle-button\")].join(\" \") };\n}\nfunction bs() {\n  return { className: \"lk-clear-pin-button lk-button\" };\n}\nfunction ys() {\n  return { className: \"lk-room-container\" };\n}\nfunction $t(e, t, n = !0) {\n  const i = [e.localParticipant, ...Array.from(e.remoteParticipants.values())], o = [];\n  return i.forEach((s) => {\n    t.forEach((a) => {\n      const c = Array.from(\n        s.trackPublications.values()\n      ).filter(\n        (u) => u.source === a && // either return all or only the ones that are subscribed\n        (!n || u.track)\n      ).map((u) => ({\n        participant: s,\n        publication: u,\n        source: u.source\n      }));\n      o.push(...c);\n    });\n  }), { trackReferences: o, participants: i };\n}\nfunction Ut(e, t, n = !1) {\n  const { sources: r, kind: i, name: o } = t;\n  return Array.from(e.trackPublications.values()).filter(\n    (a) => (!r || r.includes(a.source)) && (!i || a.kind === i) && (!o || a.trackName === o) && // either return all or only the ones that are subscribed\n    (!n || a.track)\n  ).map((a) => ({\n    participant: e,\n    publication: a,\n    source: a.source\n  }));\n}\nfunction ws(e, t, n) {\n  var r, i;\n  const o = (r = n.additionalRoomEvents) != null ? r : xn, s = (i = n.onlySubscribed) != null ? i : !0, a = Array.from(\n    (/* @__PURE__ */ new Set([\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackPublished,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackUnpublished,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackPublished,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnpublished,\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionStatusChanged,\n      ...o\n    ])).values()\n  );\n  return se(e, ...a).pipe(\n    k((u) => {\n      const l = $t(u, t, s);\n      return _.debug(`TrackReference[] was updated. (length ${l.trackReferences.length})`, l), l;\n    }),\n    R($t(e, t, s))\n  );\n}\nfunction Ss(e, t) {\n  return me(e, ...Ui).pipe(\n    k((r) => {\n      const i = Ut(r, t);\n      return _.debug(`TrackReference[] was updated. (length ${i.length})`, i), i;\n    }),\n    R(Ut(e, t))\n  );\n}\nfunction Ln(e, t) {\n  return new O((r) => {\n    const i = (...s) => {\n      r.next(s);\n    };\n    return e.on(t, i), () => {\n      e.off(t, i);\n    };\n  });\n}\nfunction xs(e) {\n  return Ln(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.TrackEvent.TranscriptionReceived);\n}\nfunction Es(e) {\n  return Ln(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.TrackEvent.TimeSyncUpdate).pipe(\n    k(([t]) => t)\n  );\n}\nfunction Ts(e, t = 1e3) {\n  if (e === null) return kt(!1);\n  const n = tt(e, \"mousemove\", { passive: !0 }).pipe(k(() => !0)), r = n.pipe(\n    ai({\n      each: t,\n      with: () => De(kt(!1), r.pipe(Pi(n)))\n    }),\n    xi()\n  );\n  return r;\n}\nfunction mo(e, t) {\n  if (typeof localStorage > \"u\") {\n    _.error(\"Local storage is not available.\");\n    return;\n  }\n  try {\n    if (t) {\n      const n = Object.fromEntries(\n        Object.entries(t).filter(([, r]) => r !== \"\")\n      );\n      localStorage.setItem(e, JSON.stringify(n));\n    }\n  } catch (n) {\n    _.error(`Error setting item to local storage: ${n}`);\n  }\n}\nfunction go(e) {\n  if (typeof localStorage > \"u\") {\n    _.error(\"Local storage is not available.\");\n    return;\n  }\n  try {\n    const t = localStorage.getItem(e);\n    if (!t) {\n      _.warn(`Item with key ${e} does not exist in local storage.`);\n      return;\n    }\n    return JSON.parse(t);\n  } catch (t) {\n    _.error(`Error getting item from local storage: ${t}`);\n    return;\n  }\n}\nfunction bo(e) {\n  return {\n    load: () => go(e),\n    save: (t) => mo(e, t)\n  };\n}\nvar yo = `${Sn}-user-choices`, be = {\n  videoEnabled: !0,\n  audioEnabled: !0,\n  videoDeviceId: \"\",\n  audioDeviceId: \"\",\n  username: \"\"\n}, { load: wo, save: So } = bo(yo);\nfunction Cs(e, t = !1) {\n  t !== !0 && So(e);\n}\nfunction Ps(e, t = !1) {\n  var n, r, i, o, s;\n  const a = {\n    videoEnabled: (n = e == null ? void 0 : e.videoEnabled) != null ? n : be.videoEnabled,\n    audioEnabled: (r = e == null ? void 0 : e.audioEnabled) != null ? r : be.audioEnabled,\n    videoDeviceId: (i = e == null ? void 0 : e.videoDeviceId) != null ? i : be.videoDeviceId,\n    audioDeviceId: (o = e == null ? void 0 : e.audioDeviceId) != null ? o : be.audioDeviceId,\n    username: (s = e == null ? void 0 : e.username) != null ? s : be.username\n  };\n  if (t)\n    return a;\n  {\n    const c = wo();\n    return Q(Q({}, a), c ?? {});\n  }\n}\nfunction _n(e, t) {\n  if (t.msg === \"show_chat\")\n    return { ...e, showChat: !0, unreadMessages: 0 };\n  if (t.msg === \"hide_chat\")\n    return { ...e, showChat: !1 };\n  if (t.msg === \"toggle_chat\") {\n    const n = { ...e, showChat: !e.showChat };\n    return n.showChat === !0 && (n.unreadMessages = 0), n;\n  } else return t.msg === \"unread_msg\" ? { ...e, unreadMessages: t.count } : t.msg === \"toggle_settings\" ? { ...e, showSettings: !e.showSettings } : { ...e };\n}\nfunction In(e, t) {\n  return t.msg === \"set_pin\" ? [t.trackReference] : t.msg === \"clear_pin\" ? [] : { ...e };\n}\nconst Dn = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction As() {\n  const e = react__WEBPACK_IMPORTED_MODULE_1__.useContext(Dn);\n  if (!e)\n    throw Error(\"Tried to access LayoutContext context outside a LayoutContextProvider provider.\");\n  return e;\n}\nfunction ks(e) {\n  const t = xo();\n  if (e ?? (e = t), !e)\n    throw Error(\"Tried to access LayoutContext context outside a LayoutContextProvider provider.\");\n  return e;\n}\nfunction Os() {\n  const [e, t] = react__WEBPACK_IMPORTED_MODULE_1__.useReducer(In, Tn), [n, r] = react__WEBPACK_IMPORTED_MODULE_1__.useReducer(_n, Cn);\n  return {\n    pin: { dispatch: t, state: e },\n    widget: { dispatch: r, state: n }\n  };\n}\nfunction Ls(e) {\n  const [t, n] = react__WEBPACK_IMPORTED_MODULE_1__.useReducer(In, Tn), [r, i] = react__WEBPACK_IMPORTED_MODULE_1__.useReducer(_n, Cn);\n  return e ?? {\n    pin: { dispatch: n, state: t },\n    widget: { dispatch: i, state: r }\n  };\n}\nfunction xo() {\n  return react__WEBPACK_IMPORTED_MODULE_1__.useContext(Dn);\n}\nconst Mn = react__WEBPACK_IMPORTED_MODULE_1__.createContext(\n  void 0\n);\nfunction _s() {\n  const e = react__WEBPACK_IMPORTED_MODULE_1__.useContext(Mn);\n  if (!e)\n    throw Error(\"tried to access track context outside of track context provider\");\n  return e;\n}\nfunction Rn() {\n  return react__WEBPACK_IMPORTED_MODULE_1__.useContext(Mn);\n}\nfunction Is(e) {\n  const t = Rn(), n = e ?? t;\n  if (!n)\n    throw new Error(\n      \"No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly\"\n    );\n  return n;\n}\nconst Nn = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction Ds() {\n  const e = react__WEBPACK_IMPORTED_MODULE_1__.useContext(Nn);\n  if (!e)\n    throw Error(\"tried to access participant context outside of participant context provider\");\n  return e;\n}\nfunction Eo() {\n  return react__WEBPACK_IMPORTED_MODULE_1__.useContext(Nn);\n}\nfunction Ms(e) {\n  const t = Eo(), n = Rn(), r = e ?? t ?? (n == null ? void 0 : n.participant);\n  if (!r)\n    throw new Error(\n      \"No participant provided, make sure you are inside a participant context or pass the participant explicitly\"\n    );\n  return r;\n}\nconst $n = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction Rs() {\n  const e = react__WEBPACK_IMPORTED_MODULE_1__.useContext($n);\n  if (!e)\n    throw Error(\"tried to access room context outside of livekit room component\");\n  return e;\n}\nfunction To() {\n  return react__WEBPACK_IMPORTED_MODULE_1__.useContext($n);\n}\nfunction Ns(e) {\n  const t = To(), n = e ?? t;\n  if (!n)\n    throw new Error(\n      \"No room provided, make sure you are inside a Room context or pass the room explicitly\"\n    );\n  return n;\n}\nconst Co = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction $s(e) {\n  const t = react__WEBPACK_IMPORTED_MODULE_1__.useContext(Co);\n  if (e === !0) {\n    if (t)\n      return t;\n    throw Error(\"tried to access feature context, but none is present\");\n  }\n  return t;\n}\n\n//# sourceMappingURL=contexts-568EHGLp.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyLjYuN19AbGl2ZWtpdCtrcmlzcC1ub2lzZS1maWx0ZXJAMC4yLjEyX2xpdmVraXQtY2xpZW50QDIuNi4wX19saXZlX2txY2NoZXd2NWVnZXJoc29uMmFwc2xuN3NpL25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3QvY29udGV4dHMtNTY4RUhHTHAubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwTjtBQUMvTDtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsSUFBSSw0QkFBNEI7QUFDaEMsa0JBQWtCLGNBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1Isc0hBQXNIO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZ0JBQWdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnQkFBZ0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILDRCQUE0QixzQkFBc0I7QUFDbEQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxTQUFTO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixnQkFBZ0I7QUFDaEIsVUFBVTtBQUNWO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFVBQVU7QUFDNUM7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsVUFBVTtBQUM1QztBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBLDRCQUE0QixzQkFBc0I7QUFDbEQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJCQUEyQjtBQUMvQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixZQUFZO0FBQ1osTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFVBQVU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsc0JBQXNCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxvQkFBb0IsV0FBVywyQkFBMkIsVUFBVTtBQUNwRTtBQUNBO0FBQ0E7QUFD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QkFBdUI7QUFDbEMsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkNBQVk7QUFDckI7QUFDQSxXQUFXLGdEQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkNBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkNBQVk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnREFBZTtBQUMxQjtBQUNBLFlBQVksNkNBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkNBQVk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnREFBZTtBQUMxQjtBQUNBLFlBQVksNkNBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNkNBQVk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnREFBZTtBQUMxQjtBQUNBLFlBQVksNkNBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEwRkU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYXlncm91bmQvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyLjYuN19AbGl2ZWtpdCtrcmlzcC1ub2lzZS1maWx0ZXJAMC4yLjEyX2xpdmVraXQtY2xpZW50QDIuNi4wX19saXZlX2txY2NoZXd2NWVnZXJoc29uMmFwc2xuN3NpL25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3QvY29udGV4dHMtNTY4RUhHTHAubWpzPzhkYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm9vbUV2ZW50IGFzIGIsIFBhcnRpY2lwYW50RXZlbnQgYXMgeSwgc2V0TG9nTGV2ZWwgYXMgRm4sIExvZ0xldmVsIGFzIG10LCBzZXRMb2dFeHRlbnNpb24gYXMgam4sIExvY2FsUGFydGljaXBhbnQgYXMgb3QsIFRyYWNrIGFzIE0sIFJvb20gYXMgZ3QsIFRyYWNrRXZlbnQgYXMgRnQsIGNvbXBhcmVWZXJzaW9ucyBhcyBXbiB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0ICogYXMgRCBmcm9tIFwicmVhY3RcIjtcbmNvbnN0IEtlID0gTWF0aC5taW4sIHVlID0gTWF0aC5tYXgsIGtlID0gTWF0aC5yb3VuZCwgdGUgPSAoZSkgPT4gKHtcbiAgeDogZSxcbiAgeTogZVxufSksIEJuID0ge1xuICBsZWZ0OiBcInJpZ2h0XCIsXG4gIHJpZ2h0OiBcImxlZnRcIixcbiAgYm90dG9tOiBcInRvcFwiLFxuICB0b3A6IFwiYm90dG9tXCJcbn0sIFZuID0ge1xuICBzdGFydDogXCJlbmRcIixcbiAgZW5kOiBcInN0YXJ0XCJcbn07XG5mdW5jdGlvbiBidChlLCB0LCBuKSB7XG4gIHJldHVybiB1ZShlLCBLZSh0LCBuKSk7XG59XG5mdW5jdGlvbiBOZShlLCB0KSB7XG4gIHJldHVybiB0eXBlb2YgZSA9PSBcImZ1bmN0aW9uXCIgPyBlKHQpIDogZTtcbn1cbmZ1bmN0aW9uIG9lKGUpIHtcbiAgcmV0dXJuIGUuc3BsaXQoXCItXCIpWzBdO1xufVxuZnVuY3Rpb24gJGUoZSkge1xuICByZXR1cm4gZS5zcGxpdChcIi1cIilbMV07XG59XG5mdW5jdGlvbiBqdChlKSB7XG4gIHJldHVybiBlID09PSBcInhcIiA/IFwieVwiIDogXCJ4XCI7XG59XG5mdW5jdGlvbiBXdChlKSB7XG4gIHJldHVybiBlID09PSBcInlcIiA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCI7XG59XG5mdW5jdGlvbiBVZShlKSB7XG4gIHJldHVybiBbXCJ0b3BcIiwgXCJib3R0b21cIl0uaW5jbHVkZXMob2UoZSkpID8gXCJ5XCIgOiBcInhcIjtcbn1cbmZ1bmN0aW9uIEJ0KGUpIHtcbiAgcmV0dXJuIGp0KFVlKGUpKTtcbn1cbmZ1bmN0aW9uIEhuKGUsIHQsIG4pIHtcbiAgbiA9PT0gdm9pZCAwICYmIChuID0gITEpO1xuICBjb25zdCByID0gJGUoZSksIGkgPSBCdChlKSwgbyA9IFd0KGkpO1xuICBsZXQgcyA9IGkgPT09IFwieFwiID8gciA9PT0gKG4gPyBcImVuZFwiIDogXCJzdGFydFwiKSA/IFwicmlnaHRcIiA6IFwibGVmdFwiIDogciA9PT0gXCJzdGFydFwiID8gXCJib3R0b21cIiA6IFwidG9wXCI7XG4gIHJldHVybiB0LnJlZmVyZW5jZVtvXSA+IHQuZmxvYXRpbmdbb10gJiYgKHMgPSBPZShzKSksIFtzLCBPZShzKV07XG59XG5mdW5jdGlvbiB6bihlKSB7XG4gIGNvbnN0IHQgPSBPZShlKTtcbiAgcmV0dXJuIFtRZShlKSwgdCwgUWUodCldO1xufVxuZnVuY3Rpb24gUWUoZSkge1xuICByZXR1cm4gZS5yZXBsYWNlKC9zdGFydHxlbmQvZywgKHQpID0+IFZuW3RdKTtcbn1cbmZ1bmN0aW9uIFluKGUsIHQsIG4pIHtcbiAgY29uc3QgciA9IFtcImxlZnRcIiwgXCJyaWdodFwiXSwgaSA9IFtcInJpZ2h0XCIsIFwibGVmdFwiXSwgbyA9IFtcInRvcFwiLCBcImJvdHRvbVwiXSwgcyA9IFtcImJvdHRvbVwiLCBcInRvcFwiXTtcbiAgc3dpdGNoIChlKSB7XG4gICAgY2FzZSBcInRvcFwiOlxuICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgIHJldHVybiBuID8gdCA/IGkgOiByIDogdCA/IHIgOiBpO1xuICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICByZXR1cm4gdCA/IG8gOiBzO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gW107XG4gIH1cbn1cbmZ1bmN0aW9uIEduKGUsIHQsIG4sIHIpIHtcbiAgY29uc3QgaSA9ICRlKGUpO1xuICBsZXQgbyA9IFluKG9lKGUpLCBuID09PSBcInN0YXJ0XCIsIHIpO1xuICByZXR1cm4gaSAmJiAobyA9IG8ubWFwKChzKSA9PiBzICsgXCItXCIgKyBpKSwgdCAmJiAobyA9IG8uY29uY2F0KG8ubWFwKFFlKSkpKSwgbztcbn1cbmZ1bmN0aW9uIE9lKGUpIHtcbiAgcmV0dXJuIGUucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csICh0KSA9PiBCblt0XSk7XG59XG5mdW5jdGlvbiBLbihlKSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIGJvdHRvbTogMCxcbiAgICBsZWZ0OiAwLFxuICAgIC4uLmVcbiAgfTtcbn1cbmZ1bmN0aW9uIFFuKGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBlICE9IFwibnVtYmVyXCIgPyBLbihlKSA6IHtcbiAgICB0b3A6IGUsXG4gICAgcmlnaHQ6IGUsXG4gICAgYm90dG9tOiBlLFxuICAgIGxlZnQ6IGVcbiAgfTtcbn1cbmZ1bmN0aW9uIExlKGUpIHtcbiAgY29uc3Qge1xuICAgIHg6IHQsXG4gICAgeTogbixcbiAgICB3aWR0aDogcixcbiAgICBoZWlnaHQ6IGlcbiAgfSA9IGU7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHIsXG4gICAgaGVpZ2h0OiBpLFxuICAgIHRvcDogbixcbiAgICBsZWZ0OiB0LFxuICAgIHJpZ2h0OiB0ICsgcixcbiAgICBib3R0b206IG4gKyBpLFxuICAgIHg6IHQsXG4gICAgeTogblxuICB9O1xufVxuZnVuY3Rpb24geXQoZSwgdCwgbikge1xuICBsZXQge1xuICAgIHJlZmVyZW5jZTogcixcbiAgICBmbG9hdGluZzogaVxuICB9ID0gZTtcbiAgY29uc3QgbyA9IFVlKHQpLCBzID0gQnQodCksIGEgPSBXdChzKSwgYyA9IG9lKHQpLCB1ID0gbyA9PT0gXCJ5XCIsIGwgPSByLnggKyByLndpZHRoIC8gMiAtIGkud2lkdGggLyAyLCBmID0gci55ICsgci5oZWlnaHQgLyAyIC0gaS5oZWlnaHQgLyAyLCBoID0gclthXSAvIDIgLSBpW2FdIC8gMjtcbiAgbGV0IGQ7XG4gIHN3aXRjaCAoYykge1xuICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgIGQgPSB7XG4gICAgICAgIHg6IGwsXG4gICAgICAgIHk6IHIueSAtIGkuaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgZCA9IHtcbiAgICAgICAgeDogbCxcbiAgICAgICAgeTogci55ICsgci5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgIGQgPSB7XG4gICAgICAgIHg6IHIueCArIHIud2lkdGgsXG4gICAgICAgIHk6IGZcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgZCA9IHtcbiAgICAgICAgeDogci54IC0gaS53aWR0aCxcbiAgICAgICAgeTogZlxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBkID0ge1xuICAgICAgICB4OiByLngsXG4gICAgICAgIHk6IHIueVxuICAgICAgfTtcbiAgfVxuICBzd2l0Y2ggKCRlKHQpKSB7XG4gICAgY2FzZSBcInN0YXJ0XCI6XG4gICAgICBkW3NdIC09IGggKiAobiAmJiB1ID8gLTEgOiAxKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgIGRbc10gKz0gaCAqIChuICYmIHUgPyAtMSA6IDEpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIGQ7XG59XG5jb25zdCBKbiA9IGFzeW5jIChlLCB0LCBuKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwbGFjZW1lbnQ6IHIgPSBcImJvdHRvbVwiLFxuICAgIHN0cmF0ZWd5OiBpID0gXCJhYnNvbHV0ZVwiLFxuICAgIG1pZGRsZXdhcmU6IG8gPSBbXSxcbiAgICBwbGF0Zm9ybTogc1xuICB9ID0gbiwgYSA9IG8uZmlsdGVyKEJvb2xlYW4pLCBjID0gYXdhaXQgKHMuaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHMuaXNSVEwodCkpO1xuICBsZXQgdSA9IGF3YWl0IHMuZ2V0RWxlbWVudFJlY3RzKHtcbiAgICByZWZlcmVuY2U6IGUsXG4gICAgZmxvYXRpbmc6IHQsXG4gICAgc3RyYXRlZ3k6IGlcbiAgfSksIHtcbiAgICB4OiBsLFxuICAgIHk6IGZcbiAgfSA9IHl0KHUsIHIsIGMpLCBoID0gciwgZCA9IHt9LCBtID0gMDtcbiAgZm9yIChsZXQgcCA9IDA7IHAgPCBhLmxlbmd0aDsgcCsrKSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZTogZyxcbiAgICAgIGZuOiB2XG4gICAgfSA9IGFbcF0sIHtcbiAgICAgIHg6IEUsXG4gICAgICB5OiBQLFxuICAgICAgZGF0YTogTCxcbiAgICAgIHJlc2V0OiBDXG4gICAgfSA9IGF3YWl0IHYoe1xuICAgICAgeDogbCxcbiAgICAgIHk6IGYsXG4gICAgICBpbml0aWFsUGxhY2VtZW50OiByLFxuICAgICAgcGxhY2VtZW50OiBoLFxuICAgICAgc3RyYXRlZ3k6IGksXG4gICAgICBtaWRkbGV3YXJlRGF0YTogZCxcbiAgICAgIHJlY3RzOiB1LFxuICAgICAgcGxhdGZvcm06IHMsXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICByZWZlcmVuY2U6IGUsXG4gICAgICAgIGZsb2F0aW5nOiB0XG4gICAgICB9XG4gICAgfSk7XG4gICAgbCA9IEUgPz8gbCwgZiA9IFAgPz8gZiwgZCA9IHtcbiAgICAgIC4uLmQsXG4gICAgICBbZ106IHtcbiAgICAgICAgLi4uZFtnXSxcbiAgICAgICAgLi4uTFxuICAgICAgfVxuICAgIH0sIEMgJiYgbSA8PSA1MCAmJiAobSsrLCB0eXBlb2YgQyA9PSBcIm9iamVjdFwiICYmIChDLnBsYWNlbWVudCAmJiAoaCA9IEMucGxhY2VtZW50KSwgQy5yZWN0cyAmJiAodSA9IEMucmVjdHMgPT09ICEwID8gYXdhaXQgcy5nZXRFbGVtZW50UmVjdHMoe1xuICAgICAgcmVmZXJlbmNlOiBlLFxuICAgICAgZmxvYXRpbmc6IHQsXG4gICAgICBzdHJhdGVneTogaVxuICAgIH0pIDogQy5yZWN0cyksIHtcbiAgICAgIHg6IGwsXG4gICAgICB5OiBmXG4gICAgfSA9IHl0KHUsIGgsIGMpKSwgcCA9IC0xKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHg6IGwsXG4gICAgeTogZixcbiAgICBwbGFjZW1lbnQ6IGgsXG4gICAgc3RyYXRlZ3k6IGksXG4gICAgbWlkZGxld2FyZURhdGE6IGRcbiAgfTtcbn07XG5hc3luYyBmdW5jdGlvbiBWdChlLCB0KSB7XG4gIHZhciBuO1xuICB0ID09PSB2b2lkIDAgJiYgKHQgPSB7fSk7XG4gIGNvbnN0IHtcbiAgICB4OiByLFxuICAgIHk6IGksXG4gICAgcGxhdGZvcm06IG8sXG4gICAgcmVjdHM6IHMsXG4gICAgZWxlbWVudHM6IGEsXG4gICAgc3RyYXRlZ3k6IGNcbiAgfSA9IGUsIHtcbiAgICBib3VuZGFyeTogdSA9IFwiY2xpcHBpbmdBbmNlc3RvcnNcIixcbiAgICByb290Qm91bmRhcnk6IGwgPSBcInZpZXdwb3J0XCIsXG4gICAgZWxlbWVudENvbnRleHQ6IGYgPSBcImZsb2F0aW5nXCIsXG4gICAgYWx0Qm91bmRhcnk6IGggPSAhMSxcbiAgICBwYWRkaW5nOiBkID0gMFxuICB9ID0gTmUodCwgZSksIG0gPSBRbihkKSwgZyA9IGFbaCA/IGYgPT09IFwiZmxvYXRpbmdcIiA/IFwicmVmZXJlbmNlXCIgOiBcImZsb2F0aW5nXCIgOiBmXSwgdiA9IExlKGF3YWl0IG8uZ2V0Q2xpcHBpbmdSZWN0KHtcbiAgICBlbGVtZW50OiAobiA9IGF3YWl0IChvLmlzRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogby5pc0VsZW1lbnQoZykpKSA9PSBudWxsIHx8IG4gPyBnIDogZy5jb250ZXh0RWxlbWVudCB8fCBhd2FpdCAoby5nZXREb2N1bWVudEVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IG8uZ2V0RG9jdW1lbnRFbGVtZW50KGEuZmxvYXRpbmcpKSxcbiAgICBib3VuZGFyeTogdSxcbiAgICByb290Qm91bmRhcnk6IGwsXG4gICAgc3RyYXRlZ3k6IGNcbiAgfSkpLCBFID0gZiA9PT0gXCJmbG9hdGluZ1wiID8ge1xuICAgIC4uLnMuZmxvYXRpbmcsXG4gICAgeDogcixcbiAgICB5OiBpXG4gIH0gOiBzLnJlZmVyZW5jZSwgUCA9IGF3YWl0IChvLmdldE9mZnNldFBhcmVudCA9PSBudWxsID8gdm9pZCAwIDogby5nZXRPZmZzZXRQYXJlbnQoYS5mbG9hdGluZykpLCBMID0gYXdhaXQgKG8uaXNFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBvLmlzRWxlbWVudChQKSkgPyBhd2FpdCAoby5nZXRTY2FsZSA9PSBudWxsID8gdm9pZCAwIDogby5nZXRTY2FsZShQKSkgfHwge1xuICAgIHg6IDEsXG4gICAgeTogMVxuICB9IDoge1xuICAgIHg6IDEsXG4gICAgeTogMVxuICB9LCBDID0gTGUoby5jb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCA/IGF3YWl0IG8uY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3Qoe1xuICAgIGVsZW1lbnRzOiBhLFxuICAgIHJlY3Q6IEUsXG4gICAgb2Zmc2V0UGFyZW50OiBQLFxuICAgIHN0cmF0ZWd5OiBjXG4gIH0pIDogRSk7XG4gIHJldHVybiB7XG4gICAgdG9wOiAodi50b3AgLSBDLnRvcCArIG0udG9wKSAvIEwueSxcbiAgICBib3R0b206IChDLmJvdHRvbSAtIHYuYm90dG9tICsgbS5ib3R0b20pIC8gTC55LFxuICAgIGxlZnQ6ICh2LmxlZnQgLSBDLmxlZnQgKyBtLmxlZnQpIC8gTC54LFxuICAgIHJpZ2h0OiAoQy5yaWdodCAtIHYucmlnaHQgKyBtLnJpZ2h0KSAvIEwueFxuICB9O1xufVxuY29uc3QgcW4gPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBlID09PSB2b2lkIDAgJiYgKGUgPSB7fSksIHtcbiAgICBuYW1lOiBcImZsaXBcIixcbiAgICBvcHRpb25zOiBlLFxuICAgIGFzeW5jIGZuKHQpIHtcbiAgICAgIHZhciBuLCByO1xuICAgICAgY29uc3Qge1xuICAgICAgICBwbGFjZW1lbnQ6IGksXG4gICAgICAgIG1pZGRsZXdhcmVEYXRhOiBvLFxuICAgICAgICByZWN0czogcyxcbiAgICAgICAgaW5pdGlhbFBsYWNlbWVudDogYSxcbiAgICAgICAgcGxhdGZvcm06IGMsXG4gICAgICAgIGVsZW1lbnRzOiB1XG4gICAgICB9ID0gdCwge1xuICAgICAgICBtYWluQXhpczogbCA9ICEwLFxuICAgICAgICBjcm9zc0F4aXM6IGYgPSAhMCxcbiAgICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzOiBoLFxuICAgICAgICBmYWxsYmFja1N0cmF0ZWd5OiBkID0gXCJiZXN0Rml0XCIsXG4gICAgICAgIGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb246IG0gPSBcIm5vbmVcIixcbiAgICAgICAgZmxpcEFsaWdubWVudDogcCA9ICEwLFxuICAgICAgICAuLi5nXG4gICAgICB9ID0gTmUoZSwgdCk7XG4gICAgICBpZiAoKG4gPSBvLmFycm93KSAhPSBudWxsICYmIG4uYWxpZ25tZW50T2Zmc2V0KVxuICAgICAgICByZXR1cm4ge307XG4gICAgICBjb25zdCB2ID0gb2UoaSksIEUgPSBvZShhKSA9PT0gYSwgUCA9IGF3YWl0IChjLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBjLmlzUlRMKHUuZmxvYXRpbmcpKSwgTCA9IGggfHwgKEUgfHwgIXAgPyBbT2UoYSldIDogem4oYSkpO1xuICAgICAgIWggJiYgbSAhPT0gXCJub25lXCIgJiYgTC5wdXNoKC4uLkduKGEsIHAsIG0sIFApKTtcbiAgICAgIGNvbnN0IEMgPSBbYSwgLi4uTF0sIGllID0gYXdhaXQgVnQodCwgZyksIEsgPSBbXTtcbiAgICAgIGxldCBUID0gKChyID0gby5mbGlwKSA9PSBudWxsID8gdm9pZCAwIDogci5vdmVyZmxvd3MpIHx8IFtdO1xuICAgICAgaWYgKGwgJiYgSy5wdXNoKGllW3ZdKSwgZikge1xuICAgICAgICBjb25zdCBTID0gSG4oaSwgcywgUCk7XG4gICAgICAgIEsucHVzaChpZVtTWzBdXSwgaWVbU1sxXV0pO1xuICAgICAgfVxuICAgICAgaWYgKFQgPSBbLi4uVCwge1xuICAgICAgICBwbGFjZW1lbnQ6IGksXG4gICAgICAgIG92ZXJmbG93czogS1xuICAgICAgfV0sICFLLmV2ZXJ5KChTKSA9PiBTIDw9IDApKSB7XG4gICAgICAgIHZhciB4LCBJO1xuICAgICAgICBjb25zdCBTID0gKCgoeCA9IG8uZmxpcCkgPT0gbnVsbCA/IHZvaWQgMCA6IHguaW5kZXgpIHx8IDApICsgMSwgViA9IENbU107XG4gICAgICAgIGlmIChWKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluZGV4OiBTLFxuICAgICAgICAgICAgICBvdmVyZmxvd3M6IFRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IFZcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICBsZXQgWCA9IChJID0gVC5maWx0ZXIoKFopID0+IFoub3ZlcmZsb3dzWzBdIDw9IDApLnNvcnQoKFosIGNlKSA9PiBaLm92ZXJmbG93c1sxXSAtIGNlLm92ZXJmbG93c1sxXSlbMF0pID09IG51bGwgPyB2b2lkIDAgOiBJLnBsYWNlbWVudDtcbiAgICAgICAgaWYgKCFYKVxuICAgICAgICAgIHN3aXRjaCAoZCkge1xuICAgICAgICAgICAgY2FzZSBcImJlc3RGaXRcIjoge1xuICAgICAgICAgICAgICB2YXIgdztcbiAgICAgICAgICAgICAgY29uc3QgWiA9ICh3ID0gVC5tYXAoKGNlKSA9PiBbY2UucGxhY2VtZW50LCBjZS5vdmVyZmxvd3MuZmlsdGVyKChnZSkgPT4gZ2UgPiAwKS5yZWR1Y2UoKGdlLCBVbikgPT4gZ2UgKyBVbiwgMCldKS5zb3J0KChjZSwgZ2UpID0+IGNlWzFdIC0gZ2VbMV0pWzBdKSA9PSBudWxsID8gdm9pZCAwIDogd1swXTtcbiAgICAgICAgICAgICAgWiAmJiAoWCA9IFopO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpbml0aWFsUGxhY2VtZW50XCI6XG4gICAgICAgICAgICAgIFggPSBhO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGlmIChpICE9PSBYKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IFhcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5hc3luYyBmdW5jdGlvbiBYbihlLCB0KSB7XG4gIGNvbnN0IHtcbiAgICBwbGFjZW1lbnQ6IG4sXG4gICAgcGxhdGZvcm06IHIsXG4gICAgZWxlbWVudHM6IGlcbiAgfSA9IGUsIG8gPSBhd2FpdCAoci5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogci5pc1JUTChpLmZsb2F0aW5nKSksIHMgPSBvZShuKSwgYSA9ICRlKG4pLCBjID0gVWUobikgPT09IFwieVwiLCB1ID0gW1wibGVmdFwiLCBcInRvcFwiXS5pbmNsdWRlcyhzKSA/IC0xIDogMSwgbCA9IG8gJiYgYyA/IC0xIDogMSwgZiA9IE5lKHQsIGUpO1xuICBsZXQge1xuICAgIG1haW5BeGlzOiBoLFxuICAgIGNyb3NzQXhpczogZCxcbiAgICBhbGlnbm1lbnRBeGlzOiBtXG4gIH0gPSB0eXBlb2YgZiA9PSBcIm51bWJlclwiID8ge1xuICAgIG1haW5BeGlzOiBmLFxuICAgIGNyb3NzQXhpczogMCxcbiAgICBhbGlnbm1lbnRBeGlzOiBudWxsXG4gIH0gOiB7XG4gICAgbWFpbkF4aXM6IDAsXG4gICAgY3Jvc3NBeGlzOiAwLFxuICAgIGFsaWdubWVudEF4aXM6IG51bGwsXG4gICAgLi4uZlxuICB9O1xuICByZXR1cm4gYSAmJiB0eXBlb2YgbSA9PSBcIm51bWJlclwiICYmIChkID0gYSA9PT0gXCJlbmRcIiA/IG0gKiAtMSA6IG0pLCBjID8ge1xuICAgIHg6IGQgKiBsLFxuICAgIHk6IGggKiB1XG4gIH0gOiB7XG4gICAgeDogaCAqIHUsXG4gICAgeTogZCAqIGxcbiAgfTtcbn1cbmNvbnN0IFpuID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZSA9PT0gdm9pZCAwICYmIChlID0gMCksIHtcbiAgICBuYW1lOiBcIm9mZnNldFwiLFxuICAgIG9wdGlvbnM6IGUsXG4gICAgYXN5bmMgZm4odCkge1xuICAgICAgdmFyIG4sIHI7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHg6IGksXG4gICAgICAgIHk6IG8sXG4gICAgICAgIHBsYWNlbWVudDogcyxcbiAgICAgICAgbWlkZGxld2FyZURhdGE6IGFcbiAgICAgIH0gPSB0LCBjID0gYXdhaXQgWG4odCwgZSk7XG4gICAgICByZXR1cm4gcyA9PT0gKChuID0gYS5vZmZzZXQpID09IG51bGwgPyB2b2lkIDAgOiBuLnBsYWNlbWVudCkgJiYgKHIgPSBhLmFycm93KSAhPSBudWxsICYmIHIuYWxpZ25tZW50T2Zmc2V0ID8ge30gOiB7XG4gICAgICAgIHg6IGkgKyBjLngsXG4gICAgICAgIHk6IG8gKyBjLnksXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAuLi5jLFxuICAgICAgICAgIHBsYWNlbWVudDogc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn0sIGVyID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZSA9PT0gdm9pZCAwICYmIChlID0ge30pLCB7XG4gICAgbmFtZTogXCJzaGlmdFwiLFxuICAgIG9wdGlvbnM6IGUsXG4gICAgYXN5bmMgZm4odCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB4OiBuLFxuICAgICAgICB5OiByLFxuICAgICAgICBwbGFjZW1lbnQ6IGlcbiAgICAgIH0gPSB0LCB7XG4gICAgICAgIG1haW5BeGlzOiBvID0gITAsXG4gICAgICAgIGNyb3NzQXhpczogcyA9ICExLFxuICAgICAgICBsaW1pdGVyOiBhID0ge1xuICAgICAgICAgIGZuOiAoZykgPT4ge1xuICAgICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgICAgeDogdixcbiAgICAgICAgICAgICAgeTogRVxuICAgICAgICAgICAgfSA9IGc7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB4OiB2LFxuICAgICAgICAgICAgICB5OiBFXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLi4uY1xuICAgICAgfSA9IE5lKGUsIHQpLCB1ID0ge1xuICAgICAgICB4OiBuLFxuICAgICAgICB5OiByXG4gICAgICB9LCBsID0gYXdhaXQgVnQodCwgYyksIGYgPSBVZShvZShpKSksIGggPSBqdChmKTtcbiAgICAgIGxldCBkID0gdVtoXSwgbSA9IHVbZl07XG4gICAgICBpZiAobykge1xuICAgICAgICBjb25zdCBnID0gaCA9PT0gXCJ5XCIgPyBcInRvcFwiIDogXCJsZWZ0XCIsIHYgPSBoID09PSBcInlcIiA/IFwiYm90dG9tXCIgOiBcInJpZ2h0XCIsIEUgPSBkICsgbFtnXSwgUCA9IGQgLSBsW3ZdO1xuICAgICAgICBkID0gYnQoRSwgZCwgUCk7XG4gICAgICB9XG4gICAgICBpZiAocykge1xuICAgICAgICBjb25zdCBnID0gZiA9PT0gXCJ5XCIgPyBcInRvcFwiIDogXCJsZWZ0XCIsIHYgPSBmID09PSBcInlcIiA/IFwiYm90dG9tXCIgOiBcInJpZ2h0XCIsIEUgPSBtICsgbFtnXSwgUCA9IG0gLSBsW3ZdO1xuICAgICAgICBtID0gYnQoRSwgbSwgUCk7XG4gICAgICB9XG4gICAgICBjb25zdCBwID0gYS5mbih7XG4gICAgICAgIC4uLnQsXG4gICAgICAgIFtoXTogZCxcbiAgICAgICAgW2ZdOiBtXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB4OiBwLnggLSBuLFxuICAgICAgICAgIHk6IHAueSAtIHJcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuZnVuY3Rpb24gRmUoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93IDwgXCJ1XCI7XG59XG5mdW5jdGlvbiB2ZShlKSB7XG4gIHJldHVybiBIdChlKSA/IChlLm5vZGVOYW1lIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkgOiBcIiNkb2N1bWVudFwiO1xufVxuZnVuY3Rpb24gVShlKSB7XG4gIHZhciB0O1xuICByZXR1cm4gKGUgPT0gbnVsbCB8fCAodCA9IGUub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IHQuZGVmYXVsdFZpZXcpIHx8IHdpbmRvdztcbn1cbmZ1bmN0aW9uIEooZSkge1xuICB2YXIgdDtcbiAgcmV0dXJuICh0ID0gKEh0KGUpID8gZS5vd25lckRvY3VtZW50IDogZS5kb2N1bWVudCkgfHwgd2luZG93LmRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogdC5kb2N1bWVudEVsZW1lbnQ7XG59XG5mdW5jdGlvbiBIdChlKSB7XG4gIHJldHVybiBGZSgpID8gZSBpbnN0YW5jZW9mIE5vZGUgfHwgZSBpbnN0YW5jZW9mIFUoZSkuTm9kZSA6ICExO1xufVxuZnVuY3Rpb24gSChlKSB7XG4gIHJldHVybiBGZSgpID8gZSBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgZSBpbnN0YW5jZW9mIFUoZSkuRWxlbWVudCA6ICExO1xufVxuZnVuY3Rpb24gRyhlKSB7XG4gIHJldHVybiBGZSgpID8gZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IGUgaW5zdGFuY2VvZiBVKGUpLkhUTUxFbGVtZW50IDogITE7XG59XG5mdW5jdGlvbiB3dChlKSB7XG4gIHJldHVybiAhRmUoKSB8fCB0eXBlb2YgU2hhZG93Um9vdCA+IFwidVwiID8gITEgOiBlIGluc3RhbmNlb2YgU2hhZG93Um9vdCB8fCBlIGluc3RhbmNlb2YgVShlKS5TaGFkb3dSb290O1xufVxuZnVuY3Rpb24gRWUoZSkge1xuICBjb25zdCB7XG4gICAgb3ZlcmZsb3c6IHQsXG4gICAgb3ZlcmZsb3dYOiBuLFxuICAgIG92ZXJmbG93WTogcixcbiAgICBkaXNwbGF5OiBpXG4gIH0gPSB6KGUpO1xuICByZXR1cm4gL2F1dG98c2Nyb2xsfG92ZXJsYXl8aGlkZGVufGNsaXAvLnRlc3QodCArIHIgKyBuKSAmJiAhW1wiaW5saW5lXCIsIFwiY29udGVudHNcIl0uaW5jbHVkZXMoaSk7XG59XG5mdW5jdGlvbiB0cihlKSB7XG4gIHJldHVybiBbXCJ0YWJsZVwiLCBcInRkXCIsIFwidGhcIl0uaW5jbHVkZXModmUoZSkpO1xufVxuZnVuY3Rpb24gamUoZSkge1xuICByZXR1cm4gW1wiOnBvcG92ZXItb3BlblwiLCBcIjptb2RhbFwiXS5zb21lKCh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBlLm1hdGNoZXModCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIHN0KGUpIHtcbiAgY29uc3QgdCA9IGF0KCksIG4gPSBIKGUpID8geihlKSA6IGU7XG4gIHJldHVybiBuLnRyYW5zZm9ybSAhPT0gXCJub25lXCIgfHwgbi5wZXJzcGVjdGl2ZSAhPT0gXCJub25lXCIgfHwgKG4uY29udGFpbmVyVHlwZSA/IG4uY29udGFpbmVyVHlwZSAhPT0gXCJub3JtYWxcIiA6ICExKSB8fCAhdCAmJiAobi5iYWNrZHJvcEZpbHRlciA/IG4uYmFja2Ryb3BGaWx0ZXIgIT09IFwibm9uZVwiIDogITEpIHx8ICF0ICYmIChuLmZpbHRlciA/IG4uZmlsdGVyICE9PSBcIm5vbmVcIiA6ICExKSB8fCBbXCJ0cmFuc2Zvcm1cIiwgXCJwZXJzcGVjdGl2ZVwiLCBcImZpbHRlclwiXS5zb21lKChyKSA9PiAobi53aWxsQ2hhbmdlIHx8IFwiXCIpLmluY2x1ZGVzKHIpKSB8fCBbXCJwYWludFwiLCBcImxheW91dFwiLCBcInN0cmljdFwiLCBcImNvbnRlbnRcIl0uc29tZSgocikgPT4gKG4uY29udGFpbiB8fCBcIlwiKS5pbmNsdWRlcyhyKSk7XG59XG5mdW5jdGlvbiBucihlKSB7XG4gIGxldCB0ID0gbmUoZSk7XG4gIGZvciAoOyBHKHQpICYmICFkZSh0KTsgKSB7XG4gICAgaWYgKHN0KHQpKVxuICAgICAgcmV0dXJuIHQ7XG4gICAgaWYgKGplKHQpKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgdCA9IG5lKHQpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gYXQoKSB7XG4gIHJldHVybiB0eXBlb2YgQ1NTID4gXCJ1XCIgfHwgIUNTUy5zdXBwb3J0cyA/ICExIDogQ1NTLnN1cHBvcnRzKFwiLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXJcIiwgXCJub25lXCIpO1xufVxuZnVuY3Rpb24gZGUoZSkge1xuICByZXR1cm4gW1wiaHRtbFwiLCBcImJvZHlcIiwgXCIjZG9jdW1lbnRcIl0uaW5jbHVkZXModmUoZSkpO1xufVxuZnVuY3Rpb24geihlKSB7XG4gIHJldHVybiBVKGUpLmdldENvbXB1dGVkU3R5bGUoZSk7XG59XG5mdW5jdGlvbiBXZShlKSB7XG4gIHJldHVybiBIKGUpID8ge1xuICAgIHNjcm9sbExlZnQ6IGUuc2Nyb2xsTGVmdCxcbiAgICBzY3JvbGxUb3A6IGUuc2Nyb2xsVG9wXG4gIH0gOiB7XG4gICAgc2Nyb2xsTGVmdDogZS5zY3JvbGxYLFxuICAgIHNjcm9sbFRvcDogZS5zY3JvbGxZXG4gIH07XG59XG5mdW5jdGlvbiBuZShlKSB7XG4gIGlmICh2ZShlKSA9PT0gXCJodG1sXCIpXG4gICAgcmV0dXJuIGU7XG4gIGNvbnN0IHQgPSAoXG4gICAgLy8gU3RlcCBpbnRvIHRoZSBzaGFkb3cgRE9NIG9mIHRoZSBwYXJlbnQgb2YgYSBzbG90dGVkIG5vZGUuXG4gICAgZS5hc3NpZ25lZFNsb3QgfHwgLy8gRE9NIEVsZW1lbnQgZGV0ZWN0ZWQuXG4gICAgZS5wYXJlbnROb2RlIHx8IC8vIFNoYWRvd1Jvb3QgZGV0ZWN0ZWQuXG4gICAgd3QoZSkgJiYgZS5ob3N0IHx8IC8vIEZhbGxiYWNrLlxuICAgIEooZSlcbiAgKTtcbiAgcmV0dXJuIHd0KHQpID8gdC5ob3N0IDogdDtcbn1cbmZ1bmN0aW9uIHp0KGUpIHtcbiAgY29uc3QgdCA9IG5lKGUpO1xuICByZXR1cm4gZGUodCkgPyBlLm93bmVyRG9jdW1lbnQgPyBlLm93bmVyRG9jdW1lbnQuYm9keSA6IGUuYm9keSA6IEcodCkgJiYgRWUodCkgPyB0IDogenQodCk7XG59XG5mdW5jdGlvbiBKZShlLCB0LCBuKSB7XG4gIHZhciByO1xuICB0ID09PSB2b2lkIDAgJiYgKHQgPSBbXSksIG4gPT09IHZvaWQgMCAmJiAobiA9ICEwKTtcbiAgY29uc3QgaSA9IHp0KGUpLCBvID0gaSA9PT0gKChyID0gZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogci5ib2R5KSwgcyA9IFUoaSk7XG4gIGlmIChvKSB7XG4gICAgY29uc3QgYSA9IHFlKHMpO1xuICAgIHJldHVybiB0LmNvbmNhdChzLCBzLnZpc3VhbFZpZXdwb3J0IHx8IFtdLCBFZShpKSA/IGkgOiBbXSwgYSAmJiBuID8gSmUoYSkgOiBbXSk7XG4gIH1cbiAgcmV0dXJuIHQuY29uY2F0KGksIEplKGksIFtdLCBuKSk7XG59XG5mdW5jdGlvbiBxZShlKSB7XG4gIHJldHVybiBlLnBhcmVudCAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wYXJlbnQpID8gZS5mcmFtZUVsZW1lbnQgOiBudWxsO1xufVxuZnVuY3Rpb24gWXQoZSkge1xuICBjb25zdCB0ID0geihlKTtcbiAgbGV0IG4gPSBwYXJzZUZsb2F0KHQud2lkdGgpIHx8IDAsIHIgPSBwYXJzZUZsb2F0KHQuaGVpZ2h0KSB8fCAwO1xuICBjb25zdCBpID0gRyhlKSwgbyA9IGkgPyBlLm9mZnNldFdpZHRoIDogbiwgcyA9IGkgPyBlLm9mZnNldEhlaWdodCA6IHIsIGEgPSBrZShuKSAhPT0gbyB8fCBrZShyKSAhPT0gcztcbiAgcmV0dXJuIGEgJiYgKG4gPSBvLCByID0gcyksIHtcbiAgICB3aWR0aDogbixcbiAgICBoZWlnaHQ6IHIsXG4gICAgJDogYVxuICB9O1xufVxuZnVuY3Rpb24gR3QoZSkge1xuICByZXR1cm4gSChlKSA/IGUgOiBlLmNvbnRleHRFbGVtZW50O1xufVxuZnVuY3Rpb24gbGUoZSkge1xuICBjb25zdCB0ID0gR3QoZSk7XG4gIGlmICghRyh0KSlcbiAgICByZXR1cm4gdGUoMSk7XG4gIGNvbnN0IG4gPSB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB7XG4gICAgd2lkdGg6IHIsXG4gICAgaGVpZ2h0OiBpLFxuICAgICQ6IG9cbiAgfSA9IFl0KHQpO1xuICBsZXQgcyA9IChvID8ga2Uobi53aWR0aCkgOiBuLndpZHRoKSAvIHIsIGEgPSAobyA/IGtlKG4uaGVpZ2h0KSA6IG4uaGVpZ2h0KSAvIGk7XG4gIHJldHVybiAoIXMgfHwgIU51bWJlci5pc0Zpbml0ZShzKSkgJiYgKHMgPSAxKSwgKCFhIHx8ICFOdW1iZXIuaXNGaW5pdGUoYSkpICYmIChhID0gMSksIHtcbiAgICB4OiBzLFxuICAgIHk6IGFcbiAgfTtcbn1cbmNvbnN0IHJyID0gLyogQF9fUFVSRV9fICovIHRlKDApO1xuZnVuY3Rpb24gS3QoZSkge1xuICBjb25zdCB0ID0gVShlKTtcbiAgcmV0dXJuICFhdCgpIHx8ICF0LnZpc3VhbFZpZXdwb3J0ID8gcnIgOiB7XG4gICAgeDogdC52aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0LFxuICAgIHk6IHQudmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wXG4gIH07XG59XG5mdW5jdGlvbiBpcihlLCB0LCBuKSB7XG4gIHJldHVybiB0ID09PSB2b2lkIDAgJiYgKHQgPSAhMSksICFuIHx8IHQgJiYgbiAhPT0gVShlKSA/ICExIDogdDtcbn1cbmZ1bmN0aW9uIHdlKGUsIHQsIG4sIHIpIHtcbiAgdCA9PT0gdm9pZCAwICYmICh0ID0gITEpLCBuID09PSB2b2lkIDAgJiYgKG4gPSAhMSk7XG4gIGNvbnN0IGkgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBvID0gR3QoZSk7XG4gIGxldCBzID0gdGUoMSk7XG4gIHQgJiYgKHIgPyBIKHIpICYmIChzID0gbGUocikpIDogcyA9IGxlKGUpKTtcbiAgY29uc3QgYSA9IGlyKG8sIG4sIHIpID8gS3QobykgOiB0ZSgwKTtcbiAgbGV0IGMgPSAoaS5sZWZ0ICsgYS54KSAvIHMueCwgdSA9IChpLnRvcCArIGEueSkgLyBzLnksIGwgPSBpLndpZHRoIC8gcy54LCBmID0gaS5oZWlnaHQgLyBzLnk7XG4gIGlmIChvKSB7XG4gICAgY29uc3QgaCA9IFUobyksIGQgPSByICYmIEgocikgPyBVKHIpIDogcjtcbiAgICBsZXQgbSA9IGgsIHAgPSBxZShtKTtcbiAgICBmb3IgKDsgcCAmJiByICYmIGQgIT09IG07ICkge1xuICAgICAgY29uc3QgZyA9IGxlKHApLCB2ID0gcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgRSA9IHoocCksIFAgPSB2LmxlZnQgKyAocC5jbGllbnRMZWZ0ICsgcGFyc2VGbG9hdChFLnBhZGRpbmdMZWZ0KSkgKiBnLngsIEwgPSB2LnRvcCArIChwLmNsaWVudFRvcCArIHBhcnNlRmxvYXQoRS5wYWRkaW5nVG9wKSkgKiBnLnk7XG4gICAgICBjICo9IGcueCwgdSAqPSBnLnksIGwgKj0gZy54LCBmICo9IGcueSwgYyArPSBQLCB1ICs9IEwsIG0gPSBVKHApLCBwID0gcWUobSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBMZSh7XG4gICAgd2lkdGg6IGwsXG4gICAgaGVpZ2h0OiBmLFxuICAgIHg6IGMsXG4gICAgeTogdVxuICB9KTtcbn1cbmZ1bmN0aW9uIG9yKGUpIHtcbiAgbGV0IHtcbiAgICBlbGVtZW50czogdCxcbiAgICByZWN0OiBuLFxuICAgIG9mZnNldFBhcmVudDogcixcbiAgICBzdHJhdGVneTogaVxuICB9ID0gZTtcbiAgY29uc3QgbyA9IGkgPT09IFwiZml4ZWRcIiwgcyA9IEoociksIGEgPSB0ID8gamUodC5mbG9hdGluZykgOiAhMTtcbiAgaWYgKHIgPT09IHMgfHwgYSAmJiBvKVxuICAgIHJldHVybiBuO1xuICBsZXQgYyA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9LCB1ID0gdGUoMSk7XG4gIGNvbnN0IGwgPSB0ZSgwKSwgZiA9IEcocik7XG4gIGlmICgoZiB8fCAhZiAmJiAhbykgJiYgKCh2ZShyKSAhPT0gXCJib2R5XCIgfHwgRWUocykpICYmIChjID0gV2UocikpLCBHKHIpKSkge1xuICAgIGNvbnN0IGggPSB3ZShyKTtcbiAgICB1ID0gbGUociksIGwueCA9IGgueCArIHIuY2xpZW50TGVmdCwgbC55ID0gaC55ICsgci5jbGllbnRUb3A7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogbi53aWR0aCAqIHUueCxcbiAgICBoZWlnaHQ6IG4uaGVpZ2h0ICogdS55LFxuICAgIHg6IG4ueCAqIHUueCAtIGMuc2Nyb2xsTGVmdCAqIHUueCArIGwueCxcbiAgICB5OiBuLnkgKiB1LnkgLSBjLnNjcm9sbFRvcCAqIHUueSArIGwueVxuICB9O1xufVxuZnVuY3Rpb24gc3IoZSkge1xuICByZXR1cm4gQXJyYXkuZnJvbShlLmdldENsaWVudFJlY3RzKCkpO1xufVxuZnVuY3Rpb24gWGUoZSwgdCkge1xuICBjb25zdCBuID0gV2UoZSkuc2Nyb2xsTGVmdDtcbiAgcmV0dXJuIHQgPyB0LmxlZnQgKyBuIDogd2UoSihlKSkubGVmdCArIG47XG59XG5mdW5jdGlvbiBhcihlKSB7XG4gIGNvbnN0IHQgPSBKKGUpLCBuID0gV2UoZSksIHIgPSBlLm93bmVyRG9jdW1lbnQuYm9keSwgaSA9IHVlKHQuc2Nyb2xsV2lkdGgsIHQuY2xpZW50V2lkdGgsIHIuc2Nyb2xsV2lkdGgsIHIuY2xpZW50V2lkdGgpLCBvID0gdWUodC5zY3JvbGxIZWlnaHQsIHQuY2xpZW50SGVpZ2h0LCByLnNjcm9sbEhlaWdodCwgci5jbGllbnRIZWlnaHQpO1xuICBsZXQgcyA9IC1uLnNjcm9sbExlZnQgKyBYZShlKTtcbiAgY29uc3QgYSA9IC1uLnNjcm9sbFRvcDtcbiAgcmV0dXJuIHoocikuZGlyZWN0aW9uID09PSBcInJ0bFwiICYmIChzICs9IHVlKHQuY2xpZW50V2lkdGgsIHIuY2xpZW50V2lkdGgpIC0gaSksIHtcbiAgICB3aWR0aDogaSxcbiAgICBoZWlnaHQ6IG8sXG4gICAgeDogcyxcbiAgICB5OiBhXG4gIH07XG59XG5mdW5jdGlvbiBjcihlLCB0KSB7XG4gIGNvbnN0IG4gPSBVKGUpLCByID0gSihlKSwgaSA9IG4udmlzdWFsVmlld3BvcnQ7XG4gIGxldCBvID0gci5jbGllbnRXaWR0aCwgcyA9IHIuY2xpZW50SGVpZ2h0LCBhID0gMCwgYyA9IDA7XG4gIGlmIChpKSB7XG4gICAgbyA9IGkud2lkdGgsIHMgPSBpLmhlaWdodDtcbiAgICBjb25zdCB1ID0gYXQoKTtcbiAgICAoIXUgfHwgdSAmJiB0ID09PSBcImZpeGVkXCIpICYmIChhID0gaS5vZmZzZXRMZWZ0LCBjID0gaS5vZmZzZXRUb3ApO1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IG8sXG4gICAgaGVpZ2h0OiBzLFxuICAgIHg6IGEsXG4gICAgeTogY1xuICB9O1xufVxuZnVuY3Rpb24gdXIoZSwgdCkge1xuICBjb25zdCBuID0gd2UoZSwgITAsIHQgPT09IFwiZml4ZWRcIiksIHIgPSBuLnRvcCArIGUuY2xpZW50VG9wLCBpID0gbi5sZWZ0ICsgZS5jbGllbnRMZWZ0LCBvID0gRyhlKSA/IGxlKGUpIDogdGUoMSksIHMgPSBlLmNsaWVudFdpZHRoICogby54LCBhID0gZS5jbGllbnRIZWlnaHQgKiBvLnksIGMgPSBpICogby54LCB1ID0gciAqIG8ueTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogcyxcbiAgICBoZWlnaHQ6IGEsXG4gICAgeDogYyxcbiAgICB5OiB1XG4gIH07XG59XG5mdW5jdGlvbiBTdChlLCB0LCBuKSB7XG4gIGxldCByO1xuICBpZiAodCA9PT0gXCJ2aWV3cG9ydFwiKVxuICAgIHIgPSBjcihlLCBuKTtcbiAgZWxzZSBpZiAodCA9PT0gXCJkb2N1bWVudFwiKVxuICAgIHIgPSBhcihKKGUpKTtcbiAgZWxzZSBpZiAoSCh0KSlcbiAgICByID0gdXIodCwgbik7XG4gIGVsc2Uge1xuICAgIGNvbnN0IGkgPSBLdChlKTtcbiAgICByID0ge1xuICAgICAgLi4udCxcbiAgICAgIHg6IHQueCAtIGkueCxcbiAgICAgIHk6IHQueSAtIGkueVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIExlKHIpO1xufVxuZnVuY3Rpb24gUXQoZSwgdCkge1xuICBjb25zdCBuID0gbmUoZSk7XG4gIHJldHVybiBuID09PSB0IHx8ICFIKG4pIHx8IGRlKG4pID8gITEgOiB6KG4pLnBvc2l0aW9uID09PSBcImZpeGVkXCIgfHwgUXQobiwgdCk7XG59XG5mdW5jdGlvbiBscihlLCB0KSB7XG4gIGNvbnN0IG4gPSB0LmdldChlKTtcbiAgaWYgKG4pXG4gICAgcmV0dXJuIG47XG4gIGxldCByID0gSmUoZSwgW10sICExKS5maWx0ZXIoKGEpID0+IEgoYSkgJiYgdmUoYSkgIT09IFwiYm9keVwiKSwgaSA9IG51bGw7XG4gIGNvbnN0IG8gPSB6KGUpLnBvc2l0aW9uID09PSBcImZpeGVkXCI7XG4gIGxldCBzID0gbyA/IG5lKGUpIDogZTtcbiAgZm9yICg7IEgocykgJiYgIWRlKHMpOyApIHtcbiAgICBjb25zdCBhID0geihzKSwgYyA9IHN0KHMpO1xuICAgICFjICYmIGEucG9zaXRpb24gPT09IFwiZml4ZWRcIiAmJiAoaSA9IG51bGwpLCAobyA/ICFjICYmICFpIDogIWMgJiYgYS5wb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiAmJiAhIWkgJiYgW1wiYWJzb2x1dGVcIiwgXCJmaXhlZFwiXS5pbmNsdWRlcyhpLnBvc2l0aW9uKSB8fCBFZShzKSAmJiAhYyAmJiBRdChlLCBzKSkgPyByID0gci5maWx0ZXIoKGwpID0+IGwgIT09IHMpIDogaSA9IGEsIHMgPSBuZShzKTtcbiAgfVxuICByZXR1cm4gdC5zZXQoZSwgciksIHI7XG59XG5mdW5jdGlvbiBmcihlKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudDogdCxcbiAgICBib3VuZGFyeTogbixcbiAgICByb290Qm91bmRhcnk6IHIsXG4gICAgc3RyYXRlZ3k6IGlcbiAgfSA9IGU7XG4gIGNvbnN0IHMgPSBbLi4ubiA9PT0gXCJjbGlwcGluZ0FuY2VzdG9yc1wiID8gamUodCkgPyBbXSA6IGxyKHQsIHRoaXMuX2MpIDogW10uY29uY2F0KG4pLCByXSwgYSA9IHNbMF0sIGMgPSBzLnJlZHVjZSgodSwgbCkgPT4ge1xuICAgIGNvbnN0IGYgPSBTdCh0LCBsLCBpKTtcbiAgICByZXR1cm4gdS50b3AgPSB1ZShmLnRvcCwgdS50b3ApLCB1LnJpZ2h0ID0gS2UoZi5yaWdodCwgdS5yaWdodCksIHUuYm90dG9tID0gS2UoZi5ib3R0b20sIHUuYm90dG9tKSwgdS5sZWZ0ID0gdWUoZi5sZWZ0LCB1LmxlZnQpLCB1O1xuICB9LCBTdCh0LCBhLCBpKSk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IGMucmlnaHQgLSBjLmxlZnQsXG4gICAgaGVpZ2h0OiBjLmJvdHRvbSAtIGMudG9wLFxuICAgIHg6IGMubGVmdCxcbiAgICB5OiBjLnRvcFxuICB9O1xufVxuZnVuY3Rpb24gZHIoZSkge1xuICBjb25zdCB7XG4gICAgd2lkdGg6IHQsXG4gICAgaGVpZ2h0OiBuXG4gIH0gPSBZdChlKTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogdCxcbiAgICBoZWlnaHQ6IG5cbiAgfTtcbn1cbmZ1bmN0aW9uIHByKGUsIHQsIG4pIHtcbiAgY29uc3QgciA9IEcodCksIGkgPSBKKHQpLCBvID0gbiA9PT0gXCJmaXhlZFwiLCBzID0gd2UoZSwgITAsIG8sIHQpO1xuICBsZXQgYSA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9O1xuICBjb25zdCBjID0gdGUoMCk7XG4gIGlmIChyIHx8ICFyICYmICFvKVxuICAgIGlmICgodmUodCkgIT09IFwiYm9keVwiIHx8IEVlKGkpKSAmJiAoYSA9IFdlKHQpKSwgcikge1xuICAgICAgY29uc3QgZCA9IHdlKHQsICEwLCBvLCB0KTtcbiAgICAgIGMueCA9IGQueCArIHQuY2xpZW50TGVmdCwgYy55ID0gZC55ICsgdC5jbGllbnRUb3A7XG4gICAgfSBlbHNlIGkgJiYgKGMueCA9IFhlKGkpKTtcbiAgbGV0IHUgPSAwLCBsID0gMDtcbiAgaWYgKGkgJiYgIXIgJiYgIW8pIHtcbiAgICBjb25zdCBkID0gaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsID0gZC50b3AgKyBhLnNjcm9sbFRvcCwgdSA9IGQubGVmdCArIGEuc2Nyb2xsTGVmdCAtIC8vIFJUTCA8Ym9keT4gc2Nyb2xsYmFyLlxuICAgIFhlKGksIGQpO1xuICB9XG4gIGNvbnN0IGYgPSBzLmxlZnQgKyBhLnNjcm9sbExlZnQgLSBjLnggLSB1LCBoID0gcy50b3AgKyBhLnNjcm9sbFRvcCAtIGMueSAtIGw7XG4gIHJldHVybiB7XG4gICAgeDogZixcbiAgICB5OiBoLFxuICAgIHdpZHRoOiBzLndpZHRoLFxuICAgIGhlaWdodDogcy5oZWlnaHRcbiAgfTtcbn1cbmZ1bmN0aW9uIEhlKGUpIHtcbiAgcmV0dXJuIHooZSkucG9zaXRpb24gPT09IFwic3RhdGljXCI7XG59XG5mdW5jdGlvbiB4dChlLCB0KSB7XG4gIGlmICghRyhlKSB8fCB6KGUpLnBvc2l0aW9uID09PSBcImZpeGVkXCIpXG4gICAgcmV0dXJuIG51bGw7XG4gIGlmICh0KVxuICAgIHJldHVybiB0KGUpO1xuICBsZXQgbiA9IGUub2Zmc2V0UGFyZW50O1xuICByZXR1cm4gSihlKSA9PT0gbiAmJiAobiA9IG4ub3duZXJEb2N1bWVudC5ib2R5KSwgbjtcbn1cbmZ1bmN0aW9uIEp0KGUsIHQpIHtcbiAgY29uc3QgbiA9IFUoZSk7XG4gIGlmIChqZShlKSlcbiAgICByZXR1cm4gbjtcbiAgaWYgKCFHKGUpKSB7XG4gICAgbGV0IGkgPSBuZShlKTtcbiAgICBmb3IgKDsgaSAmJiAhZGUoaSk7ICkge1xuICAgICAgaWYgKEgoaSkgJiYgIUhlKGkpKVxuICAgICAgICByZXR1cm4gaTtcbiAgICAgIGkgPSBuZShpKTtcbiAgICB9XG4gICAgcmV0dXJuIG47XG4gIH1cbiAgbGV0IHIgPSB4dChlLCB0KTtcbiAgZm9yICg7IHIgJiYgdHIocikgJiYgSGUocik7IClcbiAgICByID0geHQociwgdCk7XG4gIHJldHVybiByICYmIGRlKHIpICYmIEhlKHIpICYmICFzdChyKSA/IG4gOiByIHx8IG5yKGUpIHx8IG47XG59XG5jb25zdCBociA9IGFzeW5jIGZ1bmN0aW9uKGUpIHtcbiAgY29uc3QgdCA9IHRoaXMuZ2V0T2Zmc2V0UGFyZW50IHx8IEp0LCBuID0gdGhpcy5nZXREaW1lbnNpb25zLCByID0gYXdhaXQgbihlLmZsb2F0aW5nKTtcbiAgcmV0dXJuIHtcbiAgICByZWZlcmVuY2U6IHByKGUucmVmZXJlbmNlLCBhd2FpdCB0KGUuZmxvYXRpbmcpLCBlLnN0cmF0ZWd5KSxcbiAgICBmbG9hdGluZzoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB3aWR0aDogci53aWR0aCxcbiAgICAgIGhlaWdodDogci5oZWlnaHRcbiAgICB9XG4gIH07XG59O1xuZnVuY3Rpb24gdnIoZSkge1xuICByZXR1cm4geihlKS5kaXJlY3Rpb24gPT09IFwicnRsXCI7XG59XG5jb25zdCBtciA9IHtcbiAgY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3Q6IG9yLFxuICBnZXREb2N1bWVudEVsZW1lbnQ6IEosXG4gIGdldENsaXBwaW5nUmVjdDogZnIsXG4gIGdldE9mZnNldFBhcmVudDogSnQsXG4gIGdldEVsZW1lbnRSZWN0czogaHIsXG4gIGdldENsaWVudFJlY3RzOiBzcixcbiAgZ2V0RGltZW5zaW9uczogZHIsXG4gIGdldFNjYWxlOiBsZSxcbiAgaXNFbGVtZW50OiBILFxuICBpc1JUTDogdnJcbn0sIGdyID0gWm4sIGJyID0gZXIsIHlyID0gcW4sIHdyID0gKGUsIHQsIG4pID0+IHtcbiAgY29uc3QgciA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIGkgPSB7XG4gICAgcGxhdGZvcm06IG1yLFxuICAgIC4uLm5cbiAgfSwgbyA9IHtcbiAgICAuLi5pLnBsYXRmb3JtLFxuICAgIF9jOiByXG4gIH07XG4gIHJldHVybiBKbihlLCB0LCB7XG4gICAgLi4uaSxcbiAgICBwbGF0Zm9ybTogb1xuICB9KTtcbn07XG52YXIgU3IgPSB0eXBlb2YgZ2xvYmFsVGhpcyA8IFwidVwiID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgPCBcInVcIiA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgPCBcInVcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmIDwgXCJ1XCIgPyBzZWxmIDoge307XG5mdW5jdGlvbiB4cihlKSB7XG4gIHJldHVybiBlICYmIGUuX19lc01vZHVsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwgXCJkZWZhdWx0XCIpID8gZS5kZWZhdWx0IDogZTtcbn1cbnZhciBxdCA9IHsgZXhwb3J0czoge30gfTtcbihmdW5jdGlvbihlKSB7XG4gIChmdW5jdGlvbih0LCBuKSB7XG4gICAgZS5leHBvcnRzID8gZS5leHBvcnRzID0gbigpIDogdC5sb2cgPSBuKCk7XG4gIH0pKFNyLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgdCA9IGZ1bmN0aW9uKCkge1xuICAgIH0sIG4gPSBcInVuZGVmaW5lZFwiLCByID0gdHlwZW9mIHdpbmRvdyAhPT0gbiAmJiB0eXBlb2Ygd2luZG93Lm5hdmlnYXRvciAhPT0gbiAmJiAvVHJpZGVudFxcL3xNU0lFIC8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCksIGkgPSBbXG4gICAgICBcInRyYWNlXCIsXG4gICAgICBcImRlYnVnXCIsXG4gICAgICBcImluZm9cIixcbiAgICAgIFwid2FyblwiLFxuICAgICAgXCJlcnJvclwiXG4gICAgXSwgbyA9IHt9LCBzID0gbnVsbDtcbiAgICBmdW5jdGlvbiBhKHAsIGcpIHtcbiAgICAgIHZhciB2ID0gcFtnXTtcbiAgICAgIGlmICh0eXBlb2Ygdi5iaW5kID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcmV0dXJuIHYuYmluZChwKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKHYsIHApO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmFwcGx5KHYsIFtwLCBhcmd1bWVudHNdKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYygpIHtcbiAgICAgIGNvbnNvbGUubG9nICYmIChjb25zb2xlLmxvZy5hcHBseSA/IGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cykgOiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuYXBwbHkoY29uc29sZS5sb2csIFtjb25zb2xlLCBhcmd1bWVudHNdKSksIGNvbnNvbGUudHJhY2UgJiYgY29uc29sZS50cmFjZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1KHApIHtcbiAgICAgIHJldHVybiBwID09PSBcImRlYnVnXCIgJiYgKHAgPSBcImxvZ1wiKSwgdHlwZW9mIGNvbnNvbGUgPT09IG4gPyAhMSA6IHAgPT09IFwidHJhY2VcIiAmJiByID8gYyA6IGNvbnNvbGVbcF0gIT09IHZvaWQgMCA/IGEoY29uc29sZSwgcCkgOiBjb25zb2xlLmxvZyAhPT0gdm9pZCAwID8gYShjb25zb2xlLCBcImxvZ1wiKSA6IHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGwoKSB7XG4gICAgICBmb3IgKHZhciBwID0gdGhpcy5nZXRMZXZlbCgpLCBnID0gMDsgZyA8IGkubGVuZ3RoOyBnKyspIHtcbiAgICAgICAgdmFyIHYgPSBpW2ddO1xuICAgICAgICB0aGlzW3ZdID0gZyA8IHAgPyB0IDogdGhpcy5tZXRob2RGYWN0b3J5KHYsIHAsIHRoaXMubmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5sb2cgPSB0aGlzLmRlYnVnLCB0eXBlb2YgY29uc29sZSA9PT0gbiAmJiBwIDwgdGhpcy5sZXZlbHMuU0lMRU5UKVxuICAgICAgICByZXR1cm4gXCJObyBjb25zb2xlIGF2YWlsYWJsZSBmb3IgbG9nZ2luZ1wiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmKHApIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT09IG4gJiYgKGwuY2FsbCh0aGlzKSwgdGhpc1twXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGgocCwgZywgdikge1xuICAgICAgcmV0dXJuIHUocCkgfHwgZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkKHAsIGcpIHtcbiAgICAgIHZhciB2ID0gdGhpcywgRSwgUCwgTCwgQyA9IFwibG9nbGV2ZWxcIjtcbiAgICAgIHR5cGVvZiBwID09IFwic3RyaW5nXCIgPyBDICs9IFwiOlwiICsgcCA6IHR5cGVvZiBwID09IFwic3ltYm9sXCIgJiYgKEMgPSB2b2lkIDApO1xuICAgICAgZnVuY3Rpb24gaWUodykge1xuICAgICAgICB2YXIgUyA9IChpW3ddIHx8IFwic2lsZW50XCIpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGlmICghKHR5cGVvZiB3aW5kb3cgPT09IG4gfHwgIUMpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2VbQ10gPSBTO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIH1cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmNvb2tpZSA9IGVuY29kZVVSSUNvbXBvbmVudChDKSArIFwiPVwiICsgUyArIFwiO1wiO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gSygpIHtcbiAgICAgICAgdmFyIHc7XG4gICAgICAgIGlmICghKHR5cGVvZiB3aW5kb3cgPT09IG4gfHwgIUMpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHcgPSB3aW5kb3cubG9jYWxTdG9yYWdlW0NdO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHcgPT09IG4pXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB2YXIgUyA9IHdpbmRvdy5kb2N1bWVudC5jb29raWUsIFYgPSBlbmNvZGVVUklDb21wb25lbnQoQyksIFggPSBTLmluZGV4T2YoViArIFwiPVwiKTtcbiAgICAgICAgICAgICAgWCAhPT0gLTEgJiYgKHcgPSAvXihbXjtdKykvLmV4ZWMoXG4gICAgICAgICAgICAgICAgUy5zbGljZShYICsgVi5sZW5ndGggKyAxKVxuICAgICAgICAgICAgICApWzFdKTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2LmxldmVsc1t3XSA9PT0gdm9pZCAwICYmICh3ID0gdm9pZCAwKSwgdztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gVCgpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHdpbmRvdyA9PT0gbiB8fCAhQykpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKEMpO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIH1cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmNvb2tpZSA9IGVuY29kZVVSSUNvbXBvbmVudChDKSArIFwiPTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIFVUQ1wiO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24geCh3KSB7XG4gICAgICAgIHZhciBTID0gdztcbiAgICAgICAgaWYgKHR5cGVvZiBTID09IFwic3RyaW5nXCIgJiYgdi5sZXZlbHNbUy50b1VwcGVyQ2FzZSgpXSAhPT0gdm9pZCAwICYmIChTID0gdi5sZXZlbHNbUy50b1VwcGVyQ2FzZSgpXSksIHR5cGVvZiBTID09IFwibnVtYmVyXCIgJiYgUyA+PSAwICYmIFMgPD0gdi5sZXZlbHMuU0lMRU5UKVxuICAgICAgICAgIHJldHVybiBTO1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwibG9nLnNldExldmVsKCkgY2FsbGVkIHdpdGggaW52YWxpZCBsZXZlbDogXCIgKyB3KTtcbiAgICAgIH1cbiAgICAgIHYubmFtZSA9IHAsIHYubGV2ZWxzID0ge1xuICAgICAgICBUUkFDRTogMCxcbiAgICAgICAgREVCVUc6IDEsXG4gICAgICAgIElORk86IDIsXG4gICAgICAgIFdBUk46IDMsXG4gICAgICAgIEVSUk9SOiA0LFxuICAgICAgICBTSUxFTlQ6IDVcbiAgICAgIH0sIHYubWV0aG9kRmFjdG9yeSA9IGcgfHwgaCwgdi5nZXRMZXZlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gTCA/PyBQID8/IEU7XG4gICAgICB9LCB2LnNldExldmVsID0gZnVuY3Rpb24odywgUykge1xuICAgICAgICByZXR1cm4gTCA9IHgodyksIFMgIT09ICExICYmIGllKEwpLCBsLmNhbGwodik7XG4gICAgICB9LCB2LnNldERlZmF1bHRMZXZlbCA9IGZ1bmN0aW9uKHcpIHtcbiAgICAgICAgUCA9IHgodyksIEsoKSB8fCB2LnNldExldmVsKHcsICExKTtcbiAgICAgIH0sIHYucmVzZXRMZXZlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBMID0gbnVsbCwgVCgpLCBsLmNhbGwodik7XG4gICAgICB9LCB2LmVuYWJsZUFsbCA9IGZ1bmN0aW9uKHcpIHtcbiAgICAgICAgdi5zZXRMZXZlbCh2LmxldmVscy5UUkFDRSwgdyk7XG4gICAgICB9LCB2LmRpc2FibGVBbGwgPSBmdW5jdGlvbih3KSB7XG4gICAgICAgIHYuc2V0TGV2ZWwodi5sZXZlbHMuU0lMRU5ULCB3KTtcbiAgICAgIH0sIHYucmVidWlsZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocyAhPT0gdiAmJiAoRSA9IHgocy5nZXRMZXZlbCgpKSksIGwuY2FsbCh2KSwgcyA9PT0gdilcbiAgICAgICAgICBmb3IgKHZhciB3IGluIG8pXG4gICAgICAgICAgICBvW3ddLnJlYnVpbGQoKTtcbiAgICAgIH0sIEUgPSB4KFxuICAgICAgICBzID8gcy5nZXRMZXZlbCgpIDogXCJXQVJOXCJcbiAgICAgICk7XG4gICAgICB2YXIgSSA9IEsoKTtcbiAgICAgIEkgIT0gbnVsbCAmJiAoTCA9IHgoSSkpLCBsLmNhbGwodik7XG4gICAgfVxuICAgIHMgPSBuZXcgZCgpLCBzLmdldExvZ2dlciA9IGZ1bmN0aW9uKGcpIHtcbiAgICAgIGlmICh0eXBlb2YgZyAhPSBcInN5bWJvbFwiICYmIHR5cGVvZiBnICE9IFwic3RyaW5nXCIgfHwgZyA9PT0gXCJcIilcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHN1cHBseSBhIG5hbWUgd2hlbiBjcmVhdGluZyBhIGxvZ2dlci5cIik7XG4gICAgICB2YXIgdiA9IG9bZ107XG4gICAgICByZXR1cm4gdiB8fCAodiA9IG9bZ10gPSBuZXcgZChcbiAgICAgICAgZyxcbiAgICAgICAgcy5tZXRob2RGYWN0b3J5XG4gICAgICApKSwgdjtcbiAgICB9O1xuICAgIHZhciBtID0gdHlwZW9mIHdpbmRvdyAhPT0gbiA/IHdpbmRvdy5sb2cgOiB2b2lkIDA7XG4gICAgcmV0dXJuIHMubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IG4gJiYgd2luZG93LmxvZyA9PT0gcyAmJiAod2luZG93LmxvZyA9IG0pLCBzO1xuICAgIH0sIHMuZ2V0TG9nZ2VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG87XG4gICAgfSwgcy5kZWZhdWx0ID0gcywgcztcbiAgfSk7XG59KShxdCk7XG52YXIgRXIgPSBxdC5leHBvcnRzO1xuY29uc3QgVHIgPSAvKiBAX19QVVJFX18gKi8geHIoRXIpO1xudmFyIFplID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gWmUgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbihuLCByKSB7XG4gICAgbi5fX3Byb3RvX18gPSByO1xuICB9IHx8IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICBmb3IgKHZhciBpIGluIHIpIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLCBpKSAmJiAobltpXSA9IHJbaV0pO1xuICB9LCBaZShlLCB0KTtcbn07XG5mdW5jdGlvbiBxKGUsIHQpIHtcbiAgaWYgKHR5cGVvZiB0ICE9IFwiZnVuY3Rpb25cIiAmJiB0ICE9PSBudWxsKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKHQpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgWmUoZSwgdCk7XG4gIGZ1bmN0aW9uIG4oKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciA9IGU7XG4gIH1cbiAgZS5wcm90b3R5cGUgPSB0ID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZSh0KSA6IChuLnByb3RvdHlwZSA9IHQucHJvdG90eXBlLCBuZXcgbigpKTtcbn1cbmZ1bmN0aW9uIENyKGUsIHQsIG4sIHIpIHtcbiAgZnVuY3Rpb24gaShvKSB7XG4gICAgcmV0dXJuIG8gaW5zdGFuY2VvZiBuID8gbyA6IG5ldyBuKGZ1bmN0aW9uKHMpIHtcbiAgICAgIHMobyk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG5ldyAobiB8fCAobiA9IFByb21pc2UpKShmdW5jdGlvbihvLCBzKSB7XG4gICAgZnVuY3Rpb24gYShsKSB7XG4gICAgICB0cnkge1xuICAgICAgICB1KHIubmV4dChsKSk7XG4gICAgICB9IGNhdGNoIChmKSB7XG4gICAgICAgIHMoZik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGMobCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdShyLnRocm93KGwpKTtcbiAgICAgIH0gY2F0Y2ggKGYpIHtcbiAgICAgICAgcyhmKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdShsKSB7XG4gICAgICBsLmRvbmUgPyBvKGwudmFsdWUpIDogaShsLnZhbHVlKS50aGVuKGEsIGMpO1xuICAgIH1cbiAgICB1KChyID0gci5hcHBseShlLCB0IHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBYdChlLCB0KSB7XG4gIHZhciBuID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKG9bMF0gJiAxKSB0aHJvdyBvWzFdO1xuICAgIHJldHVybiBvWzFdO1xuICB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCByLCBpLCBvLCBzID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEl0ZXJhdG9yID09IFwiZnVuY3Rpb25cIiA/IEl0ZXJhdG9yIDogT2JqZWN0KS5wcm90b3R5cGUpO1xuICByZXR1cm4gcy5uZXh0ID0gYSgwKSwgcy50aHJvdyA9IGEoMSksIHMucmV0dXJuID0gYSgyKSwgdHlwZW9mIFN5bWJvbCA9PSBcImZ1bmN0aW9uXCIgJiYgKHNbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KSwgcztcbiAgZnVuY3Rpb24gYSh1KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGwpIHtcbiAgICAgIHJldHVybiBjKFt1LCBsXSk7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBjKHUpIHtcbiAgICBpZiAocikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgZm9yICg7IHMgJiYgKHMgPSAwLCB1WzBdICYmIChuID0gMCkpLCBuOyApIHRyeSB7XG4gICAgICBpZiAociA9IDEsIGkgJiYgKG8gPSB1WzBdICYgMiA/IGkucmV0dXJuIDogdVswXSA/IGkudGhyb3cgfHwgKChvID0gaS5yZXR1cm4pICYmIG8uY2FsbChpKSwgMCkgOiBpLm5leHQpICYmICEobyA9IG8uY2FsbChpLCB1WzFdKSkuZG9uZSkgcmV0dXJuIG87XG4gICAgICBzd2l0Y2ggKGkgPSAwLCBvICYmICh1ID0gW3VbMF0gJiAyLCBvLnZhbHVlXSksIHVbMF0pIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbyA9IHU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gbi5sYWJlbCsrLCB7IHZhbHVlOiB1WzFdLCBkb25lOiAhMSB9O1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgbi5sYWJlbCsrLCBpID0gdVsxXSwgdSA9IFswXTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIHUgPSBuLm9wcy5wb3AoKSwgbi50cnlzLnBvcCgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChvID0gbi50cnlzLCAhKG8gPSBvLmxlbmd0aCA+IDAgJiYgb1tvLmxlbmd0aCAtIDFdKSAmJiAodVswXSA9PT0gNiB8fCB1WzBdID09PSAyKSkge1xuICAgICAgICAgICAgbiA9IDA7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHVbMF0gPT09IDMgJiYgKCFvIHx8IHVbMV0gPiBvWzBdICYmIHVbMV0gPCBvWzNdKSkge1xuICAgICAgICAgICAgbi5sYWJlbCA9IHVbMV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHVbMF0gPT09IDYgJiYgbi5sYWJlbCA8IG9bMV0pIHtcbiAgICAgICAgICAgIG4ubGFiZWwgPSBvWzFdLCBvID0gdTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobyAmJiBuLmxhYmVsIDwgb1syXSkge1xuICAgICAgICAgICAgbi5sYWJlbCA9IG9bMl0sIG4ub3BzLnB1c2godSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgb1syXSAmJiBuLm9wcy5wb3AoKSwgbi50cnlzLnBvcCgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdSA9IHQuY2FsbChlLCBuKTtcbiAgICB9IGNhdGNoIChsKSB7XG4gICAgICB1ID0gWzYsIGxdLCBpID0gMDtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgciA9IG8gPSAwO1xuICAgIH1cbiAgICBpZiAodVswXSAmIDUpIHRocm93IHVbMV07XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVbMF0gPyB1WzFdIDogdm9pZCAwLCBkb25lOiAhMCB9O1xuICB9XG59XG5mdW5jdGlvbiBwZShlKSB7XG4gIHZhciB0ID0gdHlwZW9mIFN5bWJvbCA9PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBuID0gdCAmJiBlW3RdLCByID0gMDtcbiAgaWYgKG4pIHJldHVybiBuLmNhbGwoZSk7XG4gIGlmIChlICYmIHR5cGVvZiBlLmxlbmd0aCA9PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGUgJiYgciA+PSBlLmxlbmd0aCAmJiAoZSA9IHZvaWQgMCksIHsgdmFsdWU6IGUgJiYgZVtyKytdLCBkb25lOiAhZSB9O1xuICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcih0ID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuZnVuY3Rpb24gaGUoZSwgdCkge1xuICB2YXIgbiA9IHR5cGVvZiBTeW1ib2wgPT0gXCJmdW5jdGlvblwiICYmIGVbU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFuKSByZXR1cm4gZTtcbiAgdmFyIHIgPSBuLmNhbGwoZSksIGksIG8gPSBbXSwgcztcbiAgdHJ5IHtcbiAgICBmb3IgKDsgKHQgPT09IHZvaWQgMCB8fCB0LS0gPiAwKSAmJiAhKGkgPSByLm5leHQoKSkuZG9uZTsgKSBvLnB1c2goaS52YWx1ZSk7XG4gIH0gY2F0Y2ggKGEpIHtcbiAgICBzID0geyBlcnJvcjogYSB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpICYmICFpLmRvbmUgJiYgKG4gPSByLnJldHVybikgJiYgbi5jYWxsKHIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAocykgdGhyb3cgcy5lcnJvcjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG87XG59XG5mdW5jdGlvbiBTZShlLCB0LCBuKSB7XG4gIGlmIChuIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIHIgPSAwLCBpID0gdC5sZW5ndGgsIG87IHIgPCBpOyByKyspXG4gICAgKG8gfHwgIShyIGluIHQpKSAmJiAobyB8fCAobyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsIDAsIHIpKSwgb1tyXSA9IHRbcl0pO1xuICByZXR1cm4gZS5jb25jYXQobyB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSk7XG59XG5mdW5jdGlvbiBmZShlKSB7XG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgZmUgPyAodGhpcy52ID0gZSwgdGhpcykgOiBuZXcgZmUoZSk7XG59XG5mdW5jdGlvbiBQcihlLCB0LCBuKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciByID0gbi5hcHBseShlLCB0IHx8IFtdKSwgaSwgbyA9IFtdO1xuICByZXR1cm4gaSA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBBc3luY0l0ZXJhdG9yID09IFwiZnVuY3Rpb25cIiA/IEFzeW5jSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSksIGEoXCJuZXh0XCIpLCBhKFwidGhyb3dcIiksIGEoXCJyZXR1cm5cIiwgcyksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sIGk7XG4gIGZ1bmN0aW9uIHMoZCkge1xuICAgIHJldHVybiBmdW5jdGlvbihtKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG0pLnRoZW4oZCwgZik7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBhKGQsIG0pIHtcbiAgICByW2RdICYmIChpW2RdID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGcsIHYpIHtcbiAgICAgICAgby5wdXNoKFtkLCBwLCBnLCB2XSkgPiAxIHx8IGMoZCwgcCk7XG4gICAgICB9KTtcbiAgICB9LCBtICYmIChpW2RdID0gbShpW2RdKSkpO1xuICB9XG4gIGZ1bmN0aW9uIGMoZCwgbSkge1xuICAgIHRyeSB7XG4gICAgICB1KHJbZF0obSkpO1xuICAgIH0gY2F0Y2ggKHApIHtcbiAgICAgIGgob1swXVszXSwgcCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHUoZCkge1xuICAgIGQudmFsdWUgaW5zdGFuY2VvZiBmZSA/IFByb21pc2UucmVzb2x2ZShkLnZhbHVlLnYpLnRoZW4obCwgZikgOiBoKG9bMF1bMl0sIGQpO1xuICB9XG4gIGZ1bmN0aW9uIGwoZCkge1xuICAgIGMoXCJuZXh0XCIsIGQpO1xuICB9XG4gIGZ1bmN0aW9uIGYoZCkge1xuICAgIGMoXCJ0aHJvd1wiLCBkKTtcbiAgfVxuICBmdW5jdGlvbiBoKGQsIG0pIHtcbiAgICBkKG0pLCBvLnNoaWZ0KCksIG8ubGVuZ3RoICYmIGMob1swXVswXSwgb1swXVsxXSk7XG4gIH1cbn1cbmZ1bmN0aW9uIEFyKGUpIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIHQgPSBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgbjtcbiAgcmV0dXJuIHQgPyB0LmNhbGwoZSkgOiAoZSA9IHR5cGVvZiBwZSA9PSBcImZ1bmN0aW9uXCIgPyBwZShlKSA6IGVbU3ltYm9sLml0ZXJhdG9yXSgpLCBuID0ge30sIHIoXCJuZXh0XCIpLCByKFwidGhyb3dcIiksIHIoXCJyZXR1cm5cIiksIG5bU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sIG4pO1xuICBmdW5jdGlvbiByKG8pIHtcbiAgICBuW29dID0gZVtvXSAmJiBmdW5jdGlvbihzKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYSwgYykge1xuICAgICAgICBzID0gZVtvXShzKSwgaShhLCBjLCBzLmRvbmUsIHMudmFsdWUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBpKG8sIHMsIGEsIGMpIHtcbiAgICBQcm9taXNlLnJlc29sdmUoYykudGhlbihmdW5jdGlvbih1KSB7XG4gICAgICBvKHsgdmFsdWU6IHUsIGRvbmU6IGEgfSk7XG4gICAgfSwgcyk7XG4gIH1cbn1cbmZ1bmN0aW9uIEEoZSkge1xuICByZXR1cm4gdHlwZW9mIGUgPT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gY3QoZSkge1xuICB2YXIgdCA9IGZ1bmN0aW9uKHIpIHtcbiAgICBFcnJvci5jYWxsKHIpLCByLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gIH0sIG4gPSBlKHQpO1xuICByZXR1cm4gbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksIG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbiwgbjtcbn1cbnZhciB6ZSA9IGN0KGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG4pIHtcbiAgICBlKHRoaXMpLCB0aGlzLm1lc3NhZ2UgPSBuID8gbi5sZW5ndGggKyBgIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XG5gICsgbi5tYXAoZnVuY3Rpb24ociwgaSkge1xuICAgICAgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgci50b1N0cmluZygpO1xuICAgIH0pLmpvaW4oYFxuICBgKSA6IFwiXCIsIHRoaXMubmFtZSA9IFwiVW5zdWJzY3JpcHRpb25FcnJvclwiLCB0aGlzLmVycm9ycyA9IG47XG4gIH07XG59KTtcbmZ1bmN0aW9uIF9lKGUsIHQpIHtcbiAgaWYgKGUpIHtcbiAgICB2YXIgbiA9IGUuaW5kZXhPZih0KTtcbiAgICAwIDw9IG4gJiYgZS5zcGxpY2UobiwgMSk7XG4gIH1cbn1cbnZhciBUZSA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBlKHQpIHtcbiAgICB0aGlzLmluaXRpYWxUZWFyZG93biA9IHQsIHRoaXMuY2xvc2VkID0gITEsIHRoaXMuX3BhcmVudGFnZSA9IG51bGwsIHRoaXMuX2ZpbmFsaXplcnMgPSBudWxsO1xuICB9XG4gIHJldHVybiBlLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0LCBuLCByLCBpLCBvO1xuICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgIHRoaXMuY2xvc2VkID0gITA7XG4gICAgICB2YXIgcyA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgIGlmIChzKVxuICAgICAgICBpZiAodGhpcy5fcGFyZW50YWdlID0gbnVsbCwgQXJyYXkuaXNBcnJheShzKSlcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgYSA9IHBlKHMpLCBjID0gYS5uZXh0KCk7ICFjLmRvbmU7IGMgPSBhLm5leHQoKSkge1xuICAgICAgICAgICAgICB2YXIgdSA9IGMudmFsdWU7XG4gICAgICAgICAgICAgIHUucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKHApIHtcbiAgICAgICAgICAgIHQgPSB7IGVycm9yOiBwIH07XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGMgJiYgIWMuZG9uZSAmJiAobiA9IGEucmV0dXJuKSAmJiBuLmNhbGwoYSk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBpZiAodCkgdGhyb3cgdC5lcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzLnJlbW92ZSh0aGlzKTtcbiAgICAgIHZhciBsID0gdGhpcy5pbml0aWFsVGVhcmRvd247XG4gICAgICBpZiAoQShsKSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsKCk7XG4gICAgICAgIH0gY2F0Y2ggKHApIHtcbiAgICAgICAgICBvID0gcCBpbnN0YW5jZW9mIHplID8gcC5lcnJvcnMgOiBbcF07XG4gICAgICAgIH1cbiAgICAgIHZhciBmID0gdGhpcy5fZmluYWxpemVycztcbiAgICAgIGlmIChmKSB7XG4gICAgICAgIHRoaXMuX2ZpbmFsaXplcnMgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAodmFyIGggPSBwZShmKSwgZCA9IGgubmV4dCgpOyAhZC5kb25lOyBkID0gaC5uZXh0KCkpIHtcbiAgICAgICAgICAgIHZhciBtID0gZC52YWx1ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIEV0KG0pO1xuICAgICAgICAgICAgfSBjYXRjaCAocCkge1xuICAgICAgICAgICAgICBvID0gbyA/PyBbXSwgcCBpbnN0YW5jZW9mIHplID8gbyA9IFNlKFNlKFtdLCBoZShvKSksIGhlKHAuZXJyb3JzKSkgOiBvLnB1c2gocCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChwKSB7XG4gICAgICAgICAgciA9IHsgZXJyb3I6IHAgfTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZCAmJiAhZC5kb25lICYmIChpID0gaC5yZXR1cm4pICYmIGkuY2FsbChoKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKHIpIHRocm93IHIuZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobylcbiAgICAgICAgdGhyb3cgbmV3IHplKG8pO1xuICAgIH1cbiAgfSwgZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24odCkge1xuICAgIHZhciBuO1xuICAgIGlmICh0ICYmIHQgIT09IHRoaXMpXG4gICAgICBpZiAodGhpcy5jbG9zZWQpXG4gICAgICAgIEV0KHQpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgZSkge1xuICAgICAgICAgIGlmICh0LmNsb3NlZCB8fCB0Ll9oYXNQYXJlbnQodGhpcykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgdC5fYWRkUGFyZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgICh0aGlzLl9maW5hbGl6ZXJzID0gKG4gPSB0aGlzLl9maW5hbGl6ZXJzKSAhPT0gbnVsbCAmJiBuICE9PSB2b2lkIDAgPyBuIDogW10pLnB1c2godCk7XG4gICAgICB9XG4gIH0sIGUucHJvdG90eXBlLl9oYXNQYXJlbnQgPSBmdW5jdGlvbih0KSB7XG4gICAgdmFyIG4gPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgcmV0dXJuIG4gPT09IHQgfHwgQXJyYXkuaXNBcnJheShuKSAmJiBuLmluY2x1ZGVzKHQpO1xuICB9LCBlLnByb3RvdHlwZS5fYWRkUGFyZW50ID0gZnVuY3Rpb24odCkge1xuICAgIHZhciBuID0gdGhpcy5fcGFyZW50YWdlO1xuICAgIHRoaXMuX3BhcmVudGFnZSA9IEFycmF5LmlzQXJyYXkobikgPyAobi5wdXNoKHQpLCBuKSA6IG4gPyBbbiwgdF0gOiB0O1xuICB9LCBlLnByb3RvdHlwZS5fcmVtb3ZlUGFyZW50ID0gZnVuY3Rpb24odCkge1xuICAgIHZhciBuID0gdGhpcy5fcGFyZW50YWdlO1xuICAgIG4gPT09IHQgPyB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsIDogQXJyYXkuaXNBcnJheShuKSAmJiBfZShuLCB0KTtcbiAgfSwgZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24odCkge1xuICAgIHZhciBuID0gdGhpcy5fZmluYWxpemVycztcbiAgICBuICYmIF9lKG4sIHQpLCB0IGluc3RhbmNlb2YgZSAmJiB0Ll9yZW1vdmVQYXJlbnQodGhpcyk7XG4gIH0sIGUuRU1QVFkgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdCA9IG5ldyBlKCk7XG4gICAgcmV0dXJuIHQuY2xvc2VkID0gITAsIHQ7XG4gIH0oKSwgZTtcbn0oKSwgWnQgPSBUZS5FTVBUWTtcbmZ1bmN0aW9uIGVuKGUpIHtcbiAgcmV0dXJuIGUgaW5zdGFuY2VvZiBUZSB8fCBlICYmIFwiY2xvc2VkXCIgaW4gZSAmJiBBKGUucmVtb3ZlKSAmJiBBKGUuYWRkKSAmJiBBKGUudW5zdWJzY3JpYmUpO1xufVxuZnVuY3Rpb24gRXQoZSkge1xuICBBKGUpID8gZSgpIDogZS51bnN1YnNjcmliZSgpO1xufVxudmFyIHRuID0ge1xuICBvblVuaGFuZGxlZEVycm9yOiBudWxsLFxuICBvblN0b3BwZWROb3RpZmljYXRpb246IG51bGwsXG4gIFByb21pc2U6IHZvaWQgMCxcbiAgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzogITEsXG4gIHVzZURlcHJlY2F0ZWROZXh0Q29udGV4dDogITFcbn0sIG5uID0ge1xuICBzZXRUaW1lb3V0OiBmdW5jdGlvbihlLCB0KSB7XG4gICAgZm9yICh2YXIgbiA9IFtdLCByID0gMjsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKylcbiAgICAgIG5bciAtIDJdID0gYXJndW1lbnRzW3JdO1xuICAgIHJldHVybiBzZXRUaW1lb3V0LmFwcGx5KHZvaWQgMCwgU2UoW2UsIHRdLCBoZShuKSkpO1xuICB9LFxuICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgdCA9IG5uLmRlbGVnYXRlO1xuICAgIHJldHVybiAoKHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQuY2xlYXJUaW1lb3V0KSB8fCBjbGVhclRpbWVvdXQpKGUpO1xuICB9LFxuICBkZWxlZ2F0ZTogdm9pZCAwXG59O1xuZnVuY3Rpb24gcm4oZSkge1xuICBubi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHRocm93IGU7XG4gIH0pO1xufVxuZnVuY3Rpb24gSWUoKSB7XG59XG5mdW5jdGlvbiBBZShlKSB7XG4gIGUoKTtcbn1cbnZhciB1dCA9IGZ1bmN0aW9uKGUpIHtcbiAgcSh0LCBlKTtcbiAgZnVuY3Rpb24gdChuKSB7XG4gICAgdmFyIHIgPSBlLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICByZXR1cm4gci5pc1N0b3BwZWQgPSAhMSwgbiA/IChyLmRlc3RpbmF0aW9uID0gbiwgZW4obikgJiYgbi5hZGQocikpIDogci5kZXN0aW5hdGlvbiA9IF9yLCByO1xuICB9XG4gIHJldHVybiB0LmNyZWF0ZSA9IGZ1bmN0aW9uKG4sIHIsIGkpIHtcbiAgICByZXR1cm4gbmV3IGV0KG4sIHIsIGkpO1xuICB9LCB0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24obikge1xuICAgIHRoaXMuaXNTdG9wcGVkIHx8IHRoaXMuX25leHQobik7XG4gIH0sIHQucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24obikge1xuICAgIHRoaXMuaXNTdG9wcGVkIHx8ICh0aGlzLmlzU3RvcHBlZCA9ICEwLCB0aGlzLl9lcnJvcihuKSk7XG4gIH0sIHQucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc1N0b3BwZWQgfHwgKHRoaXMuaXNTdG9wcGVkID0gITAsIHRoaXMuX2NvbXBsZXRlKCkpO1xuICB9LCB0LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2xvc2VkIHx8ICh0aGlzLmlzU3RvcHBlZCA9ICEwLCBlLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpLCB0aGlzLmRlc3RpbmF0aW9uID0gbnVsbCk7XG4gIH0sIHQucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24obikge1xuICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChuKTtcbiAgfSwgdC5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24obikge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKG4pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9LCB0LnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9LCB0O1xufShUZSksIGtyID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG5mdW5jdGlvbiBZZShlLCB0KSB7XG4gIHJldHVybiBrci5jYWxsKGUsIHQpO1xufVxudmFyIE9yID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGUodCkge1xuICAgIHRoaXMucGFydGlhbE9ic2VydmVyID0gdDtcbiAgfVxuICByZXR1cm4gZS5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbiA9IHRoaXMucGFydGlhbE9ic2VydmVyO1xuICAgIGlmIChuLm5leHQpXG4gICAgICB0cnkge1xuICAgICAgICBuLm5leHQodCk7XG4gICAgICB9IGNhdGNoIChyKSB7XG4gICAgICAgIENlKHIpO1xuICAgICAgfVxuICB9LCBlLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbiA9IHRoaXMucGFydGlhbE9ic2VydmVyO1xuICAgIGlmIChuLmVycm9yKVxuICAgICAgdHJ5IHtcbiAgICAgICAgbi5lcnJvcih0KTtcbiAgICAgIH0gY2F0Y2ggKHIpIHtcbiAgICAgICAgQ2Uocik7XG4gICAgICB9XG4gICAgZWxzZVxuICAgICAgQ2UodCk7XG4gIH0sIGUucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHQgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICBpZiAodC5jb21wbGV0ZSlcbiAgICAgIHRyeSB7XG4gICAgICAgIHQuY29tcGxldGUoKTtcbiAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgQ2Uobik7XG4gICAgICB9XG4gIH0sIGU7XG59KCksIGV0ID0gZnVuY3Rpb24oZSkge1xuICBxKHQsIGUpO1xuICBmdW5jdGlvbiB0KG4sIHIsIGkpIHtcbiAgICB2YXIgbyA9IGUuY2FsbCh0aGlzKSB8fCB0aGlzLCBzO1xuICAgIGlmIChBKG4pIHx8ICFuKVxuICAgICAgcyA9IHtcbiAgICAgICAgbmV4dDogbiA/PyB2b2lkIDAsXG4gICAgICAgIGVycm9yOiByID8/IHZvaWQgMCxcbiAgICAgICAgY29tcGxldGU6IGkgPz8gdm9pZCAwXG4gICAgICB9O1xuICAgIGVsc2Uge1xuICAgICAgdmFyIGE7XG4gICAgICBvICYmIHRuLnVzZURlcHJlY2F0ZWROZXh0Q29udGV4dCA/IChhID0gT2JqZWN0LmNyZWF0ZShuKSwgYS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gby51bnN1YnNjcmliZSgpO1xuICAgICAgfSwgcyA9IHtcbiAgICAgICAgbmV4dDogbi5uZXh0ICYmIFllKG4ubmV4dCwgYSksXG4gICAgICAgIGVycm9yOiBuLmVycm9yICYmIFllKG4uZXJyb3IsIGEpLFxuICAgICAgICBjb21wbGV0ZTogbi5jb21wbGV0ZSAmJiBZZShuLmNvbXBsZXRlLCBhKVxuICAgICAgfSkgOiBzID0gbjtcbiAgICB9XG4gICAgcmV0dXJuIG8uZGVzdGluYXRpb24gPSBuZXcgT3IocyksIG87XG4gIH1cbiAgcmV0dXJuIHQ7XG59KHV0KTtcbmZ1bmN0aW9uIENlKGUpIHtcbiAgcm4oZSk7XG59XG5mdW5jdGlvbiBMcihlKSB7XG4gIHRocm93IGU7XG59XG52YXIgX3IgPSB7XG4gIGNsb3NlZDogITAsXG4gIG5leHQ6IEllLFxuICBlcnJvcjogTHIsXG4gIGNvbXBsZXRlOiBJZVxufSwgbHQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5vYnNlcnZhYmxlIHx8IFwiQEBvYnNlcnZhYmxlXCI7XG59KCk7XG5mdW5jdGlvbiBmdChlKSB7XG4gIHJldHVybiBlO1xufVxuZnVuY3Rpb24gSXIoZSkge1xuICByZXR1cm4gZS5sZW5ndGggPT09IDAgPyBmdCA6IGUubGVuZ3RoID09PSAxID8gZVswXSA6IGZ1bmN0aW9uKG4pIHtcbiAgICByZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24ociwgaSkge1xuICAgICAgcmV0dXJuIGkocik7XG4gICAgfSwgbik7XG4gIH07XG59XG52YXIgTyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBlKHQpIHtcbiAgICB0ICYmICh0aGlzLl9zdWJzY3JpYmUgPSB0KTtcbiAgfVxuICByZXR1cm4gZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbiA9IG5ldyBlKCk7XG4gICAgcmV0dXJuIG4uc291cmNlID0gdGhpcywgbi5vcGVyYXRvciA9IHQsIG47XG4gIH0sIGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uKHQsIG4sIHIpIHtcbiAgICB2YXIgaSA9IHRoaXMsIG8gPSBNcih0KSA/IHQgOiBuZXcgZXQodCwgbiwgcik7XG4gICAgcmV0dXJuIEFlKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHMgPSBpLCBhID0gcy5vcGVyYXRvciwgYyA9IHMuc291cmNlO1xuICAgICAgby5hZGQoYSA/IGEuY2FsbChvLCBjKSA6IGMgPyBpLl9zdWJzY3JpYmUobykgOiBpLl90cnlTdWJzY3JpYmUobykpO1xuICAgIH0pLCBvO1xuICB9LCBlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24odCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHQpO1xuICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgIHQuZXJyb3Iobik7XG4gICAgfVxuICB9LCBlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24odCwgbikge1xuICAgIHZhciByID0gdGhpcztcbiAgICByZXR1cm4gbiA9IFR0KG4pLCBuZXcgbihmdW5jdGlvbihpLCBvKSB7XG4gICAgICB2YXIgcyA9IG5ldyBldCh7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdChhKTtcbiAgICAgICAgICB9IGNhdGNoIChjKSB7XG4gICAgICAgICAgICBvKGMpLCBzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogbyxcbiAgICAgICAgY29tcGxldGU6IGlcbiAgICAgIH0pO1xuICAgICAgci5zdWJzY3JpYmUocyk7XG4gICAgfSk7XG4gIH0sIGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbih0KSB7XG4gICAgdmFyIG47XG4gICAgcmV0dXJuIChuID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IG4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG4uc3Vic2NyaWJlKHQpO1xuICB9LCBlLnByb3RvdHlwZVtsdF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSwgZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIHQgPSBbXSwgbiA9IDA7IG4gPCBhcmd1bWVudHMubGVuZ3RoOyBuKyspXG4gICAgICB0W25dID0gYXJndW1lbnRzW25dO1xuICAgIHJldHVybiBJcih0KSh0aGlzKTtcbiAgfSwgZS5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24odCkge1xuICAgIHZhciBuID0gdGhpcztcbiAgICByZXR1cm4gdCA9IFR0KHQpLCBuZXcgdChmdW5jdGlvbihyLCBpKSB7XG4gICAgICB2YXIgbztcbiAgICAgIG4uc3Vic2NyaWJlKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgcmV0dXJuIG8gPSBzO1xuICAgICAgfSwgZnVuY3Rpb24ocykge1xuICAgICAgICByZXR1cm4gaShzKTtcbiAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcihvKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LCBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gbmV3IGUodCk7XG4gIH0sIGU7XG59KCk7XG5mdW5jdGlvbiBUdChlKSB7XG4gIHZhciB0O1xuICByZXR1cm4gKHQgPSBlID8/IHRuLlByb21pc2UpICE9PSBudWxsICYmIHQgIT09IHZvaWQgMCA/IHQgOiBQcm9taXNlO1xufVxuZnVuY3Rpb24gRHIoZSkge1xuICByZXR1cm4gZSAmJiBBKGUubmV4dCkgJiYgQShlLmVycm9yKSAmJiBBKGUuY29tcGxldGUpO1xufVxuZnVuY3Rpb24gTXIoZSkge1xuICByZXR1cm4gZSAmJiBlIGluc3RhbmNlb2YgdXQgfHwgRHIoZSkgJiYgZW4oZSk7XG59XG5mdW5jdGlvbiBScihlKSB7XG4gIHJldHVybiBBKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUubGlmdCk7XG59XG5mdW5jdGlvbiBCKGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICBpZiAoUnIodCkpXG4gICAgICByZXR1cm4gdC5saWZ0KGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZShuLCB0aGlzKTtcbiAgICAgICAgfSBjYXRjaCAocikge1xuICAgICAgICAgIHRoaXMuZXJyb3Iocik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmFibGUgdG8gbGlmdCB1bmtub3duIE9ic2VydmFibGUgdHlwZVwiKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGooZSwgdCwgbiwgciwgaSkge1xuICByZXR1cm4gbmV3IE5yKGUsIHQsIG4sIHIsIGkpO1xufVxudmFyIE5yID0gZnVuY3Rpb24oZSkge1xuICBxKHQsIGUpO1xuICBmdW5jdGlvbiB0KG4sIHIsIGksIG8sIHMsIGEpIHtcbiAgICB2YXIgYyA9IGUuY2FsbCh0aGlzLCBuKSB8fCB0aGlzO1xuICAgIHJldHVybiBjLm9uRmluYWxpemUgPSBzLCBjLnNob3VsZFVuc3Vic2NyaWJlID0gYSwgYy5fbmV4dCA9IHIgPyBmdW5jdGlvbih1KSB7XG4gICAgICB0cnkge1xuICAgICAgICByKHUpO1xuICAgICAgfSBjYXRjaCAobCkge1xuICAgICAgICBuLmVycm9yKGwpO1xuICAgICAgfVxuICAgIH0gOiBlLnByb3RvdHlwZS5fbmV4dCwgYy5fZXJyb3IgPSBvID8gZnVuY3Rpb24odSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbyh1KTtcbiAgICAgIH0gY2F0Y2ggKGwpIHtcbiAgICAgICAgbi5lcnJvcihsKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICB9IDogZS5wcm90b3R5cGUuX2Vycm9yLCBjLl9jb21wbGV0ZSA9IGkgPyBmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGkoKTtcbiAgICAgIH0gY2F0Y2ggKHUpIHtcbiAgICAgICAgbi5lcnJvcih1KTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICB9IDogZS5wcm90b3R5cGUuX2NvbXBsZXRlLCBjO1xuICB9XG4gIHJldHVybiB0LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuO1xuICAgIGlmICghdGhpcy5zaG91bGRVbnN1YnNjcmliZSB8fCB0aGlzLnNob3VsZFVuc3Vic2NyaWJlKCkpIHtcbiAgICAgIHZhciByID0gdGhpcy5jbG9zZWQ7XG4gICAgICBlLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpLCAhciAmJiAoKG4gPSB0aGlzLm9uRmluYWxpemUpID09PSBudWxsIHx8IG4gPT09IHZvaWQgMCB8fCBuLmNhbGwodGhpcykpO1xuICAgIH1cbiAgfSwgdDtcbn0odXQpLCAkciA9IGN0KGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGUodGhpcyksIHRoaXMubmFtZSA9IFwiT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JcIiwgdGhpcy5tZXNzYWdlID0gXCJvYmplY3QgdW5zdWJzY3JpYmVkXCI7XG4gIH07XG59KSwgcmUgPSBmdW5jdGlvbihlKSB7XG4gIHEodCwgZSk7XG4gIGZ1bmN0aW9uIHQoKSB7XG4gICAgdmFyIG4gPSBlLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICByZXR1cm4gbi5jbG9zZWQgPSAhMSwgbi5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbCwgbi5vYnNlcnZlcnMgPSBbXSwgbi5pc1N0b3BwZWQgPSAhMSwgbi5oYXNFcnJvciA9ICExLCBuLnRocm93bkVycm9yID0gbnVsbCwgbjtcbiAgfVxuICByZXR1cm4gdC5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uKG4pIHtcbiAgICB2YXIgciA9IG5ldyBDdCh0aGlzLCB0aGlzKTtcbiAgICByZXR1cm4gci5vcGVyYXRvciA9IG4sIHI7XG4gIH0sIHQucHJvdG90eXBlLl90aHJvd0lmQ2xvc2VkID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKVxuICAgICAgdGhyb3cgbmV3ICRyKCk7XG4gIH0sIHQucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbihuKSB7XG4gICAgdmFyIHIgPSB0aGlzO1xuICAgIEFlKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGksIG87XG4gICAgICBpZiAoci5fdGhyb3dJZkNsb3NlZCgpLCAhci5pc1N0b3BwZWQpIHtcbiAgICAgICAgci5jdXJyZW50T2JzZXJ2ZXJzIHx8IChyLmN1cnJlbnRPYnNlcnZlcnMgPSBBcnJheS5mcm9tKHIub2JzZXJ2ZXJzKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICh2YXIgcyA9IHBlKHIuY3VycmVudE9ic2VydmVycyksIGEgPSBzLm5leHQoKTsgIWEuZG9uZTsgYSA9IHMubmV4dCgpKSB7XG4gICAgICAgICAgICB2YXIgYyA9IGEudmFsdWU7XG4gICAgICAgICAgICBjLm5leHQobik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoICh1KSB7XG4gICAgICAgICAgaSA9IHsgZXJyb3I6IHUgfTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYSAmJiAhYS5kb25lICYmIChvID0gcy5yZXR1cm4pICYmIG8uY2FsbChzKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKGkpIHRocm93IGkuZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIHQucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24obikge1xuICAgIHZhciByID0gdGhpcztcbiAgICBBZShmdW5jdGlvbigpIHtcbiAgICAgIGlmIChyLl90aHJvd0lmQ2xvc2VkKCksICFyLmlzU3RvcHBlZCkge1xuICAgICAgICByLmhhc0Vycm9yID0gci5pc1N0b3BwZWQgPSAhMCwgci50aHJvd25FcnJvciA9IG47XG4gICAgICAgIGZvciAodmFyIGkgPSByLm9ic2VydmVyczsgaS5sZW5ndGg7IClcbiAgICAgICAgICBpLnNoaWZ0KCkuZXJyb3Iobik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIHQucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSB0aGlzO1xuICAgIEFlKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKG4uX3Rocm93SWZDbG9zZWQoKSwgIW4uaXNTdG9wcGVkKSB7XG4gICAgICAgIG4uaXNTdG9wcGVkID0gITA7XG4gICAgICAgIGZvciAodmFyIHIgPSBuLm9ic2VydmVyczsgci5sZW5ndGg7IClcbiAgICAgICAgICByLnNoaWZ0KCkuY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgdC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlzU3RvcHBlZCA9IHRoaXMuY2xvc2VkID0gITAsIHRoaXMub2JzZXJ2ZXJzID0gdGhpcy5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbDtcbiAgfSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCBcIm9ic2VydmVkXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG47XG4gICAgICByZXR1cm4gKChuID0gdGhpcy5vYnNlcnZlcnMpID09PSBudWxsIHx8IG4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG4ubGVuZ3RoKSA+IDA7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICBjb25maWd1cmFibGU6ICEwXG4gIH0pLCB0LnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24obikge1xuICAgIHJldHVybiB0aGlzLl90aHJvd0lmQ2xvc2VkKCksIGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUuY2FsbCh0aGlzLCBuKTtcbiAgfSwgdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uKG4pIHtcbiAgICByZXR1cm4gdGhpcy5fdGhyb3dJZkNsb3NlZCgpLCB0aGlzLl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzKG4pLCB0aGlzLl9pbm5lclN1YnNjcmliZShuKTtcbiAgfSwgdC5wcm90b3R5cGUuX2lubmVyU3Vic2NyaWJlID0gZnVuY3Rpb24obikge1xuICAgIHZhciByID0gdGhpcywgaSA9IHRoaXMsIG8gPSBpLmhhc0Vycm9yLCBzID0gaS5pc1N0b3BwZWQsIGEgPSBpLm9ic2VydmVycztcbiAgICByZXR1cm4gbyB8fCBzID8gWnQgOiAodGhpcy5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbCwgYS5wdXNoKG4pLCBuZXcgVGUoZnVuY3Rpb24oKSB7XG4gICAgICByLmN1cnJlbnRPYnNlcnZlcnMgPSBudWxsLCBfZShhLCBuKTtcbiAgICB9KSk7XG4gIH0sIHQucHJvdG90eXBlLl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzID0gZnVuY3Rpb24obikge1xuICAgIHZhciByID0gdGhpcywgaSA9IHIuaGFzRXJyb3IsIG8gPSByLnRocm93bkVycm9yLCBzID0gci5pc1N0b3BwZWQ7XG4gICAgaSA/IG4uZXJyb3IobykgOiBzICYmIG4uY29tcGxldGUoKTtcbiAgfSwgdC5wcm90b3R5cGUuYXNPYnNlcnZhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSBuZXcgTygpO1xuICAgIHJldHVybiBuLnNvdXJjZSA9IHRoaXMsIG47XG4gIH0sIHQuY3JlYXRlID0gZnVuY3Rpb24obiwgcikge1xuICAgIHJldHVybiBuZXcgQ3Qobiwgcik7XG4gIH0sIHQ7XG59KE8pLCBDdCA9IGZ1bmN0aW9uKGUpIHtcbiAgcSh0LCBlKTtcbiAgZnVuY3Rpb24gdChuLCByKSB7XG4gICAgdmFyIGkgPSBlLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICByZXR1cm4gaS5kZXN0aW5hdGlvbiA9IG4sIGkuc291cmNlID0gciwgaTtcbiAgfVxuICByZXR1cm4gdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKG4pIHtcbiAgICB2YXIgciwgaTtcbiAgICAoaSA9IChyID0gdGhpcy5kZXN0aW5hdGlvbikgPT09IG51bGwgfHwgciA9PT0gdm9pZCAwID8gdm9pZCAwIDogci5uZXh0KSA9PT0gbnVsbCB8fCBpID09PSB2b2lkIDAgfHwgaS5jYWxsKHIsIG4pO1xuICB9LCB0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uKG4pIHtcbiAgICB2YXIgciwgaTtcbiAgICAoaSA9IChyID0gdGhpcy5kZXN0aW5hdGlvbikgPT09IG51bGwgfHwgciA9PT0gdm9pZCAwID8gdm9pZCAwIDogci5lcnJvcikgPT09IG51bGwgfHwgaSA9PT0gdm9pZCAwIHx8IGkuY2FsbChyLCBuKTtcbiAgfSwgdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiwgcjtcbiAgICAociA9IChuID0gdGhpcy5kZXN0aW5hdGlvbikgPT09IG51bGwgfHwgbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogbi5jb21wbGV0ZSkgPT09IG51bGwgfHwgciA9PT0gdm9pZCAwIHx8IHIuY2FsbChuKTtcbiAgfSwgdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uKG4pIHtcbiAgICB2YXIgciwgaTtcbiAgICByZXR1cm4gKGkgPSAociA9IHRoaXMuc291cmNlKSA9PT0gbnVsbCB8fCByID09PSB2b2lkIDAgPyB2b2lkIDAgOiByLnN1YnNjcmliZShuKSkgIT09IG51bGwgJiYgaSAhPT0gdm9pZCAwID8gaSA6IFp0O1xuICB9LCB0O1xufShyZSksIG9uID0gZnVuY3Rpb24oZSkge1xuICBxKHQsIGUpO1xuICBmdW5jdGlvbiB0KG4pIHtcbiAgICB2YXIgciA9IGUuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIHJldHVybiByLl92YWx1ZSA9IG4sIHI7XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKCk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICBjb25maWd1cmFibGU6ICEwXG4gIH0pLCB0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24obikge1xuICAgIHZhciByID0gZS5wcm90b3R5cGUuX3N1YnNjcmliZS5jYWxsKHRoaXMsIG4pO1xuICAgIHJldHVybiAhci5jbG9zZWQgJiYgbi5uZXh0KHRoaXMuX3ZhbHVlKSwgcjtcbiAgfSwgdC5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbiA9IHRoaXMsIHIgPSBuLmhhc0Vycm9yLCBpID0gbi50aHJvd25FcnJvciwgbyA9IG4uX3ZhbHVlO1xuICAgIGlmIChyKVxuICAgICAgdGhyb3cgaTtcbiAgICByZXR1cm4gdGhpcy5fdGhyb3dJZkNsb3NlZCgpLCBvO1xuICB9LCB0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24obikge1xuICAgIGUucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCB0aGlzLl92YWx1ZSA9IG4pO1xuICB9LCB0O1xufShyZSksIFVyID0ge1xuICBub3c6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xuICB9LFxuICBkZWxlZ2F0ZTogdm9pZCAwXG59LCBGciA9IGZ1bmN0aW9uKGUpIHtcbiAgcSh0LCBlKTtcbiAgZnVuY3Rpb24gdChuLCByKSB7XG4gICAgcmV0dXJuIGUuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICB9XG4gIHJldHVybiB0LnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSwgdDtcbn0oVGUpLCBQdCA9IHtcbiAgc2V0SW50ZXJ2YWw6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICBmb3IgKHZhciBuID0gW10sIHIgPSAyOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKVxuICAgICAgbltyIC0gMl0gPSBhcmd1bWVudHNbcl07XG4gICAgcmV0dXJuIHNldEludGVydmFsLmFwcGx5KHZvaWQgMCwgU2UoW2UsIHRdLCBoZShuKSkpO1xuICB9LFxuICBjbGVhckludGVydmFsOiBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIGNsZWFySW50ZXJ2YWwoZSk7XG4gIH0sXG4gIGRlbGVnYXRlOiB2b2lkIDBcbn0sIGpyID0gZnVuY3Rpb24oZSkge1xuICBxKHQsIGUpO1xuICBmdW5jdGlvbiB0KG4sIHIpIHtcbiAgICB2YXIgaSA9IGUuY2FsbCh0aGlzLCBuLCByKSB8fCB0aGlzO1xuICAgIHJldHVybiBpLnNjaGVkdWxlciA9IG4sIGkud29yayA9IHIsIGkucGVuZGluZyA9ICExLCBpO1xuICB9XG4gIHJldHVybiB0LnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICB2YXIgaTtcbiAgICBpZiAociA9PT0gdm9pZCAwICYmIChyID0gMCksIHRoaXMuY2xvc2VkKVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgdGhpcy5zdGF0ZSA9IG47XG4gICAgdmFyIG8gPSB0aGlzLmlkLCBzID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgcmV0dXJuIG8gIT0gbnVsbCAmJiAodGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQocywgbywgcikpLCB0aGlzLnBlbmRpbmcgPSAhMCwgdGhpcy5kZWxheSA9IHIsIHRoaXMuaWQgPSAoaSA9IHRoaXMuaWQpICE9PSBudWxsICYmIGkgIT09IHZvaWQgMCA/IGkgOiB0aGlzLnJlcXVlc3RBc3luY0lkKHMsIHRoaXMuaWQsIHIpLCB0aGlzO1xuICB9LCB0LnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uKG4sIHIsIGkpIHtcbiAgICByZXR1cm4gaSA9PT0gdm9pZCAwICYmIChpID0gMCksIFB0LnNldEludGVydmFsKG4uZmx1c2guYmluZChuLCB0aGlzKSwgaSk7XG4gIH0sIHQucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24obiwgciwgaSkge1xuICAgIGlmIChpID09PSB2b2lkIDAgJiYgKGkgPSAwKSwgaSAhPSBudWxsICYmIHRoaXMuZGVsYXkgPT09IGkgJiYgdGhpcy5wZW5kaW5nID09PSAhMSlcbiAgICAgIHJldHVybiByO1xuICAgIHIgIT0gbnVsbCAmJiBQdC5jbGVhckludGVydmFsKHIpO1xuICB9LCB0LnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24obiwgcikge1xuICAgIGlmICh0aGlzLmNsb3NlZClcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uXCIpO1xuICAgIHRoaXMucGVuZGluZyA9ICExO1xuICAgIHZhciBpID0gdGhpcy5fZXhlY3V0ZShuLCByKTtcbiAgICBpZiAoaSlcbiAgICAgIHJldHVybiBpO1xuICAgIHRoaXMucGVuZGluZyA9PT0gITEgJiYgdGhpcy5pZCAhPSBudWxsICYmICh0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCkpO1xuICB9LCB0LnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uKG4sIHIpIHtcbiAgICB2YXIgaSA9ICExLCBvO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLndvcmsobik7XG4gICAgfSBjYXRjaCAocykge1xuICAgICAgaSA9ICEwLCBvID0gcyB8fCBuZXcgRXJyb3IoXCJTY2hlZHVsZWQgYWN0aW9uIHRocmV3IGZhbHN5IGVycm9yXCIpO1xuICAgIH1cbiAgICBpZiAoaSlcbiAgICAgIHJldHVybiB0aGlzLnVuc3Vic2NyaWJlKCksIG87XG4gIH0sIHQucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgdmFyIG4gPSB0aGlzLCByID0gbi5pZCwgaSA9IG4uc2NoZWR1bGVyLCBvID0gaS5hY3Rpb25zO1xuICAgICAgdGhpcy53b3JrID0gdGhpcy5zdGF0ZSA9IHRoaXMuc2NoZWR1bGVyID0gbnVsbCwgdGhpcy5wZW5kaW5nID0gITEsIF9lKG8sIHRoaXMpLCByICE9IG51bGwgJiYgKHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKGksIHIsIG51bGwpKSwgdGhpcy5kZWxheSA9IG51bGwsIGUucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgfVxuICB9LCB0O1xufShGciksIEF0ID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGUodCwgbikge1xuICAgIG4gPT09IHZvaWQgMCAmJiAobiA9IGUubm93KSwgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yID0gdCwgdGhpcy5ub3cgPSBuO1xuICB9XG4gIHJldHVybiBlLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uKHQsIG4sIHIpIHtcbiAgICByZXR1cm4gbiA9PT0gdm9pZCAwICYmIChuID0gMCksIG5ldyB0aGlzLnNjaGVkdWxlckFjdGlvbkN0b3IodGhpcywgdCkuc2NoZWR1bGUociwgbik7XG4gIH0sIGUubm93ID0gVXIubm93LCBlO1xufSgpLCBXciA9IGZ1bmN0aW9uKGUpIHtcbiAgcSh0LCBlKTtcbiAgZnVuY3Rpb24gdChuLCByKSB7XG4gICAgciA9PT0gdm9pZCAwICYmIChyID0gQXQubm93KTtcbiAgICB2YXIgaSA9IGUuY2FsbCh0aGlzLCBuLCByKSB8fCB0aGlzO1xuICAgIHJldHVybiBpLmFjdGlvbnMgPSBbXSwgaS5fYWN0aXZlID0gITEsIGk7XG4gIH1cbiAgcmV0dXJuIHQucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24obikge1xuICAgIHZhciByID0gdGhpcy5hY3Rpb25zO1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHIucHVzaChuKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGk7XG4gICAgdGhpcy5fYWN0aXZlID0gITA7XG4gICAgZG9cbiAgICAgIGlmIChpID0gbi5leGVjdXRlKG4uc3RhdGUsIG4uZGVsYXkpKVxuICAgICAgICBicmVhaztcbiAgICB3aGlsZSAobiA9IHIuc2hpZnQoKSk7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSA9ICExLCBpKSB7XG4gICAgICBmb3IgKDsgbiA9IHIuc2hpZnQoKTsgKVxuICAgICAgICBuLnVuc3Vic2NyaWJlKCk7XG4gICAgICB0aHJvdyBpO1xuICAgIH1cbiAgfSwgdDtcbn0oQXQpLCBCciA9IG5ldyBXcihqciksIFZyID0gbmV3IE8oZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZS5jb21wbGV0ZSgpO1xufSk7XG5mdW5jdGlvbiBIcihlKSB7XG4gIHJldHVybiBlICYmIEEoZS5zY2hlZHVsZSk7XG59XG5mdW5jdGlvbiBzbihlKSB7XG4gIHJldHVybiBlW2UubGVuZ3RoIC0gMV07XG59XG5mdW5jdGlvbiBCZShlKSB7XG4gIHJldHVybiBIcihzbihlKSkgPyBlLnBvcCgpIDogdm9pZCAwO1xufVxuZnVuY3Rpb24genIoZSwgdCkge1xuICByZXR1cm4gdHlwZW9mIHNuKGUpID09IFwibnVtYmVyXCIgPyBlLnBvcCgpIDogdDtcbn1cbnZhciBkdCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUgJiYgdHlwZW9mIGUubGVuZ3RoID09IFwibnVtYmVyXCIgJiYgdHlwZW9mIGUgIT0gXCJmdW5jdGlvblwiO1xufTtcbmZ1bmN0aW9uIGFuKGUpIHtcbiAgcmV0dXJuIEEoZSA9PSBudWxsID8gdm9pZCAwIDogZS50aGVuKTtcbn1cbmZ1bmN0aW9uIGNuKGUpIHtcbiAgcmV0dXJuIEEoZVtsdF0pO1xufVxuZnVuY3Rpb24gdW4oZSkge1xuICByZXR1cm4gU3ltYm9sLmFzeW5jSXRlcmF0b3IgJiYgQShlID09IG51bGwgPyB2b2lkIDAgOiBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSk7XG59XG5mdW5jdGlvbiBsbihlKSB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IHByb3ZpZGVkIFwiICsgKGUgIT09IG51bGwgJiYgdHlwZW9mIGUgPT0gXCJvYmplY3RcIiA/IFwiYW4gaW52YWxpZCBvYmplY3RcIiA6IFwiJ1wiICsgZSArIFwiJ1wiKSArIFwiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIFJlYWRhYmxlU3RyZWFtLCBBcnJheSwgQXN5bmNJdGVyYWJsZSwgb3IgSXRlcmFibGUuXCIpO1xufVxuZnVuY3Rpb24gWXIoKSB7XG4gIHJldHVybiB0eXBlb2YgU3ltYm9sICE9IFwiZnVuY3Rpb25cIiB8fCAhU3ltYm9sLml0ZXJhdG9yID8gXCJAQGl0ZXJhdG9yXCIgOiBTeW1ib2wuaXRlcmF0b3I7XG59XG52YXIgZm4gPSBZcigpO1xuZnVuY3Rpb24gZG4oZSkge1xuICByZXR1cm4gQShlID09IG51bGwgPyB2b2lkIDAgOiBlW2ZuXSk7XG59XG5mdW5jdGlvbiBwbihlKSB7XG4gIHJldHVybiBQcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBuLCByLCBpLCBvO1xuICAgIHJldHVybiBYdCh0aGlzLCBmdW5jdGlvbihzKSB7XG4gICAgICBzd2l0Y2ggKHMubGFiZWwpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIG4gPSBlLmdldFJlYWRlcigpLCBzLmxhYmVsID0gMTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHMudHJ5cy5wdXNoKFsxLCAsIDksIDEwXSksIHMubGFiZWwgPSAyO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuIFs0LCBmZShuLnJlYWQoKSldO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuIHIgPSBzLnNlbnQoKSwgaSA9IHIudmFsdWUsIG8gPSByLmRvbmUsIG8gPyBbNCwgZmUodm9pZCAwKV0gOiBbMywgNV07XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gWzIsIHMuc2VudCgpXTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiBbNCwgZmUoaSldO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgcmV0dXJuIFs0LCBzLnNlbnQoKV07XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICByZXR1cm4gcy5zZW50KCksIFszLCAyXTtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIHJldHVybiBbMywgMTBdO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgcmV0dXJuIG4ucmVsZWFzZUxvY2soKSwgWzddO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gaG4oZSkge1xuICByZXR1cm4gQShlID09IG51bGwgPyB2b2lkIDAgOiBlLmdldFJlYWRlcik7XG59XG5mdW5jdGlvbiBZKGUpIHtcbiAgaWYgKGUgaW5zdGFuY2VvZiBPKVxuICAgIHJldHVybiBlO1xuICBpZiAoZSAhPSBudWxsKSB7XG4gICAgaWYgKGNuKGUpKVxuICAgICAgcmV0dXJuIEdyKGUpO1xuICAgIGlmIChkdChlKSlcbiAgICAgIHJldHVybiBLcihlKTtcbiAgICBpZiAoYW4oZSkpXG4gICAgICByZXR1cm4gUXIoZSk7XG4gICAgaWYgKHVuKGUpKVxuICAgICAgcmV0dXJuIHZuKGUpO1xuICAgIGlmIChkbihlKSlcbiAgICAgIHJldHVybiBKcihlKTtcbiAgICBpZiAoaG4oZSkpXG4gICAgICByZXR1cm4gcXIoZSk7XG4gIH1cbiAgdGhyb3cgbG4oZSk7XG59XG5mdW5jdGlvbiBHcihlKSB7XG4gIHJldHVybiBuZXcgTyhmdW5jdGlvbih0KSB7XG4gICAgdmFyIG4gPSBlW2x0XSgpO1xuICAgIGlmIChBKG4uc3Vic2NyaWJlKSlcbiAgICAgIHJldHVybiBuLnN1YnNjcmliZSh0KTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGVcIik7XG4gIH0pO1xufVxuZnVuY3Rpb24gS3IoZSkge1xuICByZXR1cm4gbmV3IE8oZnVuY3Rpb24odCkge1xuICAgIGZvciAodmFyIG4gPSAwOyBuIDwgZS5sZW5ndGggJiYgIXQuY2xvc2VkOyBuKyspXG4gICAgICB0Lm5leHQoZVtuXSk7XG4gICAgdC5jb21wbGV0ZSgpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIFFyKGUpIHtcbiAgcmV0dXJuIG5ldyBPKGZ1bmN0aW9uKHQpIHtcbiAgICBlLnRoZW4oZnVuY3Rpb24obikge1xuICAgICAgdC5jbG9zZWQgfHwgKHQubmV4dChuKSwgdC5jb21wbGV0ZSgpKTtcbiAgICB9LCBmdW5jdGlvbihuKSB7XG4gICAgICByZXR1cm4gdC5lcnJvcihuKTtcbiAgICB9KS50aGVuKG51bGwsIHJuKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBKcihlKSB7XG4gIHJldHVybiBuZXcgTyhmdW5jdGlvbih0KSB7XG4gICAgdmFyIG4sIHI7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIGkgPSBwZShlKSwgbyA9IGkubmV4dCgpOyAhby5kb25lOyBvID0gaS5uZXh0KCkpIHtcbiAgICAgICAgdmFyIHMgPSBvLnZhbHVlO1xuICAgICAgICBpZiAodC5uZXh0KHMpLCB0LmNsb3NlZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBjYXRjaCAoYSkge1xuICAgICAgbiA9IHsgZXJyb3I6IGEgfTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbyAmJiAhby5kb25lICYmIChyID0gaS5yZXR1cm4pICYmIHIuY2FsbChpKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChuKSB0aHJvdyBuLmVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgICB0LmNvbXBsZXRlKCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gdm4oZSkge1xuICByZXR1cm4gbmV3IE8oZnVuY3Rpb24odCkge1xuICAgIFhyKGUsIHQpLmNhdGNoKGZ1bmN0aW9uKG4pIHtcbiAgICAgIHJldHVybiB0LmVycm9yKG4pO1xuICAgIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHFyKGUpIHtcbiAgcmV0dXJuIHZuKHBuKGUpKTtcbn1cbmZ1bmN0aW9uIFhyKGUsIHQpIHtcbiAgdmFyIG4sIHIsIGksIG87XG4gIHJldHVybiBDcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIHMsIGE7XG4gICAgcmV0dXJuIFh0KHRoaXMsIGZ1bmN0aW9uKGMpIHtcbiAgICAgIHN3aXRjaCAoYy5sYWJlbCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgYy50cnlzLnB1c2goWzAsIDUsIDYsIDExXSksIG4gPSBBcihlKSwgYy5sYWJlbCA9IDE7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gWzQsIG4ubmV4dCgpXTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmIChyID0gYy5zZW50KCksICEhci5kb25lKSByZXR1cm4gWzMsIDRdO1xuICAgICAgICAgIGlmIChzID0gci52YWx1ZSwgdC5uZXh0KHMpLCB0LmNsb3NlZClcbiAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgYy5sYWJlbCA9IDM7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gWzMsIDFdO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuIFszLCAxMV07XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gYSA9IGMuc2VudCgpLCBpID0geyBlcnJvcjogYSB9LCBbMywgMTFdO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgcmV0dXJuIGMudHJ5cy5wdXNoKFs2LCAsIDksIDEwXSksIHIgJiYgIXIuZG9uZSAmJiAobyA9IG4ucmV0dXJuKSA/IFs0LCBvLmNhbGwobildIDogWzMsIDhdO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgYy5zZW50KCksIGMubGFiZWwgPSA4O1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgcmV0dXJuIFszLCAxMF07XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICBpZiAoaSkgdGhyb3cgaS5lcnJvcjtcbiAgICAgICAgICByZXR1cm4gWzddO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgcmV0dXJuIHQuY29tcGxldGUoKSwgWzJdO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGVlKGUsIHQsIG4sIHIsIGkpIHtcbiAgciA9PT0gdm9pZCAwICYmIChyID0gMCksIGkgPT09IHZvaWQgMCAmJiAoaSA9ICExKTtcbiAgdmFyIG8gPSB0LnNjaGVkdWxlKGZ1bmN0aW9uKCkge1xuICAgIG4oKSwgaSA/IGUuYWRkKHRoaXMuc2NoZWR1bGUobnVsbCwgcikpIDogdGhpcy51bnN1YnNjcmliZSgpO1xuICB9LCByKTtcbiAgaWYgKGUuYWRkKG8pLCAhaSlcbiAgICByZXR1cm4gbztcbn1cbmZ1bmN0aW9uIG1uKGUsIHQpIHtcbiAgcmV0dXJuIHQgPT09IHZvaWQgMCAmJiAodCA9IDApLCBCKGZ1bmN0aW9uKG4sIHIpIHtcbiAgICBuLnN1YnNjcmliZShqKHIsIGZ1bmN0aW9uKGkpIHtcbiAgICAgIHJldHVybiBlZShyLCBlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHIubmV4dChpKTtcbiAgICAgIH0sIHQpO1xuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGVlKHIsIGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gci5jb21wbGV0ZSgpO1xuICAgICAgfSwgdCk7XG4gICAgfSwgZnVuY3Rpb24oaSkge1xuICAgICAgcmV0dXJuIGVlKHIsIGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gci5lcnJvcihpKTtcbiAgICAgIH0sIHQpO1xuICAgIH0pKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnbihlLCB0KSB7XG4gIHJldHVybiB0ID09PSB2b2lkIDAgJiYgKHQgPSAwKSwgQihmdW5jdGlvbihuLCByKSB7XG4gICAgci5hZGQoZS5zY2hlZHVsZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuLnN1YnNjcmliZShyKTtcbiAgICB9LCB0KSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gWnIoZSwgdCkge1xuICByZXR1cm4gWShlKS5waXBlKGduKHQpLCBtbih0KSk7XG59XG5mdW5jdGlvbiBlaShlLCB0KSB7XG4gIHJldHVybiBZKGUpLnBpcGUoZ24odCksIG1uKHQpKTtcbn1cbmZ1bmN0aW9uIHRpKGUsIHQpIHtcbiAgcmV0dXJuIG5ldyBPKGZ1bmN0aW9uKG4pIHtcbiAgICB2YXIgciA9IDA7XG4gICAgcmV0dXJuIHQuc2NoZWR1bGUoZnVuY3Rpb24oKSB7XG4gICAgICByID09PSBlLmxlbmd0aCA/IG4uY29tcGxldGUoKSA6IChuLm5leHQoZVtyKytdKSwgbi5jbG9zZWQgfHwgdGhpcy5zY2hlZHVsZSgpKTtcbiAgICB9KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBuaShlLCB0KSB7XG4gIHJldHVybiBuZXcgTyhmdW5jdGlvbihuKSB7XG4gICAgdmFyIHI7XG4gICAgcmV0dXJuIGVlKG4sIHQsIGZ1bmN0aW9uKCkge1xuICAgICAgciA9IGVbZm5dKCksIGVlKG4sIHQsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSwgbywgcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpID0gci5uZXh0KCksIG8gPSBpLnZhbHVlLCBzID0gaS5kb25lO1xuICAgICAgICB9IGNhdGNoIChhKSB7XG4gICAgICAgICAgbi5lcnJvcihhKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcyA/IG4uY29tcGxldGUoKSA6IG4ubmV4dChvKTtcbiAgICAgIH0sIDAsICEwKTtcbiAgICB9KSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQShyID09IG51bGwgPyB2b2lkIDAgOiByLnJldHVybikgJiYgci5yZXR1cm4oKTtcbiAgICB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIGJuKGUsIHQpIHtcbiAgaWYgKCFlKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkl0ZXJhYmxlIGNhbm5vdCBiZSBudWxsXCIpO1xuICByZXR1cm4gbmV3IE8oZnVuY3Rpb24obikge1xuICAgIGVlKG4sIHQsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHIgPSBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgZWUobiwgdCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHIubmV4dCgpLnRoZW4oZnVuY3Rpb24oaSkge1xuICAgICAgICAgIGkuZG9uZSA/IG4uY29tcGxldGUoKSA6IG4ubmV4dChpLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCAwLCAhMCk7XG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gcmkoZSwgdCkge1xuICByZXR1cm4gYm4ocG4oZSksIHQpO1xufVxuZnVuY3Rpb24gaWkoZSwgdCkge1xuICBpZiAoZSAhPSBudWxsKSB7XG4gICAgaWYgKGNuKGUpKVxuICAgICAgcmV0dXJuIFpyKGUsIHQpO1xuICAgIGlmIChkdChlKSlcbiAgICAgIHJldHVybiB0aShlLCB0KTtcbiAgICBpZiAoYW4oZSkpXG4gICAgICByZXR1cm4gZWkoZSwgdCk7XG4gICAgaWYgKHVuKGUpKVxuICAgICAgcmV0dXJuIGJuKGUsIHQpO1xuICAgIGlmIChkbihlKSlcbiAgICAgIHJldHVybiBuaShlLCB0KTtcbiAgICBpZiAoaG4oZSkpXG4gICAgICByZXR1cm4gcmkoZSwgdCk7XG4gIH1cbiAgdGhyb3cgbG4oZSk7XG59XG5mdW5jdGlvbiBwdChlLCB0KSB7XG4gIHJldHVybiB0ID8gaWkoZSwgdCkgOiBZKGUpO1xufVxuZnVuY3Rpb24ga3QoKSB7XG4gIGZvciAodmFyIGUgPSBbXSwgdCA9IDA7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspXG4gICAgZVt0XSA9IGFyZ3VtZW50c1t0XTtcbiAgdmFyIG4gPSBCZShlKTtcbiAgcmV0dXJuIHB0KGUsIG4pO1xufVxuZnVuY3Rpb24gb2koZSkge1xuICByZXR1cm4gZSBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKGUpO1xufVxudmFyIHNpID0gY3QoZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZnVuY3Rpb24obikge1xuICAgIG4gPT09IHZvaWQgMCAmJiAobiA9IG51bGwpLCBlKHRoaXMpLCB0aGlzLm1lc3NhZ2UgPSBcIlRpbWVvdXQgaGFzIG9jY3VycmVkXCIsIHRoaXMubmFtZSA9IFwiVGltZW91dEVycm9yXCIsIHRoaXMuaW5mbyA9IG47XG4gIH07XG59KTtcbmZ1bmN0aW9uIGFpKGUsIHQpIHtcbiAgdmFyIG4gPSBvaShlKSA/IHsgZmlyc3Q6IGUgfSA6IHR5cGVvZiBlID09IFwibnVtYmVyXCIgPyB7IGVhY2g6IGUgfSA6IGUsIHIgPSBuLmZpcnN0LCBpID0gbi5lYWNoLCBvID0gbi53aXRoLCBzID0gbyA9PT0gdm9pZCAwID8gY2kgOiBvLCBhID0gbi5zY2hlZHVsZXIsIGMgPSBhID09PSB2b2lkIDAgPyBCciA6IGEsIHUgPSBuLm1ldGEsIGwgPSB1ID09PSB2b2lkIDAgPyBudWxsIDogdTtcbiAgaWYgKHIgPT0gbnVsbCAmJiBpID09IG51bGwpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIHRpbWVvdXQgcHJvdmlkZWQuXCIpO1xuICByZXR1cm4gQihmdW5jdGlvbihmLCBoKSB7XG4gICAgdmFyIGQsIG0sIHAgPSBudWxsLCBnID0gMCwgdiA9IGZ1bmN0aW9uKEUpIHtcbiAgICAgIG0gPSBlZShoLCBjLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkLnVuc3Vic2NyaWJlKCksIFkocyh7XG4gICAgICAgICAgICBtZXRhOiBsLFxuICAgICAgICAgICAgbGFzdFZhbHVlOiBwLFxuICAgICAgICAgICAgc2VlbjogZ1xuICAgICAgICAgIH0pKS5zdWJzY3JpYmUoaCk7XG4gICAgICAgIH0gY2F0Y2ggKFApIHtcbiAgICAgICAgICBoLmVycm9yKFApO1xuICAgICAgICB9XG4gICAgICB9LCBFKTtcbiAgICB9O1xuICAgIGQgPSBmLnN1YnNjcmliZShqKGgsIGZ1bmN0aW9uKEUpIHtcbiAgICAgIG0gPT0gbnVsbCB8fCBtLnVuc3Vic2NyaWJlKCksIGcrKywgaC5uZXh0KHAgPSBFKSwgaSA+IDAgJiYgdihpKTtcbiAgICB9LCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24oKSB7XG4gICAgICBtICE9IG51bGwgJiYgbS5jbG9zZWQgfHwgbSA9PSBudWxsIHx8IG0udW5zdWJzY3JpYmUoKSwgcCA9IG51bGw7XG4gICAgfSkpLCAhZyAmJiB2KHIgIT0gbnVsbCA/IHR5cGVvZiByID09IFwibnVtYmVyXCIgPyByIDogK3IgLSBjLm5vdygpIDogaSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gY2koZSkge1xuICB0aHJvdyBuZXcgc2koZSk7XG59XG5mdW5jdGlvbiBrKGUsIHQpIHtcbiAgcmV0dXJuIEIoZnVuY3Rpb24obiwgcikge1xuICAgIHZhciBpID0gMDtcbiAgICBuLnN1YnNjcmliZShqKHIsIGZ1bmN0aW9uKG8pIHtcbiAgICAgIHIubmV4dChlLmNhbGwodCwgbywgaSsrKSk7XG4gICAgfSkpO1xuICB9KTtcbn1cbnZhciB1aSA9IEFycmF5LmlzQXJyYXk7XG5mdW5jdGlvbiBsaShlLCB0KSB7XG4gIHJldHVybiB1aSh0KSA/IGUuYXBwbHkodm9pZCAwLCBTZShbXSwgaGUodCkpKSA6IGUodCk7XG59XG5mdW5jdGlvbiBmaShlKSB7XG4gIHJldHVybiBrKGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gbGkoZSwgdCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gZGkoZSwgdCwgbiwgciwgaSwgbywgcywgYSkge1xuICB2YXIgYyA9IFtdLCB1ID0gMCwgbCA9IDAsIGYgPSAhMSwgaCA9IGZ1bmN0aW9uKCkge1xuICAgIGYgJiYgIWMubGVuZ3RoICYmICF1ICYmIHQuY29tcGxldGUoKTtcbiAgfSwgZCA9IGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gdSA8IHIgPyBtKHApIDogYy5wdXNoKHApO1xuICB9LCBtID0gZnVuY3Rpb24ocCkge1xuICAgIHUrKztcbiAgICB2YXIgZyA9ICExO1xuICAgIFkobihwLCBsKyspKS5zdWJzY3JpYmUoaih0LCBmdW5jdGlvbih2KSB7XG4gICAgICB0Lm5leHQodik7XG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICBnID0gITA7XG4gICAgfSwgdm9pZCAwLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChnKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHUtLTtcbiAgICAgICAgICBmb3IgKHZhciB2ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgRSA9IGMuc2hpZnQoKTtcbiAgICAgICAgICAgIHMgfHwgbShFKTtcbiAgICAgICAgICB9OyBjLmxlbmd0aCAmJiB1IDwgcjsgKVxuICAgICAgICAgICAgdigpO1xuICAgICAgICAgIGgoKTtcbiAgICAgICAgfSBjYXRjaCAoRSkge1xuICAgICAgICAgIHQuZXJyb3IoRSk7XG4gICAgICAgIH1cbiAgICB9KSk7XG4gIH07XG4gIHJldHVybiBlLnN1YnNjcmliZShqKHQsIGQsIGZ1bmN0aW9uKCkge1xuICAgIGYgPSAhMCwgaCgpO1xuICB9KSksIGZ1bmN0aW9uKCkge1xuICB9O1xufVxuZnVuY3Rpb24gaHQoZSwgdCwgbikge1xuICByZXR1cm4gbiA9PT0gdm9pZCAwICYmIChuID0gMSAvIDApLCBBKHQpID8gaHQoZnVuY3Rpb24ociwgaSkge1xuICAgIHJldHVybiBrKGZ1bmN0aW9uKG8sIHMpIHtcbiAgICAgIHJldHVybiB0KHIsIG8sIGksIHMpO1xuICAgIH0pKFkoZShyLCBpKSkpO1xuICB9LCBuKSA6ICh0eXBlb2YgdCA9PSBcIm51bWJlclwiICYmIChuID0gdCksIEIoZnVuY3Rpb24ociwgaSkge1xuICAgIHJldHVybiBkaShyLCBpLCBlLCBuKTtcbiAgfSkpO1xufVxuZnVuY3Rpb24geW4oZSkge1xuICByZXR1cm4gZSA9PT0gdm9pZCAwICYmIChlID0gMSAvIDApLCBodChmdCwgZSk7XG59XG5mdW5jdGlvbiBwaSgpIHtcbiAgcmV0dXJuIHluKDEpO1xufVxuZnVuY3Rpb24gRGUoKSB7XG4gIGZvciAodmFyIGUgPSBbXSwgdCA9IDA7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspXG4gICAgZVt0XSA9IGFyZ3VtZW50c1t0XTtcbiAgcmV0dXJuIHBpKCkocHQoZSwgQmUoZSkpKTtcbn1cbnZhciBoaSA9IFtcImFkZExpc3RlbmVyXCIsIFwicmVtb3ZlTGlzdGVuZXJcIl0sIHZpID0gW1wiYWRkRXZlbnRMaXN0ZW5lclwiLCBcInJlbW92ZUV2ZW50TGlzdGVuZXJcIl0sIG1pID0gW1wib25cIiwgXCJvZmZcIl07XG5mdW5jdGlvbiB0dChlLCB0LCBuLCByKSB7XG4gIGlmIChBKG4pICYmIChyID0gbiwgbiA9IHZvaWQgMCksIHIpXG4gICAgcmV0dXJuIHR0KGUsIHQsIG4pLnBpcGUoZmkocikpO1xuICB2YXIgaSA9IGhlKHlpKGUpID8gdmkubWFwKGZ1bmN0aW9uKGEpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYykge1xuICAgICAgcmV0dXJuIGVbYV0odCwgYywgbik7XG4gICAgfTtcbiAgfSkgOiBnaShlKSA/IGhpLm1hcChPdChlLCB0KSkgOiBiaShlKSA/IG1pLm1hcChPdChlLCB0KSkgOiBbXSwgMiksIG8gPSBpWzBdLCBzID0gaVsxXTtcbiAgaWYgKCFvICYmIGR0KGUpKVxuICAgIHJldHVybiBodChmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdHQoYSwgdCwgbik7XG4gICAgfSkoWShlKSk7XG4gIGlmICghbylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBldmVudCB0YXJnZXRcIik7XG4gIHJldHVybiBuZXcgTyhmdW5jdGlvbihhKSB7XG4gICAgdmFyIGMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIHUgPSBbXSwgbCA9IDA7IGwgPCBhcmd1bWVudHMubGVuZ3RoOyBsKyspXG4gICAgICAgIHVbbF0gPSBhcmd1bWVudHNbbF07XG4gICAgICByZXR1cm4gYS5uZXh0KDEgPCB1Lmxlbmd0aCA/IHUgOiB1WzBdKTtcbiAgICB9O1xuICAgIHJldHVybiBvKGMpLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzKGMpO1xuICAgIH07XG4gIH0pO1xufVxuZnVuY3Rpb24gT3QoZSwgdCkge1xuICByZXR1cm4gZnVuY3Rpb24obikge1xuICAgIHJldHVybiBmdW5jdGlvbihyKSB7XG4gICAgICByZXR1cm4gZVtuXSh0LCByKTtcbiAgICB9O1xuICB9O1xufVxuZnVuY3Rpb24gZ2koZSkge1xuICByZXR1cm4gQShlLmFkZExpc3RlbmVyKSAmJiBBKGUucmVtb3ZlTGlzdGVuZXIpO1xufVxuZnVuY3Rpb24gYmkoZSkge1xuICByZXR1cm4gQShlLm9uKSAmJiBBKGUub2ZmKTtcbn1cbmZ1bmN0aW9uIHlpKGUpIHtcbiAgcmV0dXJuIEEoZS5hZGRFdmVudExpc3RlbmVyKSAmJiBBKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcik7XG59XG5mdW5jdGlvbiB3aSgpIHtcbiAgZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKylcbiAgICBlW3RdID0gYXJndW1lbnRzW3RdO1xuICB2YXIgbiA9IEJlKGUpLCByID0genIoZSwgMSAvIDApLCBpID0gZTtcbiAgcmV0dXJuIGkubGVuZ3RoID8gaS5sZW5ndGggPT09IDEgPyBZKGlbMF0pIDogeW4ocikocHQoaSwgbikpIDogVnI7XG59XG5mdW5jdGlvbiB2dChlLCB0KSB7XG4gIHJldHVybiBCKGZ1bmN0aW9uKG4sIHIpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgbi5zdWJzY3JpYmUoaihyLCBmdW5jdGlvbihvKSB7XG4gICAgICByZXR1cm4gZS5jYWxsKHQsIG8sIGkrKykgJiYgci5uZXh0KG8pO1xuICAgIH0pKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBTaShlLCB0LCBuLCByLCBpKSB7XG4gIHJldHVybiBmdW5jdGlvbihvLCBzKSB7XG4gICAgdmFyIGEgPSBuLCBjID0gdCwgdSA9IDA7XG4gICAgby5zdWJzY3JpYmUoaihzLCBmdW5jdGlvbihsKSB7XG4gICAgICB2YXIgZiA9IHUrKztcbiAgICAgIGMgPSBhID8gZShjLCBsLCBmKSA6IChhID0gITAsIGwpLCBzLm5leHQoYyk7XG4gICAgfSwgaSkpO1xuICB9O1xufVxuZnVuY3Rpb24geGkoZSwgdCkge1xuICByZXR1cm4gdCA9PT0gdm9pZCAwICYmICh0ID0gZnQpLCBlID0gZSA/PyBFaSwgQihmdW5jdGlvbihuLCByKSB7XG4gICAgdmFyIGksIG8gPSAhMDtcbiAgICBuLnN1YnNjcmliZShqKHIsIGZ1bmN0aW9uKHMpIHtcbiAgICAgIHZhciBhID0gdChzKTtcbiAgICAgIChvIHx8ICFlKGksIGEpKSAmJiAobyA9ICExLCBpID0gYSwgci5uZXh0KHMpKTtcbiAgICB9KSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gRWkoZSwgdCkge1xuICByZXR1cm4gZSA9PT0gdDtcbn1cbmZ1bmN0aW9uIFRpKGUpIHtcbiAgcmV0dXJuIEIoZnVuY3Rpb24odCwgbikge1xuICAgIHRyeSB7XG4gICAgICB0LnN1YnNjcmliZShuKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgbi5hZGQoZSk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIENpKGUsIHQpIHtcbiAgcmV0dXJuIEIoU2koZSwgdCwgYXJndW1lbnRzLmxlbmd0aCA+PSAyLCAhMCkpO1xufVxuZnVuY3Rpb24gUGkoZSkge1xuICByZXR1cm4gQihmdW5jdGlvbih0LCBuKSB7XG4gICAgdmFyIHIgPSAhMSwgaSA9IGoobiwgZnVuY3Rpb24oKSB7XG4gICAgICBpID09IG51bGwgfHwgaS51bnN1YnNjcmliZSgpLCByID0gITA7XG4gICAgfSwgSWUpO1xuICAgIFkoZSkuc3Vic2NyaWJlKGkpLCB0LnN1YnNjcmliZShqKG4sIGZ1bmN0aW9uKG8pIHtcbiAgICAgIHJldHVybiByICYmIG4ubmV4dChvKTtcbiAgICB9KSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gUigpIHtcbiAgZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKylcbiAgICBlW3RdID0gYXJndW1lbnRzW3RdO1xuICB2YXIgbiA9IEJlKGUpO1xuICByZXR1cm4gQihmdW5jdGlvbihyLCBpKSB7XG4gICAgKG4gPyBEZShlLCByLCBuKSA6IERlKGUsIHIpKS5zdWJzY3JpYmUoaSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gd24oZSwgdCkge1xuICByZXR1cm4gQihmdW5jdGlvbihuLCByKSB7XG4gICAgdmFyIGkgPSBudWxsLCBvID0gMCwgcyA9ICExLCBhID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcyAmJiAhaSAmJiByLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBuLnN1YnNjcmliZShqKHIsIGZ1bmN0aW9uKGMpIHtcbiAgICAgIGkgPT0gbnVsbCB8fCBpLnVuc3Vic2NyaWJlKCk7XG4gICAgICB2YXIgdSA9IDAsIGwgPSBvKys7XG4gICAgICBZKGUoYywgbCkpLnN1YnNjcmliZShpID0gaihyLCBmdW5jdGlvbihmKSB7XG4gICAgICAgIHJldHVybiByLm5leHQodCA/IHQoYywgZiwgbCwgdSsrKSA6IGYpO1xuICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGkgPSBudWxsLCBhKCk7XG4gICAgICB9KSk7XG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICBzID0gITAsIGEoKTtcbiAgICB9KSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gTHQoZSkge1xuICByZXR1cm4gQihmdW5jdGlvbih0LCBuKSB7XG4gICAgWShlKS5zdWJzY3JpYmUoaihuLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuLmNvbXBsZXRlKCk7XG4gICAgfSwgSWUpKSwgIW4uY2xvc2VkICYmIHQuc3Vic2NyaWJlKG4pO1xuICB9KTtcbn1cbnZhciBBaSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwga2kgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcywgT2kgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycywgX3QgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLCBMaSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksIF9pID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSwgSXQgPSAoZSwgdCwgbikgPT4gdCBpbiBlID8gQWkoZSwgdCwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogbiB9KSA6IGVbdF0gPSBuLCBRID0gKGUsIHQpID0+IHtcbiAgZm9yICh2YXIgbiBpbiB0IHx8ICh0ID0ge30pKVxuICAgIExpLmNhbGwodCwgbikgJiYgSXQoZSwgbiwgdFtuXSk7XG4gIGlmIChfdClcbiAgICBmb3IgKHZhciBuIG9mIF90KHQpKVxuICAgICAgX2kuY2FsbCh0LCBuKSAmJiBJdChlLCBuLCB0W25dKTtcbiAgcmV0dXJuIGU7XG59LCB5ZSA9IChlLCB0KSA9PiBraShlLCBPaSh0KSksIFcgPSAoZSwgdCwgbikgPT4gbmV3IFByb21pc2UoKHIsIGkpID0+IHtcbiAgdmFyIG8gPSAoYykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhKG4ubmV4dChjKSk7XG4gICAgfSBjYXRjaCAodSkge1xuICAgICAgaSh1KTtcbiAgICB9XG4gIH0sIHMgPSAoYykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhKG4udGhyb3coYykpO1xuICAgIH0gY2F0Y2ggKHUpIHtcbiAgICAgIGkodSk7XG4gICAgfVxuICB9LCBhID0gKGMpID0+IGMuZG9uZSA/IHIoYy52YWx1ZSkgOiBQcm9taXNlLnJlc29sdmUoYy52YWx1ZSkudGhlbihvLCBzKTtcbiAgYSgobiA9IG4uYXBwbHkoZSwgdCkpLm5leHQoKSk7XG59KSwgU24gPSBcImxrXCI7XG5mdW5jdGlvbiBGKGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBlID4gXCJ1XCIgPyAhMSA6IElpKGUpIHx8IERpKGUpO1xufVxuZnVuY3Rpb24gSWkoZSkge1xuICB2YXIgdDtcbiAgcmV0dXJuIGUgPyBlLmhhc093blByb3BlcnR5KFwicGFydGljaXBhbnRcIikgJiYgZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZVwiKSAmJiBlLmhhc093blByb3BlcnR5KFwidHJhY2tcIikgJiYgdHlwZW9mICgodCA9IGUucHVibGljYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiB0LnRyYWNrKSA8IFwidVwiIDogITE7XG59XG5mdW5jdGlvbiBEaShlKSB7XG4gIHJldHVybiBlID8gZS5oYXNPd25Qcm9wZXJ0eShcInBhcnRpY2lwYW50XCIpICYmIGUuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VcIikgJiYgZS5oYXNPd25Qcm9wZXJ0eShcInB1YmxpY2F0aW9uXCIpICYmIHR5cGVvZiBlLnB1YmxpY2F0aW9uIDwgXCJ1XCIgOiAhMTtcbn1cbmZ1bmN0aW9uIHhlKGUpIHtcbiAgcmV0dXJuIGUgPyBlLmhhc093blByb3BlcnR5KFwicGFydGljaXBhbnRcIikgJiYgZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZVwiKSAmJiB0eXBlb2YgZS5wdWJsaWNhdGlvbiA+IFwidVwiIDogITE7XG59XG5mdW5jdGlvbiBOKGUpIHtcbiAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGUgPT0gXCJudW1iZXJcIilcbiAgICByZXR1cm4gYCR7ZX1gO1xuICBpZiAoeGUoZSkpXG4gICAgcmV0dXJuIGAke2UucGFydGljaXBhbnQuaWRlbnRpdHl9XyR7ZS5zb3VyY2V9X3BsYWNlaG9sZGVyYDtcbiAgaWYgKEYoZSkpXG4gICAgcmV0dXJuIGAke2UucGFydGljaXBhbnQuaWRlbnRpdHl9XyR7ZS5wdWJsaWNhdGlvbi5zb3VyY2V9XyR7ZS5wdWJsaWNhdGlvbi50cmFja1NpZH1gO1xuICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IGdlbmVyYXRlIGEgaWQgZm9yIHRoZSBnaXZlbiB0cmFjayByZWZlcmVuY2U6ICR7ZX1gKTtcbn1cbmZ1bmN0aW9uIEFvKGUsIHQpIHtcbiAgcmV0dXJuIGUgPT09IHZvaWQgMCB8fCB0ID09PSB2b2lkIDAgPyAhMSA6IEYoZSkgJiYgRih0KSA/IGUucHVibGljYXRpb24udHJhY2tTaWQgPT09IHQucHVibGljYXRpb24udHJhY2tTaWQgOiBOKGUpID09PSBOKHQpO1xufVxuZnVuY3Rpb24ga28oZSwgdCkge1xuICByZXR1cm4gdHlwZW9mIHQgPiBcInVcIiA/ICExIDogRihlKSA/IHQuc29tZShcbiAgICAobikgPT4gbi5wYXJ0aWNpcGFudC5pZGVudGl0eSA9PT0gZS5wYXJ0aWNpcGFudC5pZGVudGl0eSAmJiBGKG4pICYmIG4ucHVibGljYXRpb24udHJhY2tTaWQgPT09IGUucHVibGljYXRpb24udHJhY2tTaWRcbiAgKSA6IHhlKGUpID8gdC5zb21lKFxuICAgIChuKSA9PiBuLnBhcnRpY2lwYW50LmlkZW50aXR5ID09PSBlLnBhcnRpY2lwYW50LmlkZW50aXR5ICYmIHhlKG4pICYmIG4uc291cmNlID09PSBlLnNvdXJjZVxuICApIDogITE7XG59XG5mdW5jdGlvbiBNaShlLCB0KSB7XG4gIHJldHVybiB4ZShlKSAmJiBGKHQpICYmIHQucGFydGljaXBhbnQuaWRlbnRpdHkgPT09IGUucGFydGljaXBhbnQuaWRlbnRpdHkgJiYgdC5zb3VyY2UgPT09IGUuc291cmNlO1xufVxuZnVuY3Rpb24gT28oZSkge1xuICByZXR1cm4gZSBpbnN0YW5jZW9mIG90O1xufVxuZnVuY3Rpb24gTG8oKSB7XG4gIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgZS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiLCBlLnN0eWxlLmhlaWdodCA9IFwiMjAwcHhcIjtcbiAgY29uc3QgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCIsIHQuc3R5bGUudG9wID0gXCIwcHhcIiwgdC5zdHlsZS5sZWZ0ID0gXCIwcHhcIiwgdC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIiwgdC5zdHlsZS53aWR0aCA9IFwiMjAwcHhcIiwgdC5zdHlsZS5oZWlnaHQgPSBcIjE1MHB4XCIsIHQuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiLCB0LmFwcGVuZENoaWxkKGUpLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpO1xuICBjb25zdCBuID0gZS5vZmZzZXRXaWR0aDtcbiAgdC5zdHlsZS5vdmVyZmxvdyA9IFwic2Nyb2xsXCI7XG4gIGxldCByID0gZS5vZmZzZXRXaWR0aDtcbiAgcmV0dXJuIG4gPT09IHIgJiYgKHIgPSB0LmNsaWVudFdpZHRoKSwgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0KSwgbiAtIHI7XG59XG5mdW5jdGlvbiBfbygpIHtcbiAgcmV0dXJuIHR5cGVvZiBkb2N1bWVudCA8IFwidVwiO1xufVxuZnVuY3Rpb24gUmkoZSkge1xuICBlID0gUSh7fSwgZSk7XG4gIGNvbnN0IHQgPSBcIig/Oig/OlthLXpdKzopPy8vKT9cIiwgbiA9IFwiKD86XFxcXFMrKD86OlxcXFxTKik/QCk/XCIsIHIgPSBuZXcgUmVnRXhwKFxuICAgIFwiKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSg/OlxcXFwuKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSl7M31cIixcbiAgICBcImdcIlxuICApLnNvdXJjZSwgdSA9IGAoPzoke3R9fHd3d1xcXFwuKSR7bn0oPzpsb2NhbGhvc3R8JHtyfXwoPzooPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV1bLV9dKikqW2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldKykoPzpcXFxcLig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XS0qKSpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0rKSooPzpcXFxcLig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmXXsyLH0pKVxcXFwuPykoPzo6XFxcXGR7Miw1fSk/KD86Wy8/I11bXlxcXFxzXCJdKik/YDtcbiAgcmV0dXJuIGUuZXhhY3QgPyBuZXcgUmVnRXhwKGAoPzpeJHt1fSQpYCwgXCJpXCIpIDogbmV3IFJlZ0V4cCh1LCBcImlnXCIpO1xufVxudmFyIER0ID0gXCJbXlxcXFwuXFxcXHNAOl0oPzpbXlxcXFxzQDpdKlteXFxcXHNAOlxcXFwuXSk/QFteXFxcXC5cXFxcc0BdKyg/OlxcXFwuW15cXFxcLlxcXFxzQF0rKSpcIjtcbmZ1bmN0aW9uIE5pKHsgZXhhY3Q6IGUgfSA9IHt9KSB7XG4gIHJldHVybiBlID8gbmV3IFJlZ0V4cChgXiR7RHR9JGApIDogbmV3IFJlZ0V4cChEdCwgXCJnXCIpO1xufVxuZnVuY3Rpb24gSW8oZSwgdCkge1xuICByZXR1cm4gVyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHsgeDogbiwgeTogciB9ID0geWllbGQgd3IoZSwgdCwge1xuICAgICAgcGxhY2VtZW50OiBcInRvcFwiLFxuICAgICAgbWlkZGxld2FyZTogW2dyKDYpLCB5cigpLCBicih7IHBhZGRpbmc6IDUgfSldXG4gICAgfSk7XG4gICAgcmV0dXJuIHsgeDogbiwgeTogciB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIERvKGUsIHQpIHtcbiAgcmV0dXJuICFlLmNvbnRhaW5zKHQudGFyZ2V0KTtcbn1cbnZhciBNbyA9ICgpID0+ICh7XG4gIGVtYWlsOiBOaSgpLFxuICB1cmw6IFJpKHt9KVxufSk7XG5mdW5jdGlvbiBSbyhlLCB0KSB7XG4gIGNvbnN0IG4gPSBPYmplY3QuZW50cmllcyh0KS5tYXAoXG4gICAgKFtvLCBzXSwgYSkgPT4gQXJyYXkuZnJvbShlLm1hdGNoQWxsKHMpKS5tYXAoKHsgaW5kZXg6IGMsIDA6IHUgfSkgPT4gKHtcbiAgICAgIHR5cGU6IG8sXG4gICAgICB3ZWlnaHQ6IGEsXG4gICAgICBjb250ZW50OiB1LFxuICAgICAgaW5kZXg6IGMgPz8gMFxuICAgIH0pKVxuICApLmZsYXQoKS5zb3J0KChvLCBzKSA9PiB7XG4gICAgY29uc3QgYSA9IG8uaW5kZXggLSBzLmluZGV4O1xuICAgIHJldHVybiBhICE9PSAwID8gYSA6IG8ud2VpZ2h0IC0gcy53ZWlnaHQ7XG4gIH0pLmZpbHRlcigoeyBpbmRleDogbyB9LCBzLCBhKSA9PiB7XG4gICAgaWYgKHMgPT09IDApIHJldHVybiAhMDtcbiAgICBjb25zdCBjID0gYVtzIC0gMV07XG4gICAgcmV0dXJuIGMuaW5kZXggKyBjLmNvbnRlbnQubGVuZ3RoIDw9IG87XG4gIH0pLCByID0gW107XG4gIGxldCBpID0gMDtcbiAgZm9yIChjb25zdCB7IHR5cGU6IG8sIGNvbnRlbnQ6IHMsIGluZGV4OiBhIH0gb2YgbilcbiAgICBhID4gaSAmJiByLnB1c2goZS5zdWJzdHJpbmcoaSwgYSkpLCByLnB1c2goeyB0eXBlOiBvLCBjb250ZW50OiBzIH0pLCBpID0gYSArIHMubGVuZ3RoO1xuICByZXR1cm4gZS5sZW5ndGggPiBpICYmIHIucHVzaChlLnN1YnN0cmluZyhpKSksIHI7XG59XG52YXIgJGkgPSBbXG4gIGIuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZCxcbiAgYi5Sb29tTWV0YWRhdGFDaGFuZ2VkLFxuICBiLkFjdGl2ZVNwZWFrZXJzQ2hhbmdlZCxcbiAgYi5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWQsXG4gIGIuUGFydGljaXBhbnRDb25uZWN0ZWQsXG4gIGIuUGFydGljaXBhbnREaXNjb25uZWN0ZWQsXG4gIGIuUGFydGljaXBhbnRQZXJtaXNzaW9uc0NoYW5nZWQsXG4gIGIuUGFydGljaXBhbnRNZXRhZGF0YUNoYW5nZWQsXG4gIGIuUGFydGljaXBhbnROYW1lQ2hhbmdlZCxcbiAgYi5QYXJ0aWNpcGFudEF0dHJpYnV0ZXNDaGFuZ2VkLFxuICBiLlRyYWNrTXV0ZWQsXG4gIGIuVHJhY2tVbm11dGVkLFxuICBiLlRyYWNrUHVibGlzaGVkLFxuICBiLlRyYWNrVW5wdWJsaXNoZWQsXG4gIGIuVHJhY2tTdHJlYW1TdGF0ZUNoYW5nZWQsXG4gIGIuVHJhY2tTdWJzY3JpcHRpb25GYWlsZWQsXG4gIGIuVHJhY2tTdWJzY3JpcHRpb25QZXJtaXNzaW9uQ2hhbmdlZCxcbiAgYi5UcmFja1N1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWRcbl0sIHhuID0gW1xuICAuLi4kaSxcbiAgYi5Mb2NhbFRyYWNrUHVibGlzaGVkLFxuICBiLkxvY2FsVHJhY2tVbnB1Ymxpc2hlZFxuXSwgVWkgPSBbXG4gIHkuVHJhY2tQdWJsaXNoZWQsXG4gIHkuVHJhY2tVbnB1Ymxpc2hlZCxcbiAgeS5UcmFja011dGVkLFxuICB5LlRyYWNrVW5tdXRlZCxcbiAgeS5UcmFja1N0cmVhbVN0YXRlQ2hhbmdlZCxcbiAgeS5UcmFja1N1YnNjcmliZWQsXG4gIHkuVHJhY2tVbnN1YnNjcmliZWQsXG4gIHkuVHJhY2tTdWJzY3JpcHRpb25QZXJtaXNzaW9uQ2hhbmdlZCxcbiAgeS5UcmFja1N1YnNjcmlwdGlvbkZhaWxlZCxcbiAgeS5Mb2NhbFRyYWNrUHVibGlzaGVkLFxuICB5LkxvY2FsVHJhY2tVbnB1Ymxpc2hlZFxuXSwgRmkgPSBbXG4gIHkuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkLFxuICB5LklzU3BlYWtpbmdDaGFuZ2VkLFxuICB5LlBhcnRpY2lwYW50TWV0YWRhdGFDaGFuZ2VkLFxuICB5LlBhcnRpY2lwYW50UGVybWlzc2lvbnNDaGFuZ2VkLFxuICB5LlRyYWNrTXV0ZWQsXG4gIHkuVHJhY2tVbm11dGVkLFxuICB5LlRyYWNrUHVibGlzaGVkLFxuICB5LlRyYWNrVW5wdWJsaXNoZWQsXG4gIHkuVHJhY2tTdHJlYW1TdGF0ZUNoYW5nZWQsXG4gIHkuVHJhY2tTdWJzY3JpcHRpb25GYWlsZWQsXG4gIHkuVHJhY2tTdWJzY3JpcHRpb25QZXJtaXNzaW9uQ2hhbmdlZCxcbiAgeS5UcmFja1N1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWRcbl0sIEVuID0gW1xuICAuLi5GaSxcbiAgeS5Mb2NhbFRyYWNrUHVibGlzaGVkLFxuICB5LkxvY2FsVHJhY2tVbnB1Ymxpc2hlZFxuXSwgXyA9IFRyLmdldExvZ2dlcihcImxrLWNvbXBvbmVudHMtanNcIik7XG5fLnNldERlZmF1bHRMZXZlbChcIldBUk5cIik7XG5mdW5jdGlvbiBObyhlLCB0ID0ge30pIHtcbiAgdmFyIG47XG4gIF8uc2V0TGV2ZWwoZSksIEZuKChuID0gdC5saXZlS2l0Q2xpZW50TG9nTGV2ZWwpICE9IG51bGwgPyBuIDogZSk7XG59XG5mdW5jdGlvbiAkbyhlLCB0ID0ge30pIHtcbiAgdmFyIG47XG4gIGNvbnN0IHIgPSBfLm1ldGhvZEZhY3Rvcnk7XG4gIF8ubWV0aG9kRmFjdG9yeSA9IChpLCBvLCBzKSA9PiB7XG4gICAgY29uc3QgYSA9IHIoaSwgbywgcyksIGMgPSBtdFtpXSwgdSA9IGMgPj0gbyAmJiBjIDwgbXQuc2lsZW50O1xuICAgIHJldHVybiAobCwgZikgPT4ge1xuICAgICAgZiA/IGEobCwgZikgOiBhKGwpLCB1ICYmIGUoYywgbCwgZik7XG4gICAgfTtcbiAgfSwgXy5zZXRMZXZlbChfLmdldExldmVsKCkpLCBqbigobiA9IHQubGl2ZUtpdENsaWVudExvZ0V4dGVuc2lvbikgIT0gbnVsbCA/IG4gOiBlKTtcbn1cbnZhciBVbyA9IFtcbiAge1xuICAgIGNvbHVtbnM6IDEsXG4gICAgcm93czogMVxuICB9LFxuICB7XG4gICAgY29sdW1uczogMSxcbiAgICByb3dzOiAyLFxuICAgIG9yaWVudGF0aW9uOiBcInBvcnRyYWl0XCJcbiAgfSxcbiAge1xuICAgIGNvbHVtbnM6IDIsXG4gICAgcm93czogMSxcbiAgICBvcmllbnRhdGlvbjogXCJsYW5kc2NhcGVcIlxuICB9LFxuICB7XG4gICAgY29sdW1uczogMixcbiAgICByb3dzOiAyLFxuICAgIG1pbldpZHRoOiA1NjBcbiAgfSxcbiAge1xuICAgIGNvbHVtbnM6IDMsXG4gICAgcm93czogMyxcbiAgICBtaW5XaWR0aDogNzAwXG4gIH0sXG4gIHtcbiAgICBjb2x1bW5zOiA0LFxuICAgIHJvd3M6IDQsXG4gICAgbWluV2lkdGg6IDk2MFxuICB9LFxuICB7XG4gICAgY29sdW1uczogNSxcbiAgICByb3dzOiA1LFxuICAgIG1pbldpZHRoOiAxMTAwXG4gIH1cbl07XG5mdW5jdGlvbiBqaShlLCB0LCBuLCByKSB7XG4gIGlmIChlLmxlbmd0aCA8IDEpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQXQgbGVhc3Qgb25lIGdyaWQgbGF5b3V0IGRlZmluaXRpb24gbXVzdCBiZSBwcm92aWRlZC5cIik7XG4gIGNvbnN0IGkgPSBXaShlKTtcbiAgaWYgKG4gPD0gMCB8fCByIDw9IDApXG4gICAgcmV0dXJuIGlbMF07XG4gIGxldCBvID0gMDtcbiAgY29uc3QgcyA9IG4gLyByID4gMSA/IFwibGFuZHNjYXBlXCIgOiBcInBvcnRyYWl0XCI7XG4gIGxldCBhID0gaS5maW5kKChjLCB1LCBsKSA9PiB7XG4gICAgbyA9IHU7XG4gICAgY29uc3QgZiA9IGwuZmluZEluZGV4KChoLCBkKSA9PiB7XG4gICAgICBjb25zdCBtID0gIWgub3JpZW50YXRpb24gfHwgaC5vcmllbnRhdGlvbiA9PT0gcywgcCA9IGQgPiB1LCBnID0gaC5tYXhUaWxlcyA9PT0gYy5tYXhUaWxlcztcbiAgICAgIHJldHVybiBwICYmIGcgJiYgbTtcbiAgICB9KSAhPT0gLTE7XG4gICAgcmV0dXJuIGMubWF4VGlsZXMgPj0gdCAmJiAhZjtcbiAgfSk7XG4gIGlmIChhID09PSB2b2lkIDApXG4gICAgaWYgKGEgPSBpW2kubGVuZ3RoIC0gMV0sIGEpXG4gICAgICBfLndhcm4oXG4gICAgICAgIGBObyBsYXlvdXQgZm91bmQgZm9yOiBwYXJ0aWNpcGFudENvdW50OiAke3R9LCB3aWR0aC9oZWlnaHQ6ICR7bn0vJHtyfSBmYWxsYmFjayB0byBiaWdnZXN0IGF2YWlsYWJsZSBsYXlvdXQgKCR7YX0pLmBcbiAgICAgICk7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gbGF5b3V0IG9yIGZhbGxiYWNrIGxheW91dCBmb3VuZC5cIik7XG4gIGlmICgobiA8IGEubWluV2lkdGggfHwgciA8IGEubWluSGVpZ2h0KSAmJiBvID4gMCkge1xuICAgIGNvbnN0IGMgPSBpW28gLSAxXTtcbiAgICBhID0gamkoXG4gICAgICBpLnNsaWNlKDAsIG8pLFxuICAgICAgYy5tYXhUaWxlcyxcbiAgICAgIG4sXG4gICAgICByXG4gICAgKTtcbiAgfVxuICByZXR1cm4gYTtcbn1cbmZ1bmN0aW9uIFdpKGUpIHtcbiAgcmV0dXJuIFsuLi5lXS5tYXAoKHQpID0+IHtcbiAgICB2YXIgbiwgcjtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogYCR7dC5jb2x1bW5zfXgke3Qucm93c31gLFxuICAgICAgY29sdW1uczogdC5jb2x1bW5zLFxuICAgICAgcm93czogdC5yb3dzLFxuICAgICAgbWF4VGlsZXM6IHQuY29sdW1ucyAqIHQucm93cyxcbiAgICAgIG1pbldpZHRoOiAobiA9IHQubWluV2lkdGgpICE9IG51bGwgPyBuIDogMCxcbiAgICAgIG1pbkhlaWdodDogKHIgPSB0Lm1pbkhlaWdodCkgIT0gbnVsbCA/IHIgOiAwLFxuICAgICAgb3JpZW50YXRpb246IHQub3JpZW50YXRpb25cbiAgICB9O1xuICB9KS5zb3J0KCh0LCBuKSA9PiB0Lm1heFRpbGVzICE9PSBuLm1heFRpbGVzID8gdC5tYXhUaWxlcyAtIG4ubWF4VGlsZXMgOiB0Lm1pbldpZHRoICE9PSAwIHx8IG4ubWluV2lkdGggIT09IDAgPyB0Lm1pbldpZHRoIC0gbi5taW5XaWR0aCA6IHQubWluSGVpZ2h0ICE9PSAwIHx8IG4ubWluSGVpZ2h0ICE9PSAwID8gdC5taW5IZWlnaHQgLSBuLm1pbkhlaWdodCA6IDApO1xufVxuZnVuY3Rpb24gRm8oKSB7XG4gIHJldHVybiB0eXBlb2YgbmF2aWdhdG9yIDwgXCJ1XCIgJiYgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyAmJiAhIW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhO1xufVxuZnVuY3Rpb24gam8oZSwgdCkge1xuICB2YXIgbjtcbiAgcmV0dXJuIHllKFEoe30sIGUpLCB7XG4gICAgcmVjZWl2ZWRBdE1lZGlhVGltZXN0YW1wOiAobiA9IHQucnRwVGltZXN0YW1wKSAhPSBudWxsID8gbiA6IDAsXG4gICAgcmVjZWl2ZWRBdDogdC50aW1lc3RhbXBcbiAgfSk7XG59XG5mdW5jdGlvbiBXbyhlLCB0LCBuKSB7XG4gIHJldHVybiBbLi4uZSwgLi4udF0ucmVkdWNlUmlnaHQoKHIsIGkpID0+IChyLmZpbmQoKG8pID0+IG8uaWQgPT09IGkuaWQpIHx8IHIudW5zaGlmdChpKSwgciksIFtdKS5zbGljZSgwIC0gbik7XG59XG52YXIgVG4gPSBbXSwgQ24gPSB7XG4gIHNob3dDaGF0OiAhMSxcbiAgdW5yZWFkTWVzc2FnZXM6IDAsXG4gIHNob3dTZXR0aW5nczogITFcbn07XG5mdW5jdGlvbiBCaShlKSB7XG4gIHJldHVybiB0eXBlb2YgZSA9PSBcIm9iamVjdFwiO1xufVxuZnVuY3Rpb24gQm8oZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShlKSAmJiBlLmZpbHRlcihCaSkubGVuZ3RoID4gMDtcbn1cbmZ1bmN0aW9uIFBuKGUsIHQpIHtcbiAgcmV0dXJuIHQuYXVkaW9MZXZlbCAtIGUuYXVkaW9MZXZlbDtcbn1cbmZ1bmN0aW9uIEFuKGUsIHQpIHtcbiAgcmV0dXJuIGUuaXNTcGVha2luZyA9PT0gdC5pc1NwZWFraW5nID8gMCA6IGUuaXNTcGVha2luZyA/IC0xIDogMTtcbn1cbmZ1bmN0aW9uIGtuKGUsIHQpIHtcbiAgdmFyIG4sIHIsIGksIG87XG4gIHJldHVybiBlLmxhc3RTcG9rZUF0ICE9PSB2b2lkIDAgfHwgdC5sYXN0U3Bva2VBdCAhPT0gdm9pZCAwID8gKChyID0gKG4gPSB0Lmxhc3RTcG9rZUF0KSA9PSBudWxsID8gdm9pZCAwIDogbi5nZXRUaW1lKCkpICE9IG51bGwgPyByIDogMCkgLSAoKG8gPSAoaSA9IGUubGFzdFNwb2tlQXQpID09IG51bGwgPyB2b2lkIDAgOiBpLmdldFRpbWUoKSkgIT0gbnVsbCA/IG8gOiAwKSA6IDA7XG59XG5mdW5jdGlvbiBNZShlLCB0KSB7XG4gIHZhciBuLCByLCBpLCBvO1xuICByZXR1cm4gKChyID0gKG4gPSBlLmpvaW5lZEF0KSA9PSBudWxsID8gdm9pZCAwIDogbi5nZXRUaW1lKCkpICE9IG51bGwgPyByIDogMCkgLSAoKG8gPSAoaSA9IHQuam9pbmVkQXQpID09IG51bGwgPyB2b2lkIDAgOiBpLmdldFRpbWUoKSkgIT0gbnVsbCA/IG8gOiAwKTtcbn1cbmZ1bmN0aW9uIFZpKGUsIHQpIHtcbiAgcmV0dXJuIEYoZSkgPyBGKHQpID8gMCA6IC0xIDogRih0KSA/IDEgOiAwO1xufVxuZnVuY3Rpb24gSGkoZSwgdCkge1xuICBjb25zdCBuID0gZS5wYXJ0aWNpcGFudC5pc0NhbWVyYUVuYWJsZWQsIHIgPSB0LnBhcnRpY2lwYW50LmlzQ2FtZXJhRW5hYmxlZDtcbiAgcmV0dXJuIG4gIT09IHIgPyBuID8gLTEgOiAxIDogMDtcbn1cbmZ1bmN0aW9uIFZvKGUpIHtcbiAgY29uc3QgdCA9IFtdLCBuID0gW10sIHIgPSBbXSwgaSA9IFtdO1xuICBlLmZvckVhY2goKGEpID0+IHtcbiAgICBhLnBhcnRpY2lwYW50LmlzTG9jYWwgJiYgYS5zb3VyY2UgPT09IE0uU291cmNlLkNhbWVyYSA/IHQucHVzaChhKSA6IGEuc291cmNlID09PSBNLlNvdXJjZS5TY3JlZW5TaGFyZSA/IG4ucHVzaChhKSA6IGEuc291cmNlID09PSBNLlNvdXJjZS5DYW1lcmEgPyByLnB1c2goYSkgOiBpLnB1c2goYSk7XG4gIH0pO1xuICBjb25zdCBvID0gemkobiksIHMgPSBZaShyKTtcbiAgcmV0dXJuIFsuLi50LCAuLi5vLCAuLi5zLCAuLi5pXTtcbn1cbmZ1bmN0aW9uIHppKGUpIHtcbiAgY29uc3QgdCA9IFtdLCBuID0gW107XG4gIHJldHVybiBlLmZvckVhY2goKGkpID0+IHtcbiAgICBpLnBhcnRpY2lwYW50LmlzTG9jYWwgPyB0LnB1c2goaSkgOiBuLnB1c2goaSk7XG4gIH0pLCB0LnNvcnQoKGksIG8pID0+IE1lKGkucGFydGljaXBhbnQsIG8ucGFydGljaXBhbnQpKSwgbi5zb3J0KChpLCBvKSA9PiBNZShpLnBhcnRpY2lwYW50LCBvLnBhcnRpY2lwYW50KSksIFsuLi5uLCAuLi50XTtcbn1cbmZ1bmN0aW9uIFlpKGUpIHtcbiAgY29uc3QgdCA9IFtdLCBuID0gW107XG4gIHJldHVybiBlLmZvckVhY2goKHIpID0+IHtcbiAgICByLnBhcnRpY2lwYW50LmlzTG9jYWwgPyB0LnB1c2gocikgOiBuLnB1c2gocik7XG4gIH0pLCBuLnNvcnQoKHIsIGkpID0+IHIucGFydGljaXBhbnQuaXNTcGVha2luZyAmJiBpLnBhcnRpY2lwYW50LmlzU3BlYWtpbmcgPyBQbihyLnBhcnRpY2lwYW50LCBpLnBhcnRpY2lwYW50KSA6IHIucGFydGljaXBhbnQuaXNTcGVha2luZyAhPT0gaS5wYXJ0aWNpcGFudC5pc1NwZWFraW5nID8gQW4oci5wYXJ0aWNpcGFudCwgaS5wYXJ0aWNpcGFudCkgOiByLnBhcnRpY2lwYW50Lmxhc3RTcG9rZUF0ICE9PSBpLnBhcnRpY2lwYW50Lmxhc3RTcG9rZUF0ID8ga24oci5wYXJ0aWNpcGFudCwgaS5wYXJ0aWNpcGFudCkgOiBGKHIpICE9PSBGKGkpID8gVmkociwgaSkgOiByLnBhcnRpY2lwYW50LmlzQ2FtZXJhRW5hYmxlZCAhPT0gaS5wYXJ0aWNpcGFudC5pc0NhbWVyYUVuYWJsZWQgPyBIaShyLCBpKSA6IE1lKHIucGFydGljaXBhbnQsIGkucGFydGljaXBhbnQpKSwgWy4uLnQsIC4uLm5dO1xufVxuZnVuY3Rpb24gSG8oZSkge1xuICBjb25zdCB0ID0gWy4uLmVdO1xuICB0LnNvcnQoKHIsIGkpID0+IHtcbiAgICBpZiAoci5pc1NwZWFraW5nICYmIGkuaXNTcGVha2luZylcbiAgICAgIHJldHVybiBQbihyLCBpKTtcbiAgICBpZiAoci5pc1NwZWFraW5nICE9PSBpLmlzU3BlYWtpbmcpXG4gICAgICByZXR1cm4gQW4ociwgaSk7XG4gICAgaWYgKHIubGFzdFNwb2tlQXQgIT09IGkubGFzdFNwb2tlQXQpXG4gICAgICByZXR1cm4ga24ociwgaSk7XG4gICAgY29uc3QgbyA9IHIudmlkZW9UcmFja1B1YmxpY2F0aW9ucy5zaXplID4gMCwgcyA9IGkudmlkZW9UcmFja1B1YmxpY2F0aW9ucy5zaXplID4gMDtcbiAgICByZXR1cm4gbyAhPT0gcyA/IG8gPyAtMSA6IDEgOiBNZShyLCBpKTtcbiAgfSk7XG4gIGNvbnN0IG4gPSB0LmZpbmQoKHIpID0+IHIgaW5zdGFuY2VvZiBvdCk7XG4gIGlmIChuKSB7XG4gICAgY29uc3QgciA9IHQuaW5kZXhPZihuKTtcbiAgICByID49IDAgJiYgKHQuc3BsaWNlKHIsIDEpLCB0Lmxlbmd0aCA+IDAgPyB0LnNwbGljZSgwLCAwLCBuKSA6IHQucHVzaChuKSk7XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBHaShlLCB0KSB7XG4gIHJldHVybiBlLnJlZHVjZShcbiAgICAobiwgciwgaSkgPT4gaSAlIHQgPT09IDAgPyBbLi4ubiwgW3JdXSA6IFsuLi5uLnNsaWNlKDAsIC0xKSwgWy4uLm4uc2xpY2UoLTEpWzBdLCByXV0sXG4gICAgW11cbiAgKTtcbn1cbmZ1bmN0aW9uIE10KGUsIHQpIHtcbiAgY29uc3QgbiA9IE1hdGgubWF4KGUubGVuZ3RoLCB0Lmxlbmd0aCk7XG4gIHJldHVybiBuZXcgQXJyYXkobikuZmlsbChbXSkubWFwKChyLCBpKSA9PiBbZVtpXSwgdFtpXV0pO1xufVxuZnVuY3Rpb24gUmUoZSwgdCwgbikge1xuICByZXR1cm4gZS5maWx0ZXIoKHIpID0+ICF0Lm1hcCgoaSkgPT4gbihpKSkuaW5jbHVkZXMobihyKSkpO1xufVxuZnVuY3Rpb24gbnQoZSkge1xuICByZXR1cm4gZS5tYXAoKHQpID0+IHR5cGVvZiB0ID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHQgPT0gXCJudW1iZXJcIiA/IGAke3R9YCA6IE4odCkpO1xufVxuZnVuY3Rpb24gS2koZSwgdCkge1xuICByZXR1cm4ge1xuICAgIGRyb3BwZWQ6IFJlKGUsIHQsIE4pLFxuICAgIGFkZGVkOiBSZSh0LCBlLCBOKVxuICB9O1xufVxuZnVuY3Rpb24gUWkoZSkge1xuICByZXR1cm4gZS5hZGRlZC5sZW5ndGggIT09IDAgfHwgZS5kcm9wcGVkLmxlbmd0aCAhPT0gMDtcbn1cbmZ1bmN0aW9uIHJ0KGUsIHQpIHtcbiAgY29uc3QgbiA9IHQuZmluZEluZGV4KFxuICAgIChyKSA9PiBOKHIpID09PSBOKGUpXG4gICk7XG4gIGlmIChuID09PSAtMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgRWxlbWVudCBub3QgcGFydCBvZiB0aGUgYXJyYXk6ICR7TihcbiAgICAgICAgZVxuICAgICAgKX0gbm90IGluICR7bnQodCl9YFxuICAgICk7XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gSmkoZSwgdCwgbikge1xuICBjb25zdCByID0gcnQoZSwgbiksIGkgPSBydCh0LCBuKTtcbiAgcmV0dXJuIG4uc3BsaWNlKHIsIDEsIHQpLCBuLnNwbGljZShpLCAxLCBlKSwgbjtcbn1cbmZ1bmN0aW9uIHFpKGUsIHQpIHtcbiAgY29uc3QgbiA9IHJ0KGUsIHQpO1xuICByZXR1cm4gdC5zcGxpY2UobiwgMSksIHQ7XG59XG5mdW5jdGlvbiBYaShlLCB0KSB7XG4gIHJldHVybiBbLi4udCwgZV07XG59XG5mdW5jdGlvbiBHZShlLCB0KSB7XG4gIHJldHVybiBHaShlLCB0KTtcbn1cbmZ1bmN0aW9uIHpvKGUsIHQsIG4pIHtcbiAgbGV0IHIgPSBaaShlLCB0KTtcbiAgaWYgKHIubGVuZ3RoIDwgdC5sZW5ndGgpIHtcbiAgICBjb25zdCBzID0gUmUodCwgciwgTik7XG4gICAgciA9IFsuLi5yLCAuLi5zXTtcbiAgfVxuICBjb25zdCBpID0gR2UociwgbiksIG8gPSBHZSh0LCBuKTtcbiAgaWYgKE10KGksIG8pLmZvckVhY2goKFtzLCBhXSwgYykgPT4ge1xuICAgIGlmIChzICYmIGEpIHtcbiAgICAgIGNvbnN0IHUgPSBHZShyLCBuKVtjXSwgbCA9IEtpKHUsIGEpO1xuICAgICAgUWkobCkgJiYgKF8uZGVidWcoXG4gICAgICAgIGBEZXRlY3RlZCB2aXN1YWwgY2hhbmdlcyBvbiBwYWdlOiAke2N9LCBjdXJyZW50OiAke250KFxuICAgICAgICAgIHNcbiAgICAgICAgKX0sIG5leHQ6ICR7bnQoYSl9YCxcbiAgICAgICAgeyBjaGFuZ2VzOiBsIH1cbiAgICAgICksIGwuYWRkZWQubGVuZ3RoID09PSBsLmRyb3BwZWQubGVuZ3RoICYmIE10KGwuYWRkZWQsIGwuZHJvcHBlZCkuZm9yRWFjaCgoW2YsIGhdKSA9PiB7XG4gICAgICAgIGlmIChmICYmIGgpXG4gICAgICAgICAgciA9IEppKGYsIGgsIHIpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYEZvciBhIHN3YXAgYWN0aW9uIHdlIG5lZWQgYSBhZGRpdGlvbiBhbmQgYSByZW1vdmFsIG9uZSBpcyBtaXNzaW5nOiAke2Z9LCAke2h9YFxuICAgICAgICAgICk7XG4gICAgICB9KSwgbC5hZGRlZC5sZW5ndGggPT09IDAgJiYgbC5kcm9wcGVkLmxlbmd0aCA+IDAgJiYgbC5kcm9wcGVkLmZvckVhY2goKGYpID0+IHtcbiAgICAgICAgciA9IHFpKGYsIHIpO1xuICAgICAgfSksIGwuYWRkZWQubGVuZ3RoID4gMCAmJiBsLmRyb3BwZWQubGVuZ3RoID09PSAwICYmIGwuYWRkZWQuZm9yRWFjaCgoZikgPT4ge1xuICAgICAgICByID0gWGkoZiwgcik7XG4gICAgICB9KSk7XG4gICAgfVxuICB9KSwgci5sZW5ndGggPiB0Lmxlbmd0aCkge1xuICAgIGNvbnN0IHMgPSBSZShyLCB0LCBOKTtcbiAgICByID0gci5maWx0ZXIoXG4gICAgICAoYSkgPT4gIXMubWFwKE4pLmluY2x1ZGVzKE4oYSkpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcjtcbn1cbmZ1bmN0aW9uIFppKGUsIHQpIHtcbiAgcmV0dXJuIGUubWFwKChuKSA9PiB7XG4gICAgY29uc3QgciA9IHQuZmluZChcbiAgICAgIChpKSA9PiAoXG4gICAgICAgIC8vIElmIHRoZSBJRHMgbWF0Y2ggb3IgLi5cbiAgICAgICAgTihuKSA9PT0gTihpKSB8fCAvLyAuLi4gaWYgdGhlIGN1cnJlbnQgaXRlbSBpcyBhIHBsYWNlaG9sZGVyIGFuZCB0aGUgbmV3IGl0ZW0gaXMgdGhlIHRyYWNrIHJlZmVyZW5jZSBjYW4gcmVwbGFjZSBpdC5cbiAgICAgICAgdHlwZW9mIG4gIT0gXCJudW1iZXJcIiAmJiB4ZShuKSAmJiBGKGkpICYmIE1pKG4sIGkpXG4gICAgICApXG4gICAgKTtcbiAgICByZXR1cm4gciA/PyBuO1xuICB9KTtcbn1cbmZ1bmN0aW9uICQoZSkge1xuICByZXR1cm4gYCR7U259LSR7ZX1gO1xufVxuZnVuY3Rpb24gWW8oZSkge1xuICBjb25zdCB0ID0gUnQoZSksIG4gPSBPbihlLnBhcnRpY2lwYW50KS5waXBlKFxuICAgIGsoKCkgPT4gUnQoZSkpLFxuICAgIFIodClcbiAgKTtcbiAgcmV0dXJuIHsgY2xhc3NOYW1lOiAkKFxuICAgIGUuc291cmNlID09PSBNLlNvdXJjZS5DYW1lcmEgfHwgZS5zb3VyY2UgPT09IE0uU291cmNlLlNjcmVlblNoYXJlID8gXCJwYXJ0aWNpcGFudC1tZWRpYS12aWRlb1wiIDogXCJwYXJ0aWNpcGFudC1tZWRpYS1hdWRpb1wiXG4gICksIHRyYWNrT2JzZXJ2ZXI6IG4gfTtcbn1cbmZ1bmN0aW9uIFJ0KGUpIHtcbiAgaWYgKEYoZSkpXG4gICAgcmV0dXJuIGUucHVibGljYXRpb247XG4gIHtcbiAgICBjb25zdCB7IHNvdXJjZTogdCwgbmFtZTogbiwgcGFydGljaXBhbnQ6IHIgfSA9IGU7XG4gICAgaWYgKHQgJiYgbilcbiAgICAgIHJldHVybiByLmdldFRyYWNrUHVibGljYXRpb25zKCkuZmluZCgoaSkgPT4gaS5zb3VyY2UgPT09IHQgJiYgaS50cmFja05hbWUgPT09IG4pO1xuICAgIGlmIChuKVxuICAgICAgcmV0dXJuIHIuZ2V0VHJhY2tQdWJsaWNhdGlvbkJ5TmFtZShuKTtcbiAgICBpZiAodClcbiAgICAgIHJldHVybiByLmdldFRyYWNrUHVibGljYXRpb24odCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQXQgbGVhc3Qgb25lIG9mIHNvdXJjZSBhbmQgbmFtZSBuZWVkcyB0byBiZSBkZWZpbmVkXCIpO1xuICB9XG59XG5mdW5jdGlvbiBzZShlLCAuLi50KSB7XG4gIHJldHVybiBuZXcgTygocikgPT4ge1xuICAgIGNvbnN0IGkgPSAoKSA9PiB7XG4gICAgICByLm5leHQoZSk7XG4gICAgfTtcbiAgICByZXR1cm4gdC5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBlLm9uKHMsIGkpO1xuICAgIH0pLCAoKSA9PiB7XG4gICAgICB0LmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgZS5vZmYocywgaSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KS5waXBlKFIoZSkpO1xufVxuZnVuY3Rpb24gYWUoZSwgdCkge1xuICByZXR1cm4gbmV3IE8oKHIpID0+IHtcbiAgICBjb25zdCBpID0gKC4uLnMpID0+IHtcbiAgICAgIHIubmV4dChzKTtcbiAgICB9O1xuICAgIHJldHVybiBlLm9uKHQsIGkpLCAoKSA9PiB7XG4gICAgICBlLm9mZih0LCBpKTtcbiAgICB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIEdvKGUpIHtcbiAgcmV0dXJuIGFlKGUsIGIuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZCkucGlwZShcbiAgICBrKChbdF0pID0+IHQpLFxuICAgIFIoZS5zdGF0ZSlcbiAgKTtcbn1cbmZ1bmN0aW9uIEtvKGUpIHtcbiAgcmV0dXJuIHNlKFxuICAgIGUsXG4gICAgYi5Sb29tTWV0YWRhdGFDaGFuZ2VkLFxuICAgIGIuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZFxuICApLnBpcGUoXG4gICAgaygobikgPT4gKHsgbmFtZTogbi5uYW1lLCBtZXRhZGF0YTogbi5tZXRhZGF0YSB9KSlcbiAgKTtcbn1cbmZ1bmN0aW9uIFFvKGUpIHtcbiAgcmV0dXJuIGFlKGUsIGIuQWN0aXZlU3BlYWtlcnNDaGFuZ2VkKS5waXBlKFxuICAgIGsoKFt0XSkgPT4gdClcbiAgKTtcbn1cbmZ1bmN0aW9uIEpvKGUsIHQsIG4gPSAhMCkge1xuICB2YXIgcjtcbiAgY29uc3QgaSA9ICgpID0+IFcodGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYSA9IHlpZWxkIGd0LmdldExvY2FsRGV2aWNlcyhlLCBuKTtcbiAgICAgIG8ubmV4dChhKTtcbiAgICB9IGNhdGNoIChhKSB7XG4gICAgICB0ID09IG51bGwgfHwgdChhKTtcbiAgICB9XG4gIH0pLCBvID0gbmV3IHJlKCksIHMgPSBvLnBpcGUoXG4gICAgVGkoKCkgPT4ge1xuICAgICAgdmFyIGE7XG4gICAgICAoYSA9IG5hdmlnYXRvciA9PSBudWxsID8gdm9pZCAwIDogbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykgPT0gbnVsbCB8fCBhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkZXZpY2VjaGFuZ2VcIiwgaSk7XG4gICAgfSlcbiAgKTtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPCBcInVcIikge1xuICAgIGlmICghd2luZG93LmlzU2VjdXJlQ29udGV4dClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJBY2Nlc3NpbmcgbWVkaWEgZGV2aWNlcyBpcyBhdmFpbGFibGUgb25seSBpbiBzZWN1cmUgY29udGV4dHMgKEhUVFBTIGFuZCBsb2NhbGhvc3QpLCBpbiBzb21lIG9yIGFsbCBzdXBwb3J0aW5nIGJyb3dzZXJzLiBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9OYXZpZ2F0b3IvbWVkaWFEZXZpY2VzXCJcbiAgICAgICk7XG4gICAgKHIgPSBuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5tZWRpYURldmljZXMpID09IG51bGwgfHwgci5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlY2hhbmdlXCIsIGkpO1xuICB9XG4gIHJldHVybiBEZShcbiAgICBndC5nZXRMb2NhbERldmljZXMoZSwgbikuY2F0Y2goKGEpID0+ICh0ID09IG51bGwgfHwgdChhKSwgW10pKSxcbiAgICBzXG4gICk7XG59XG5mdW5jdGlvbiBlbyhlKSB7XG4gIHJldHVybiBhZShlLCBiLkRhdGFSZWNlaXZlZCk7XG59XG5mdW5jdGlvbiB0byhlKSB7XG4gIHJldHVybiBhZShlLCBiLkNoYXRNZXNzYWdlKTtcbn1cbmZ1bmN0aW9uIG5vKGUpIHtcbiAgcmV0dXJuIHNlKGUsIGIuQXVkaW9QbGF5YmFja1N0YXR1c0NoYW5nZWQpLnBpcGUoXG4gICAgaygobikgPT4gKHsgY2FuUGxheUF1ZGlvOiBuLmNhblBsYXliYWNrQXVkaW8gfSkpXG4gICk7XG59XG5mdW5jdGlvbiBybyhlKSB7XG4gIHJldHVybiBzZShlLCBiLlZpZGVvUGxheWJhY2tTdGF0dXNDaGFuZ2VkKS5waXBlKFxuICAgIGsoKG4pID0+ICh7IGNhblBsYXlWaWRlbzogbi5jYW5QbGF5YmFja1ZpZGVvIH0pKVxuICApO1xufVxuZnVuY3Rpb24gaW8oZSwgdCkge1xuICByZXR1cm4gYWUoZSwgYi5BY3RpdmVEZXZpY2VDaGFuZ2VkKS5waXBlKFxuICAgIHZ0KChbbl0pID0+IG4gPT09IHQpLFxuICAgIGsoKFtuLCByXSkgPT4gKF8uZGVidWcoXCJhY3RpdmVEZXZpY2VPYnNlcnZhYmxlIHwgUm9vbUV2ZW50LkFjdGl2ZURldmljZUNoYW5nZWRcIiwgeyBraW5kOiBuLCBkZXZpY2VJZDogciB9KSwgcikpXG4gICk7XG59XG5mdW5jdGlvbiBxbyhlLCB0KSB7XG4gIHJldHVybiBhZShlLCBiLlBhcnRpY2lwYW50RW5jcnlwdGlvblN0YXR1c0NoYW5nZWQpLnBpcGUoXG4gICAgdnQoXG4gICAgICAoWywgbl0pID0+ICh0ID09IG51bGwgPyB2b2lkIDAgOiB0LmlkZW50aXR5KSA9PT0gKG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4uaWRlbnRpdHkpIHx8ICFuICYmICh0ID09IG51bGwgPyB2b2lkIDAgOiB0LmlkZW50aXR5KSA9PT0gZS5sb2NhbFBhcnRpY2lwYW50LmlkZW50aXR5XG4gICAgKSxcbiAgICBrKChbbl0pID0+IG4pLFxuICAgIFIoXG4gICAgICB0IGluc3RhbmNlb2Ygb3QgPyB0LmlzRTJFRUVuYWJsZWQgOiAhISh0ICE9IG51bGwgJiYgdC5pc0VuY3J5cHRlZClcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBYbyhlKSB7XG4gIHJldHVybiBhZShlLCBiLlJlY29yZGluZ1N0YXR1c0NoYW5nZWQpLnBpcGUoXG4gICAgaygoW3RdKSA9PiB0KSxcbiAgICBSKGUuaXNSZWNvcmRpbmcpXG4gICk7XG59XG5mdW5jdGlvbiBtZShlLCAuLi50KSB7XG4gIHJldHVybiBuZXcgTygocikgPT4ge1xuICAgIGNvbnN0IGkgPSAoKSA9PiB7XG4gICAgICByLm5leHQoZSk7XG4gICAgfTtcbiAgICByZXR1cm4gdC5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBlLm9uKHMsIGkpO1xuICAgIH0pLCAoKSA9PiB7XG4gICAgICB0LmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgZS5vZmYocywgaSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KS5waXBlKFIoZSkpO1xufVxuZnVuY3Rpb24gT24oZSkge1xuICByZXR1cm4gbWUoXG4gICAgZSxcbiAgICB5LlRyYWNrTXV0ZWQsXG4gICAgeS5UcmFja1VubXV0ZWQsXG4gICAgeS5QYXJ0aWNpcGFudFBlcm1pc3Npb25zQ2hhbmdlZCxcbiAgICAvLyBQYXJ0aWNpcGFudEV2ZW50LklzU3BlYWtpbmdDaGFuZ2VkLFxuICAgIHkuVHJhY2tQdWJsaXNoZWQsXG4gICAgeS5UcmFja1VucHVibGlzaGVkLFxuICAgIHkuTG9jYWxUcmFja1B1Ymxpc2hlZCxcbiAgICB5LkxvY2FsVHJhY2tVbnB1Ymxpc2hlZCxcbiAgICB5Lk1lZGlhRGV2aWNlc0Vycm9yLFxuICAgIHkuVHJhY2tTdWJzY3JpcHRpb25TdGF0dXNDaGFuZ2VkXG4gICAgLy8gUGFydGljaXBhbnRFdmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWQsXG4gICkucGlwZShcbiAgICBrKChuKSA9PiB7XG4gICAgICBjb25zdCB7IGlzTWljcm9waG9uZUVuYWJsZWQ6IHIsIGlzQ2FtZXJhRW5hYmxlZDogaSwgaXNTY3JlZW5TaGFyZUVuYWJsZWQ6IG8gfSA9IG4sIHMgPSBuLmdldFRyYWNrUHVibGljYXRpb24oTS5Tb3VyY2UuTWljcm9waG9uZSksIGEgPSBuLmdldFRyYWNrUHVibGljYXRpb24oTS5Tb3VyY2UuQ2FtZXJhKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzQ2FtZXJhRW5hYmxlZDogaSxcbiAgICAgICAgaXNNaWNyb3Bob25lRW5hYmxlZDogcixcbiAgICAgICAgaXNTY3JlZW5TaGFyZUVuYWJsZWQ6IG8sXG4gICAgICAgIGNhbWVyYVRyYWNrOiBhLFxuICAgICAgICBtaWNyb3Bob25lVHJhY2s6IHMsXG4gICAgICAgIHBhcnRpY2lwYW50OiBuXG4gICAgICB9O1xuICAgIH0pXG4gICk7XG59XG5mdW5jdGlvbiBvbyhlKSB7XG4gIHJldHVybiBlID8gbWUoXG4gICAgZSxcbiAgICB5LlBhcnRpY2lwYW50TWV0YWRhdGFDaGFuZ2VkLFxuICAgIHkuUGFydGljaXBhbnROYW1lQ2hhbmdlZFxuICApLnBpcGUoXG4gICAgaygoeyBuYW1lOiBuLCBpZGVudGl0eTogciwgbWV0YWRhdGE6IGkgfSkgPT4gKHtcbiAgICAgIG5hbWU6IG4sXG4gICAgICBpZGVudGl0eTogcixcbiAgICAgIG1ldGFkYXRhOiBpXG4gICAgfSkpLFxuICAgIFIoe1xuICAgICAgbmFtZTogZS5uYW1lLFxuICAgICAgaWRlbnRpdHk6IGUuaWRlbnRpdHksXG4gICAgICBtZXRhZGF0YTogZS5tZXRhZGF0YVxuICAgIH0pXG4gICkgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBzbyhlKSB7XG4gIHJldHVybiBWZShcbiAgICBlLFxuICAgIHkuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkXG4gICkucGlwZShcbiAgICBrKChbbl0pID0+IG4pLFxuICAgIFIoZS5jb25uZWN0aW9uUXVhbGl0eSlcbiAgKTtcbn1cbmZ1bmN0aW9uIFZlKGUsIHQpIHtcbiAgcmV0dXJuIG5ldyBPKChyKSA9PiB7XG4gICAgY29uc3QgaSA9ICguLi5zKSA9PiB7XG4gICAgICByLm5leHQocyk7XG4gICAgfTtcbiAgICByZXR1cm4gZS5vbih0LCBpKSwgKCkgPT4ge1xuICAgICAgZS5vZmYodCwgaSk7XG4gICAgfTtcbiAgfSk7XG59XG5mdW5jdGlvbiBhbyhlKSB7XG4gIHZhciB0LCBuLCByLCBpO1xuICByZXR1cm4gbWUoXG4gICAgZS5wYXJ0aWNpcGFudCxcbiAgICB5LlRyYWNrTXV0ZWQsXG4gICAgeS5UcmFja1VubXV0ZWQsXG4gICAgeS5UcmFja1N1YnNjcmliZWQsXG4gICAgeS5UcmFja1Vuc3Vic2NyaWJlZCxcbiAgICB5LkxvY2FsVHJhY2tQdWJsaXNoZWQsXG4gICAgeS5Mb2NhbFRyYWNrVW5wdWJsaXNoZWRcbiAgKS5waXBlKFxuICAgIGsoKG8pID0+IHtcbiAgICAgIHZhciBzLCBhO1xuICAgICAgY29uc3QgYyA9IChzID0gZS5wdWJsaWNhdGlvbikgIT0gbnVsbCA/IHMgOiBvLmdldFRyYWNrUHVibGljYXRpb24oZS5zb3VyY2UpO1xuICAgICAgcmV0dXJuIChhID0gYyA9PSBudWxsID8gdm9pZCAwIDogYy5pc011dGVkKSAhPSBudWxsID8gYSA6ICEwO1xuICAgIH0pLFxuICAgIFIoXG4gICAgICAoaSA9IChyID0gKHQgPSBlLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogdC5pc011dGVkKSAhPSBudWxsID8gciA6IChuID0gZS5wYXJ0aWNpcGFudC5nZXRUcmFja1B1YmxpY2F0aW9uKGUuc291cmNlKSkgPT0gbnVsbCA/IHZvaWQgMCA6IG4uaXNNdXRlZCkgIT0gbnVsbCA/IGkgOiAhMFxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIFpvKGUpIHtcbiAgcmV0dXJuIFZlKGUsIHkuSXNTcGVha2luZ0NoYW5nZWQpLnBpcGUoXG4gICAgaygoW3RdKSA9PiB0KVxuICApO1xufVxuZnVuY3Rpb24gZXMoZSwgdCA9IHt9KSB7XG4gIHZhciBuO1xuICBsZXQgcjtcbiAgY29uc3QgaSA9IG5ldyBPKChjKSA9PiAociA9IGMsICgpID0+IGEudW5zdWJzY3JpYmUoKSkpLnBpcGUoUihBcnJheS5mcm9tKGUucmVtb3RlUGFydGljaXBhbnRzLnZhbHVlcygpKSkpLCBvID0gKG4gPSB0LmFkZGl0aW9uYWxSb29tRXZlbnRzKSAhPSBudWxsID8gbiA6IHhuLCBzID0gQXJyYXkuZnJvbShcbiAgICAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gICAgICBiLlBhcnRpY2lwYW50Q29ubmVjdGVkLFxuICAgICAgYi5QYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCxcbiAgICAgIGIuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZCxcbiAgICAgIC4uLm9cbiAgICBdKVxuICApLCBhID0gc2UoZSwgLi4ucykuc3Vic2NyaWJlKFxuICAgIChjKSA9PiByID09IG51bGwgPyB2b2lkIDAgOiByLm5leHQoQXJyYXkuZnJvbShjLnJlbW90ZVBhcnRpY2lwYW50cy52YWx1ZXMoKSkpXG4gICk7XG4gIHJldHVybiBlLnJlbW90ZVBhcnRpY2lwYW50cy5zaXplID4gMCAmJiAociA9PSBudWxsIHx8IHIubmV4dChBcnJheS5mcm9tKGUucmVtb3RlUGFydGljaXBhbnRzLnZhbHVlcygpKSkpLCBpO1xufVxuZnVuY3Rpb24gdHMoZSwgdCwgbiA9IHt9KSB7XG4gIHZhciByO1xuICBjb25zdCBpID0gKHIgPSBuLmFkZGl0aW9uYWxFdmVudHMpICE9IG51bGwgPyByIDogRW47XG4gIHJldHVybiBzZShcbiAgICBlLFxuICAgIGIuUGFydGljaXBhbnRDb25uZWN0ZWQsXG4gICAgYi5QYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCxcbiAgICBiLkNvbm5lY3Rpb25TdGF0ZUNoYW5nZWRcbiAgKS5waXBlKFxuICAgIHduKChzKSA9PiB7XG4gICAgICBjb25zdCBhID0gcy5nZXRQYXJ0aWNpcGFudEJ5SWRlbnRpdHkodCk7XG4gICAgICByZXR1cm4gYSA/IG1lKGEsIC4uLmkpIDogbmV3IE8oKGMpID0+IGMubmV4dCh2b2lkIDApKTtcbiAgICB9KSxcbiAgICBSKGUuZ2V0UGFydGljaXBhbnRCeUlkZW50aXR5KHQpKVxuICApO1xufVxuZnVuY3Rpb24gbnMoZSkge1xuICByZXR1cm4gVmUoXG4gICAgZSxcbiAgICB5LlBhcnRpY2lwYW50UGVybWlzc2lvbnNDaGFuZ2VkXG4gICkucGlwZShcbiAgICBrKCgpID0+IGUucGVybWlzc2lvbnMpLFxuICAgIFIoZS5wZXJtaXNzaW9ucylcbiAgKTtcbn1cbmZ1bmN0aW9uIHJzKGUsIHsga2luZDogdCwgaWRlbnRpdHk6IG4gfSwgciA9IHt9KSB7XG4gIHZhciBpO1xuICBjb25zdCBvID0gKGkgPSByLmFkZGl0aW9uYWxFdmVudHMpICE9IG51bGwgPyBpIDogRW4sIHMgPSAoYykgPT4ge1xuICAgIGxldCB1ID0gITA7XG4gICAgcmV0dXJuIHQgJiYgKHUgPSB1ICYmIGMua2luZCA9PT0gdCksIG4gJiYgKHUgPSB1ICYmIGMuaWRlbnRpdHkgPT09IG4pLCB1O1xuICB9O1xuICByZXR1cm4gc2UoXG4gICAgZSxcbiAgICBiLlBhcnRpY2lwYW50Q29ubmVjdGVkLFxuICAgIGIuUGFydGljaXBhbnREaXNjb25uZWN0ZWQsXG4gICAgYi5Db25uZWN0aW9uU3RhdGVDaGFuZ2VkXG4gICkucGlwZShcbiAgICB3bigoYykgPT4ge1xuICAgICAgY29uc3QgdSA9IEFycmF5LmZyb20oYy5yZW1vdGVQYXJ0aWNpcGFudHMudmFsdWVzKCkpLmZpbmQoXG4gICAgICAgIChsKSA9PiBzKGwpXG4gICAgICApO1xuICAgICAgcmV0dXJuIHUgPyBtZSh1LCAuLi5vKSA6IG5ldyBPKChsKSA9PiBsLm5leHQodm9pZCAwKSk7XG4gICAgfSksXG4gICAgUihBcnJheS5mcm9tKGUucmVtb3RlUGFydGljaXBhbnRzLnZhbHVlcygpKS5maW5kKChjKSA9PiBzKGMpKSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGlzKGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBlID4gXCJ1XCIgPyBuZXcgTygpIDogVmUoZSwgeS5BdHRyaWJ1dGVzQ2hhbmdlZCkucGlwZShcbiAgICBrKChbdF0pID0+ICh7XG4gICAgICBjaGFuZ2VkOiB0LFxuICAgICAgYXR0cmlidXRlczogZS5hdHRyaWJ1dGVzXG4gICAgfSkpLFxuICAgIFIoeyBjaGFuZ2VkOiBlLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXM6IGUuYXR0cmlidXRlcyB9KVxuICApO1xufVxuZnVuY3Rpb24gb3MoZSwgdCwgbiwgciwgaSkge1xuICBjb25zdCB7IGxvY2FsUGFydGljaXBhbnQ6IG8gfSA9IHQsIHMgPSAoZiwgaCkgPT4ge1xuICAgIGxldCBkID0gITE7XG4gICAgc3dpdGNoIChmKSB7XG4gICAgICBjYXNlIE0uU291cmNlLkNhbWVyYTpcbiAgICAgICAgZCA9IGguaXNDYW1lcmFFbmFibGVkO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTS5Tb3VyY2UuTWljcm9waG9uZTpcbiAgICAgICAgZCA9IGguaXNNaWNyb3Bob25lRW5hYmxlZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE0uU291cmNlLlNjcmVlblNoYXJlOlxuICAgICAgICBkID0gaC5pc1NjcmVlblNoYXJlRW5hYmxlZDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBkO1xuICB9LCBhID0gT24obykucGlwZShcbiAgICBrKChmKSA9PiBzKGUsIGYucGFydGljaXBhbnQpKSxcbiAgICBSKHMoZSwgbykpXG4gICksIGMgPSBuZXcgcmUoKSwgdSA9IChmLCBoKSA9PiBXKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHN3aXRjaCAoaCA/PyAoaCA9IG4pLCBjLm5leHQoITApLCBlKSB7XG4gICAgICAgIGNhc2UgTS5Tb3VyY2UuQ2FtZXJhOlxuICAgICAgICAgIHJldHVybiB5aWVsZCBvLnNldENhbWVyYUVuYWJsZWQoXG4gICAgICAgICAgICBmID8/ICFvLmlzQ2FtZXJhRW5hYmxlZCxcbiAgICAgICAgICAgIGgsXG4gICAgICAgICAgICByXG4gICAgICAgICAgKSwgby5pc0NhbWVyYUVuYWJsZWQ7XG4gICAgICAgIGNhc2UgTS5Tb3VyY2UuTWljcm9waG9uZTpcbiAgICAgICAgICByZXR1cm4geWllbGQgby5zZXRNaWNyb3Bob25lRW5hYmxlZChcbiAgICAgICAgICAgIGYgPz8gIW8uaXNNaWNyb3Bob25lRW5hYmxlZCxcbiAgICAgICAgICAgIGgsXG4gICAgICAgICAgICByXG4gICAgICAgICAgKSwgby5pc01pY3JvcGhvbmVFbmFibGVkO1xuICAgICAgICBjYXNlIE0uU291cmNlLlNjcmVlblNoYXJlOlxuICAgICAgICAgIHJldHVybiB5aWVsZCBvLnNldFNjcmVlblNoYXJlRW5hYmxlZChcbiAgICAgICAgICAgIGYgPz8gIW8uaXNTY3JlZW5TaGFyZUVuYWJsZWQsXG4gICAgICAgICAgICBoLFxuICAgICAgICAgICAgclxuICAgICAgICAgICksIG8uaXNTY3JlZW5TaGFyZUVuYWJsZWQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRyaWVkIHRvIHRvZ2dsZSB1bnN1cHBvcnRlZCBzb3VyY2VcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZCkge1xuICAgICAgaWYgKGkgJiYgZCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGkgPT0gbnVsbCB8fCBpKGQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2VcbiAgICAgICAgdGhyb3cgZDtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYy5uZXh0KCExKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGNsYXNzTmFtZTogJChcImJ1dHRvblwiKSxcbiAgICB0b2dnbGU6IHUsXG4gICAgZW5hYmxlZE9ic2VydmVyOiBhLFxuICAgIHBlbmRpbmdPYnNlcnZlcjogYy5hc09ic2VydmFibGUoKVxuICB9O1xufVxuZnVuY3Rpb24gc3MoKSB7XG4gIGxldCBlID0gITE7XG4gIGNvbnN0IHQgPSBuZXcgcmUoKSwgbiA9IG5ldyByZSgpLCByID0gKG8pID0+IFcodGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICBuLm5leHQoITApLCBlID0gbyA/PyAhZSwgdC5uZXh0KGUpLCBuLm5leHQoITEpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBjbGFzc05hbWU6ICQoXCJidXR0b25cIiksXG4gICAgdG9nZ2xlOiByLFxuICAgIGVuYWJsZWRPYnNlcnZlcjogdC5hc09ic2VydmFibGUoKSxcbiAgICBwZW5kaW5nT2JzZXJ2ZXI6IG4uYXNPYnNlcnZhYmxlKClcbiAgfTtcbn1cbmZ1bmN0aW9uIGFzKGUsIHQsIG4pIHtcbiAgY29uc3QgciA9IG5ldyBvbih2b2lkIDApLCBpID0gdCA/IGlvKHQsIGUpIDogci5hc09ic2VydmFibGUoKSwgbyA9IChhLCAuLi5jKSA9PiBXKHRoaXMsIFthLCAuLi5jXSwgZnVuY3Rpb24qICh1LCBsID0ge30pIHtcbiAgICB2YXIgZiwgaCwgZDtcbiAgICBpZiAodCkge1xuICAgICAgXy5kZWJ1ZyhgU3dpdGNoaW5nIGFjdGl2ZSBkZXZpY2Ugb2Yga2luZCBcIiR7ZX1cIiB3aXRoIGlkICR7dX0uYCksIHlpZWxkIHQuc3dpdGNoQWN0aXZlRGV2aWNlKGUsIHUsIGwuZXhhY3QpO1xuICAgICAgY29uc3QgbSA9IChmID0gdC5nZXRBY3RpdmVEZXZpY2UoZSkpICE9IG51bGwgPyBmIDogdTtcbiAgICAgIG0gIT09IHUgJiYgdSAhPT0gXCJkZWZhdWx0XCIgJiYgXy5pbmZvKFxuICAgICAgICBgV2UgdHJpZWQgdG8gc2VsZWN0IHRoZSBkZXZpY2Ugd2l0aCBpZCAoJHt1fSksIGJ1dCB0aGUgYnJvd3NlciBkZWNpZGVkIHRvIHNlbGVjdCB0aGUgZGV2aWNlIHdpdGggaWQgKCR7bX0pIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICAgIGxldCBwO1xuICAgICAgZSA9PT0gXCJhdWRpb2lucHV0XCIgPyBwID0gKGggPSB0LmxvY2FsUGFydGljaXBhbnQuZ2V0VHJhY2tQdWJsaWNhdGlvbihNLlNvdXJjZS5NaWNyb3Bob25lKSkgPT0gbnVsbCA/IHZvaWQgMCA6IGgudHJhY2sgOiBlID09PSBcInZpZGVvaW5wdXRcIiAmJiAocCA9IChkID0gdC5sb2NhbFBhcnRpY2lwYW50LmdldFRyYWNrUHVibGljYXRpb24oTS5Tb3VyY2UuQ2FtZXJhKSkgPT0gbnVsbCA/IHZvaWQgMCA6IGQudHJhY2spO1xuICAgICAgY29uc3QgZyA9IHUgPT09IFwiZGVmYXVsdFwiICYmICFwIHx8IHUgPT09IFwiZGVmYXVsdFwiICYmIChwID09IG51bGwgPyB2b2lkIDAgOiBwLm1lZGlhU3RyZWFtVHJhY2subGFiZWwuc3RhcnRzV2l0aChcIkRlZmF1bHRcIikpO1xuICAgICAgci5uZXh0KGcgPyB1IDogbSk7XG4gICAgfSBlbHNlIGlmIChuKSB7XG4gICAgICB5aWVsZCBuLnNldERldmljZUlkKGwuZXhhY3QgPyB7IGV4YWN0OiB1IH0gOiB1KTtcbiAgICAgIGNvbnN0IG0gPSB5aWVsZCBuLmdldERldmljZUlkKCk7XG4gICAgICByLm5leHQoXG4gICAgICAgIHUgPT09IFwiZGVmYXVsdFwiICYmIG4ubWVkaWFTdHJlYW1UcmFjay5sYWJlbC5zdGFydHNXaXRoKFwiRGVmYXVsdFwiKSA/IHUgOiBtXG4gICAgICApO1xuICAgIH0gZWxzZSByLnZhbHVlICE9PSB1ICYmIChfLndhcm4oXG4gICAgICBcImRldmljZSBzd2l0Y2ggc2tpcHBlZCwgcGxlYXNlIHByb3ZpZGUgZWl0aGVyIGEgcm9vbSBvciBhIGxvY2FsIHRyYWNrIHRvIHN3aXRjaCBvbi4gXCJcbiAgICApLCByLm5leHQodSkpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBjbGFzc05hbWU6ICQoXCJtZWRpYS1kZXZpY2Utc2VsZWN0XCIpLFxuICAgIGFjdGl2ZURldmljZU9ic2VydmFibGU6IGksXG4gICAgc2V0QWN0aXZlTWVkaWFEZXZpY2U6IG9cbiAgfTtcbn1cbmZ1bmN0aW9uIGNzKGUpIHtcbiAgY29uc3QgdCA9IChyKSA9PiB7XG4gICAgZS5kaXNjb25uZWN0KHIpO1xuICB9O1xuICByZXR1cm4geyBjbGFzc05hbWU6ICQoXCJkaXNjb25uZWN0LWJ1dHRvblwiKSwgZGlzY29ubmVjdDogdCB9O1xufVxuZnVuY3Rpb24gdXMoZSkge1xuICBjb25zdCB0ID0gJChcImNvbm5lY3Rpb24tcXVhbGl0eVwiKSwgbiA9IHNvKGUpO1xuICByZXR1cm4geyBjbGFzc05hbWU6IHQsIGNvbm5lY3Rpb25RdWFsaXR5T2JzZXJ2ZXI6IG4gfTtcbn1cbmZ1bmN0aW9uIGxzKGUpIHtcbiAgbGV0IHQgPSBcInRyYWNrLW11dGVkLWluZGljYXRvci1jYW1lcmFcIjtcbiAgc3dpdGNoIChlLnNvdXJjZSkge1xuICAgIGNhc2UgTS5Tb3VyY2UuQ2FtZXJhOlxuICAgICAgdCA9IFwidHJhY2stbXV0ZWQtaW5kaWNhdG9yLWNhbWVyYVwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBNLlNvdXJjZS5NaWNyb3Bob25lOlxuICAgICAgdCA9IFwidHJhY2stbXV0ZWQtaW5kaWNhdG9yLW1pY3JvcGhvbmVcIjtcbiAgICAgIGJyZWFrO1xuICB9XG4gIGNvbnN0IG4gPSAkKHQpLCByID0gYW8oZSk7XG4gIHJldHVybiB7IGNsYXNzTmFtZTogbiwgbWVkaWFNdXRlZE9ic2VydmVyOiByIH07XG59XG5mdW5jdGlvbiBmcyhlKSB7XG4gIHJldHVybiB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1uYW1lXCIsIGluZm9PYnNlcnZlcjogb28oZSkgfTtcbn1cbmZ1bmN0aW9uIGRzKCkge1xuICByZXR1cm4ge1xuICAgIGNsYXNzTmFtZTogJChcInBhcnRpY2lwYW50LXRpbGVcIilcbiAgfTtcbn1cbnZhciBOdCA9IHtcbiAgQ0hBVDogXCJsay1jaGF0LXRvcGljXCIsXG4gIENIQVRfVVBEQVRFOiBcImxrLWNoYXQtdXBkYXRlLXRvcGljXCJcbn07XG5mdW5jdGlvbiBpdChlLCB0KSB7XG4gIHJldHVybiBXKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qIChuLCByLCBpID0ge30pIHtcbiAgICBjb25zdCB7IHJlbGlhYmxlOiBvLCBkZXN0aW5hdGlvbklkZW50aXRpZXM6IHMsIHRvcGljOiBhIH0gPSBpO1xuICAgIHlpZWxkIG4ucHVibGlzaERhdGEociwge1xuICAgICAgZGVzdGluYXRpb25JZGVudGl0aWVzOiBzLFxuICAgICAgdG9waWM6IGEsXG4gICAgICByZWxpYWJsZTogb1xuICAgIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGNvKGUsIHQsIG4pIHtcbiAgY29uc3QgciA9IEFycmF5LmlzQXJyYXkodCkgPyB0IDogW3RdLCBpID0gZW8oZSkucGlwZShcbiAgICB2dChcbiAgICAgIChbLCAsICwgY10pID0+IHQgPT09IHZvaWQgMCB8fCBjICE9PSB2b2lkIDAgJiYgci5pbmNsdWRlcyhjKVxuICAgICksXG4gICAgaygoW2MsIHUsICwgbF0pID0+IHtcbiAgICAgIGNvbnN0IGYgPSB7XG4gICAgICAgIHBheWxvYWQ6IGMsXG4gICAgICAgIHRvcGljOiBsLFxuICAgICAgICBmcm9tOiB1XG4gICAgICB9O1xuICAgICAgcmV0dXJuIG4gPT0gbnVsbCB8fCBuKGYpLCBmO1xuICAgIH0pXG4gICk7XG4gIGxldCBvO1xuICBjb25zdCBzID0gbmV3IE8oKGMpID0+IHtcbiAgICBvID0gYztcbiAgfSk7XG4gIHJldHVybiB7IG1lc3NhZ2VPYnNlcnZhYmxlOiBpLCBpc1NlbmRpbmdPYnNlcnZhYmxlOiBzLCBzZW5kOiAoYywgLi4udSkgPT4gVyh0aGlzLCBbYywgLi4udV0sIGZ1bmN0aW9uKiAobCwgZiA9IHt9KSB7XG4gICAgby5uZXh0KCEwKTtcbiAgICB0cnkge1xuICAgICAgeWllbGQgaXQoZS5sb2NhbFBhcnRpY2lwYW50LCBsLCBRKHsgdG9waWM6IHJbMF0gfSwgZikpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBvLm5leHQoITEpO1xuICAgIH1cbiAgfSkgfTtcbn1cbmZ1bmN0aW9uIHVvKGUpIHtcbiAgcmV0dXJuIHsgY2hhdE9ic2VydmFibGU6IHRvKGUpLCBzZW5kOiAoaSkgPT4gVyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIHJldHVybiB5aWVsZCBlLmxvY2FsUGFydGljaXBhbnQuc2VuZENoYXRNZXNzYWdlKGkpO1xuICB9KSwgZWRpdDogKGksIG8pID0+IFcodGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICByZXR1cm4geWllbGQgZS5sb2NhbFBhcnRpY2lwYW50LmVkaXRDaGF0TWVzc2FnZShpLCBvKTtcbiAgfSkgfTtcbn1cbnZhciBsbyA9IG5ldyBUZXh0RW5jb2RlcigpLCBmbyA9IG5ldyBUZXh0RGVjb2RlcigpLCBQZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHBvID0gKGUpID0+IGxvLmVuY29kZShKU09OLnN0cmluZ2lmeShlKSksIGhvID0gKGUpID0+IEpTT04ucGFyc2UoZm8uZGVjb2RlKGUpKTtcbmZ1bmN0aW9uIHBzKGUsIHQpIHtcbiAgdmFyIG4sIHI7XG4gIGNvbnN0IGkgPSBuZXcgcmUoKSwgbyA9ICgpID0+IHtcbiAgICB2YXIgVCwgeCwgSTtcbiAgICByZXR1cm4gKChUID0gZS5zZXJ2ZXJJbmZvKSA9PSBudWxsID8gdm9pZCAwIDogVC5lZGl0aW9uKSA9PT0gMSB8fCAhISgoeCA9IGUuc2VydmVySW5mbykgIT0gbnVsbCAmJiB4LnZlcnNpb24pICYmIFduKChJID0gZS5zZXJ2ZXJJbmZvKSA9PSBudWxsID8gdm9pZCAwIDogSS52ZXJzaW9uLCBcIjEuMTcuMlwiKSA+IDA7XG4gIH0sIHsgbWVzc2FnZURlY29kZXI6IHMsIG1lc3NhZ2VFbmNvZGVyOiBhLCBjaGFubmVsVG9waWM6IGMsIHVwZGF0ZUNoYW5uZWxUb3BpYzogdSB9ID0gdCA/PyB7fSwgbCA9IGMgPz8gTnQuQ0hBVCwgZiA9IHUgPz8gTnQuQ0hBVF9VUERBVEU7XG4gIGxldCBoID0gITE7XG4gIFBlLmhhcyhlKSB8fCAoaCA9ICEwKTtcbiAgY29uc3QgZCA9IChuID0gUGUuZ2V0KGUpKSAhPSBudWxsID8gbiA6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIG0gPSAociA9IGQuZ2V0KGwpKSAhPSBudWxsID8gciA6IG5ldyByZSgpO1xuICBpZiAoZC5zZXQobCwgbSksIFBlLnNldChlLCBkKSwgaCkge1xuICAgIGNvbnN0IHsgbWVzc2FnZU9ic2VydmFibGU6IFQgfSA9IGNvKGUsIFtsLCBmXSk7XG4gICAgVC5waXBlKEx0KGkpKS5zdWJzY3JpYmUobSk7XG4gIH1cbiAgY29uc3QgeyBjaGF0T2JzZXJ2YWJsZTogcCwgc2VuZDogZyB9ID0gdW8oZSksIHYgPSBzID8/IGhvLCBFID0gd2koXG4gICAgbS5waXBlKFxuICAgICAgaygoVCkgPT4ge1xuICAgICAgICBjb25zdCB4ID0gdihULnBheWxvYWQpLCBJID0geWUoUSh7fSwgeCksIHsgZnJvbTogVC5mcm9tIH0pO1xuICAgICAgICBpZiAoIXZvKEkpKVxuICAgICAgICAgIHJldHVybiBJO1xuICAgICAgfSlcbiAgICApLFxuICAgIHAucGlwZShcbiAgICAgIGsoKFtULCB4XSkgPT4geWUoUSh7fSwgVCksIHsgZnJvbTogeCB9KSlcbiAgICApXG4gICkucGlwZShcbiAgICBDaSgoVCwgeCkgPT4ge1xuICAgICAgdmFyIEk7XG4gICAgICBpZiAoIXgpXG4gICAgICAgIHJldHVybiBUO1xuICAgICAgaWYgKFwiaWRcIiBpbiB4ICYmIFQuZmluZCgodykgPT4ge1xuICAgICAgICB2YXIgUywgVjtcbiAgICAgICAgcmV0dXJuICgoUyA9IHcuZnJvbSkgPT0gbnVsbCA/IHZvaWQgMCA6IFMuaWRlbnRpdHkpID09PSAoKFYgPSB4LmZyb20pID09IG51bGwgPyB2b2lkIDAgOiBWLmlkZW50aXR5KSAmJiB3LmlkID09PSB4LmlkO1xuICAgICAgfSkpIHtcbiAgICAgICAgY29uc3QgdyA9IFQuZmluZEluZGV4KChTKSA9PiBTLmlkID09PSB4LmlkKTtcbiAgICAgICAgaWYgKHcgPiAtMSkge1xuICAgICAgICAgIGNvbnN0IFMgPSBUW3ddO1xuICAgICAgICAgIFRbd10gPSB5ZShRKHt9LCB4KSwge1xuICAgICAgICAgICAgdGltZXN0YW1wOiBTLnRpbWVzdGFtcCxcbiAgICAgICAgICAgIGVkaXRUaW1lc3RhbXA6IChJID0geC5lZGl0VGltZXN0YW1wKSAhPSBudWxsID8gSSA6IHgudGltZXN0YW1wXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFsuLi5UXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbLi4uVCwgeF07XG4gICAgfSwgW10pLFxuICAgIEx0KGkpXG4gICksIFAgPSBuZXcgb24oITEpLCBMID0gYSA/PyBwbywgQyA9IChUKSA9PiBXKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgUC5uZXh0KCEwKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeCA9IHlpZWxkIGcoVCksIEkgPSBMKHllKFEoe30sIHgpLCB7XG4gICAgICAgIGlnbm9yZTogbygpXG4gICAgICB9KSk7XG4gICAgICByZXR1cm4geWllbGQgaXQoZS5sb2NhbFBhcnRpY2lwYW50LCBJLCB7XG4gICAgICAgIHJlbGlhYmxlOiAhMCxcbiAgICAgICAgdG9waWM6IGxcbiAgICAgIH0pLCB4O1xuICAgIH0gZmluYWxseSB7XG4gICAgICBQLm5leHQoITEpO1xuICAgIH1cbiAgfSksIGllID0gKFQsIHgpID0+IFcodGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBJID0gRGF0ZS5ub3coKSwgdyA9IHR5cGVvZiB4ID09IFwic3RyaW5nXCIgPyB7IGlkOiB4LCBtZXNzYWdlOiBcIlwiLCB0aW1lc3RhbXA6IEkgfSA6IHg7XG4gICAgUC5uZXh0KCEwKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgUyA9IHlpZWxkIGUubG9jYWxQYXJ0aWNpcGFudC5lZGl0Q2hhdE1lc3NhZ2UoVCwgdyksIFYgPSBMKFMpO1xuICAgICAgcmV0dXJuIHlpZWxkIGl0KGUubG9jYWxQYXJ0aWNpcGFudCwgViwge1xuICAgICAgICB0b3BpYzogZixcbiAgICAgICAgcmVsaWFibGU6ICEwXG4gICAgICB9KSwgUztcbiAgICB9IGZpbmFsbHkge1xuICAgICAgUC5uZXh0KCExKTtcbiAgICB9XG4gIH0pO1xuICBmdW5jdGlvbiBLKCkge1xuICAgIGkubmV4dCgpLCBpLmNvbXBsZXRlKCksIFBlLmRlbGV0ZShlKTtcbiAgfVxuICByZXR1cm4gZS5vbmNlKGIuRGlzY29ubmVjdGVkLCBLKSwge1xuICAgIG1lc3NhZ2VPYnNlcnZhYmxlOiBFLFxuICAgIGlzU2VuZGluZ09ic2VydmFibGU6IFAsXG4gICAgc2VuZDogQyxcbiAgICB1cGRhdGU6IGllXG4gIH07XG59XG5mdW5jdGlvbiB2byhlKSB7XG4gIHJldHVybiBlLmlnbm9yZSA9PSAhMDtcbn1cbmZ1bmN0aW9uIGhzKCkge1xuICBjb25zdCBlID0gKG4pID0+IFcodGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICBfLmluZm8oXCJTdGFydCBBdWRpbyBmb3Igcm9vbTogXCIsIG4pLCB5aWVsZCBuLnN0YXJ0QXVkaW8oKTtcbiAgfSk7XG4gIHJldHVybiB7IGNsYXNzTmFtZTogJChcInN0YXJ0LWF1ZGlvLWJ1dHRvblwiKSwgcm9vbUF1ZGlvUGxheWJhY2tBbGxvd2VkT2JzZXJ2YWJsZTogbm8sIGhhbmRsZVN0YXJ0QXVkaW9QbGF5YmFjazogZSB9O1xufVxuZnVuY3Rpb24gdnMoKSB7XG4gIGNvbnN0IGUgPSAobikgPT4gVyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIF8uaW5mbyhcIlN0YXJ0IFZpZGVvIGZvciByb29tOiBcIiwgbiksIHlpZWxkIG4uc3RhcnRWaWRlbygpO1xuICB9KTtcbiAgcmV0dXJuIHsgY2xhc3NOYW1lOiAkKFwic3RhcnQtYXVkaW8tYnV0dG9uXCIpLCByb29tVmlkZW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlOiBybywgaGFuZGxlU3RhcnRWaWRlb1BsYXliYWNrOiBlIH07XG59XG5mdW5jdGlvbiBtcygpIHtcbiAgcmV0dXJuIHsgY2xhc3NOYW1lOiBbJChcImJ1dHRvblwiKSwgJChcImNoYXQtdG9nZ2xlXCIpXS5qb2luKFwiIFwiKSB9O1xufVxuZnVuY3Rpb24gZ3MoKSB7XG4gIHJldHVybiB7IGNsYXNzTmFtZTogWyQoXCJidXR0b25cIiksICQoXCJmb2N1cy10b2dnbGUtYnV0dG9uXCIpXS5qb2luKFwiIFwiKSB9O1xufVxuZnVuY3Rpb24gYnMoKSB7XG4gIHJldHVybiB7IGNsYXNzTmFtZTogXCJsay1jbGVhci1waW4tYnV0dG9uIGxrLWJ1dHRvblwiIH07XG59XG5mdW5jdGlvbiB5cygpIHtcbiAgcmV0dXJuIHsgY2xhc3NOYW1lOiBcImxrLXJvb20tY29udGFpbmVyXCIgfTtcbn1cbmZ1bmN0aW9uICR0KGUsIHQsIG4gPSAhMCkge1xuICBjb25zdCBpID0gW2UubG9jYWxQYXJ0aWNpcGFudCwgLi4uQXJyYXkuZnJvbShlLnJlbW90ZVBhcnRpY2lwYW50cy52YWx1ZXMoKSldLCBvID0gW107XG4gIHJldHVybiBpLmZvckVhY2goKHMpID0+IHtcbiAgICB0LmZvckVhY2goKGEpID0+IHtcbiAgICAgIGNvbnN0IGMgPSBBcnJheS5mcm9tKFxuICAgICAgICBzLnRyYWNrUHVibGljYXRpb25zLnZhbHVlcygpXG4gICAgICApLmZpbHRlcihcbiAgICAgICAgKHUpID0+IHUuc291cmNlID09PSBhICYmIC8vIGVpdGhlciByZXR1cm4gYWxsIG9yIG9ubHkgdGhlIG9uZXMgdGhhdCBhcmUgc3Vic2NyaWJlZFxuICAgICAgICAoIW4gfHwgdS50cmFjaylcbiAgICAgICkubWFwKCh1KSA9PiAoe1xuICAgICAgICBwYXJ0aWNpcGFudDogcyxcbiAgICAgICAgcHVibGljYXRpb246IHUsXG4gICAgICAgIHNvdXJjZTogdS5zb3VyY2VcbiAgICAgIH0pKTtcbiAgICAgIG8ucHVzaCguLi5jKTtcbiAgICB9KTtcbiAgfSksIHsgdHJhY2tSZWZlcmVuY2VzOiBvLCBwYXJ0aWNpcGFudHM6IGkgfTtcbn1cbmZ1bmN0aW9uIFV0KGUsIHQsIG4gPSAhMSkge1xuICBjb25zdCB7IHNvdXJjZXM6IHIsIGtpbmQ6IGksIG5hbWU6IG8gfSA9IHQ7XG4gIHJldHVybiBBcnJheS5mcm9tKGUudHJhY2tQdWJsaWNhdGlvbnMudmFsdWVzKCkpLmZpbHRlcihcbiAgICAoYSkgPT4gKCFyIHx8IHIuaW5jbHVkZXMoYS5zb3VyY2UpKSAmJiAoIWkgfHwgYS5raW5kID09PSBpKSAmJiAoIW8gfHwgYS50cmFja05hbWUgPT09IG8pICYmIC8vIGVpdGhlciByZXR1cm4gYWxsIG9yIG9ubHkgdGhlIG9uZXMgdGhhdCBhcmUgc3Vic2NyaWJlZFxuICAgICghbiB8fCBhLnRyYWNrKVxuICApLm1hcCgoYSkgPT4gKHtcbiAgICBwYXJ0aWNpcGFudDogZSxcbiAgICBwdWJsaWNhdGlvbjogYSxcbiAgICBzb3VyY2U6IGEuc291cmNlXG4gIH0pKTtcbn1cbmZ1bmN0aW9uIHdzKGUsIHQsIG4pIHtcbiAgdmFyIHIsIGk7XG4gIGNvbnN0IG8gPSAociA9IG4uYWRkaXRpb25hbFJvb21FdmVudHMpICE9IG51bGwgPyByIDogeG4sIHMgPSAoaSA9IG4ub25seVN1YnNjcmliZWQpICE9IG51bGwgPyBpIDogITAsIGEgPSBBcnJheS5mcm9tKFxuICAgICgvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gICAgICBiLlBhcnRpY2lwYW50Q29ubmVjdGVkLFxuICAgICAgYi5QYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCxcbiAgICAgIGIuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZCxcbiAgICAgIGIuTG9jYWxUcmFja1B1Ymxpc2hlZCxcbiAgICAgIGIuTG9jYWxUcmFja1VucHVibGlzaGVkLFxuICAgICAgYi5UcmFja1B1Ymxpc2hlZCxcbiAgICAgIGIuVHJhY2tVbnB1Ymxpc2hlZCxcbiAgICAgIGIuVHJhY2tTdWJzY3JpcHRpb25TdGF0dXNDaGFuZ2VkLFxuICAgICAgLi4ub1xuICAgIF0pKS52YWx1ZXMoKVxuICApO1xuICByZXR1cm4gc2UoZSwgLi4uYSkucGlwZShcbiAgICBrKCh1KSA9PiB7XG4gICAgICBjb25zdCBsID0gJHQodSwgdCwgcyk7XG4gICAgICByZXR1cm4gXy5kZWJ1ZyhgVHJhY2tSZWZlcmVuY2VbXSB3YXMgdXBkYXRlZC4gKGxlbmd0aCAke2wudHJhY2tSZWZlcmVuY2VzLmxlbmd0aH0pYCwgbCksIGw7XG4gICAgfSksXG4gICAgUigkdChlLCB0LCBzKSlcbiAgKTtcbn1cbmZ1bmN0aW9uIFNzKGUsIHQpIHtcbiAgcmV0dXJuIG1lKGUsIC4uLlVpKS5waXBlKFxuICAgIGsoKHIpID0+IHtcbiAgICAgIGNvbnN0IGkgPSBVdChyLCB0KTtcbiAgICAgIHJldHVybiBfLmRlYnVnKGBUcmFja1JlZmVyZW5jZVtdIHdhcyB1cGRhdGVkLiAobGVuZ3RoICR7aS5sZW5ndGh9KWAsIGkpLCBpO1xuICAgIH0pLFxuICAgIFIoVXQoZSwgdCkpXG4gICk7XG59XG5mdW5jdGlvbiBMbihlLCB0KSB7XG4gIHJldHVybiBuZXcgTygocikgPT4ge1xuICAgIGNvbnN0IGkgPSAoLi4ucykgPT4ge1xuICAgICAgci5uZXh0KHMpO1xuICAgIH07XG4gICAgcmV0dXJuIGUub24odCwgaSksICgpID0+IHtcbiAgICAgIGUub2ZmKHQsIGkpO1xuICAgIH07XG4gIH0pO1xufVxuZnVuY3Rpb24geHMoZSkge1xuICByZXR1cm4gTG4oZSwgRnQuVHJhbnNjcmlwdGlvblJlY2VpdmVkKTtcbn1cbmZ1bmN0aW9uIEVzKGUpIHtcbiAgcmV0dXJuIExuKGUsIEZ0LlRpbWVTeW5jVXBkYXRlKS5waXBlKFxuICAgIGsoKFt0XSkgPT4gdClcbiAgKTtcbn1cbmZ1bmN0aW9uIFRzKGUsIHQgPSAxZTMpIHtcbiAgaWYgKGUgPT09IG51bGwpIHJldHVybiBrdCghMSk7XG4gIGNvbnN0IG4gPSB0dChlLCBcIm1vdXNlbW92ZVwiLCB7IHBhc3NpdmU6ICEwIH0pLnBpcGUoaygoKSA9PiAhMCkpLCByID0gbi5waXBlKFxuICAgIGFpKHtcbiAgICAgIGVhY2g6IHQsXG4gICAgICB3aXRoOiAoKSA9PiBEZShrdCghMSksIHIucGlwZShQaShuKSkpXG4gICAgfSksXG4gICAgeGkoKVxuICApO1xuICByZXR1cm4gcjtcbn1cbmZ1bmN0aW9uIG1vKGUsIHQpIHtcbiAgaWYgKHR5cGVvZiBsb2NhbFN0b3JhZ2UgPiBcInVcIikge1xuICAgIF8uZXJyb3IoXCJMb2NhbCBzdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUuXCIpO1xuICAgIHJldHVybjtcbiAgfVxuICB0cnkge1xuICAgIGlmICh0KSB7XG4gICAgICBjb25zdCBuID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICBPYmplY3QuZW50cmllcyh0KS5maWx0ZXIoKFssIHJdKSA9PiByICE9PSBcIlwiKVxuICAgICAgKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsIEpTT04uc3RyaW5naWZ5KG4pKTtcbiAgICB9XG4gIH0gY2F0Y2ggKG4pIHtcbiAgICBfLmVycm9yKGBFcnJvciBzZXR0aW5nIGl0ZW0gdG8gbG9jYWwgc3RvcmFnZTogJHtufWApO1xuICB9XG59XG5mdW5jdGlvbiBnbyhlKSB7XG4gIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlID4gXCJ1XCIpIHtcbiAgICBfLmVycm9yKFwiTG9jYWwgc3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlLlwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCB0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZSk7XG4gICAgaWYgKCF0KSB7XG4gICAgICBfLndhcm4oYEl0ZW0gd2l0aCBrZXkgJHtlfSBkb2VzIG5vdCBleGlzdCBpbiBsb2NhbCBzdG9yYWdlLmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0KTtcbiAgfSBjYXRjaCAodCkge1xuICAgIF8uZXJyb3IoYEVycm9yIGdldHRpbmcgaXRlbSBmcm9tIGxvY2FsIHN0b3JhZ2U6ICR7dH1gKTtcbiAgICByZXR1cm47XG4gIH1cbn1cbmZ1bmN0aW9uIGJvKGUpIHtcbiAgcmV0dXJuIHtcbiAgICBsb2FkOiAoKSA9PiBnbyhlKSxcbiAgICBzYXZlOiAodCkgPT4gbW8oZSwgdClcbiAgfTtcbn1cbnZhciB5byA9IGAke1NufS11c2VyLWNob2ljZXNgLCBiZSA9IHtcbiAgdmlkZW9FbmFibGVkOiAhMCxcbiAgYXVkaW9FbmFibGVkOiAhMCxcbiAgdmlkZW9EZXZpY2VJZDogXCJcIixcbiAgYXVkaW9EZXZpY2VJZDogXCJcIixcbiAgdXNlcm5hbWU6IFwiXCJcbn0sIHsgbG9hZDogd28sIHNhdmU6IFNvIH0gPSBibyh5byk7XG5mdW5jdGlvbiBDcyhlLCB0ID0gITEpIHtcbiAgdCAhPT0gITAgJiYgU28oZSk7XG59XG5mdW5jdGlvbiBQcyhlLCB0ID0gITEpIHtcbiAgdmFyIG4sIHIsIGksIG8sIHM7XG4gIGNvbnN0IGEgPSB7XG4gICAgdmlkZW9FbmFibGVkOiAobiA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUudmlkZW9FbmFibGVkKSAhPSBudWxsID8gbiA6IGJlLnZpZGVvRW5hYmxlZCxcbiAgICBhdWRpb0VuYWJsZWQ6IChyID0gZSA9PSBudWxsID8gdm9pZCAwIDogZS5hdWRpb0VuYWJsZWQpICE9IG51bGwgPyByIDogYmUuYXVkaW9FbmFibGVkLFxuICAgIHZpZGVvRGV2aWNlSWQ6IChpID0gZSA9PSBudWxsID8gdm9pZCAwIDogZS52aWRlb0RldmljZUlkKSAhPSBudWxsID8gaSA6IGJlLnZpZGVvRGV2aWNlSWQsXG4gICAgYXVkaW9EZXZpY2VJZDogKG8gPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLmF1ZGlvRGV2aWNlSWQpICE9IG51bGwgPyBvIDogYmUuYXVkaW9EZXZpY2VJZCxcbiAgICB1c2VybmFtZTogKHMgPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnVzZXJuYW1lKSAhPSBudWxsID8gcyA6IGJlLnVzZXJuYW1lXG4gIH07XG4gIGlmICh0KVxuICAgIHJldHVybiBhO1xuICB7XG4gICAgY29uc3QgYyA9IHdvKCk7XG4gICAgcmV0dXJuIFEoUSh7fSwgYSksIGMgPz8ge30pO1xuICB9XG59XG5mdW5jdGlvbiBfbihlLCB0KSB7XG4gIGlmICh0Lm1zZyA9PT0gXCJzaG93X2NoYXRcIilcbiAgICByZXR1cm4geyAuLi5lLCBzaG93Q2hhdDogITAsIHVucmVhZE1lc3NhZ2VzOiAwIH07XG4gIGlmICh0Lm1zZyA9PT0gXCJoaWRlX2NoYXRcIilcbiAgICByZXR1cm4geyAuLi5lLCBzaG93Q2hhdDogITEgfTtcbiAgaWYgKHQubXNnID09PSBcInRvZ2dsZV9jaGF0XCIpIHtcbiAgICBjb25zdCBuID0geyAuLi5lLCBzaG93Q2hhdDogIWUuc2hvd0NoYXQgfTtcbiAgICByZXR1cm4gbi5zaG93Q2hhdCA9PT0gITAgJiYgKG4udW5yZWFkTWVzc2FnZXMgPSAwKSwgbjtcbiAgfSBlbHNlIHJldHVybiB0Lm1zZyA9PT0gXCJ1bnJlYWRfbXNnXCIgPyB7IC4uLmUsIHVucmVhZE1lc3NhZ2VzOiB0LmNvdW50IH0gOiB0Lm1zZyA9PT0gXCJ0b2dnbGVfc2V0dGluZ3NcIiA/IHsgLi4uZSwgc2hvd1NldHRpbmdzOiAhZS5zaG93U2V0dGluZ3MgfSA6IHsgLi4uZSB9O1xufVxuZnVuY3Rpb24gSW4oZSwgdCkge1xuICByZXR1cm4gdC5tc2cgPT09IFwic2V0X3BpblwiID8gW3QudHJhY2tSZWZlcmVuY2VdIDogdC5tc2cgPT09IFwiY2xlYXJfcGluXCIgPyBbXSA6IHsgLi4uZSB9O1xufVxuY29uc3QgRG4gPSBELmNyZWF0ZUNvbnRleHQodm9pZCAwKTtcbmZ1bmN0aW9uIEFzKCkge1xuICBjb25zdCBlID0gRC51c2VDb250ZXh0KERuKTtcbiAgaWYgKCFlKVxuICAgIHRocm93IEVycm9yKFwiVHJpZWQgdG8gYWNjZXNzIExheW91dENvbnRleHQgY29udGV4dCBvdXRzaWRlIGEgTGF5b3V0Q29udGV4dFByb3ZpZGVyIHByb3ZpZGVyLlwiKTtcbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBrcyhlKSB7XG4gIGNvbnN0IHQgPSB4bygpO1xuICBpZiAoZSA/PyAoZSA9IHQpLCAhZSlcbiAgICB0aHJvdyBFcnJvcihcIlRyaWVkIHRvIGFjY2VzcyBMYXlvdXRDb250ZXh0IGNvbnRleHQgb3V0c2lkZSBhIExheW91dENvbnRleHRQcm92aWRlciBwcm92aWRlci5cIik7XG4gIHJldHVybiBlO1xufVxuZnVuY3Rpb24gT3MoKSB7XG4gIGNvbnN0IFtlLCB0XSA9IEQudXNlUmVkdWNlcihJbiwgVG4pLCBbbiwgcl0gPSBELnVzZVJlZHVjZXIoX24sIENuKTtcbiAgcmV0dXJuIHtcbiAgICBwaW46IHsgZGlzcGF0Y2g6IHQsIHN0YXRlOiBlIH0sXG4gICAgd2lkZ2V0OiB7IGRpc3BhdGNoOiByLCBzdGF0ZTogbiB9XG4gIH07XG59XG5mdW5jdGlvbiBMcyhlKSB7XG4gIGNvbnN0IFt0LCBuXSA9IEQudXNlUmVkdWNlcihJbiwgVG4pLCBbciwgaV0gPSBELnVzZVJlZHVjZXIoX24sIENuKTtcbiAgcmV0dXJuIGUgPz8ge1xuICAgIHBpbjogeyBkaXNwYXRjaDogbiwgc3RhdGU6IHQgfSxcbiAgICB3aWRnZXQ6IHsgZGlzcGF0Y2g6IGksIHN0YXRlOiByIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHhvKCkge1xuICByZXR1cm4gRC51c2VDb250ZXh0KERuKTtcbn1cbmNvbnN0IE1uID0gRC5jcmVhdGVDb250ZXh0KFxuICB2b2lkIDBcbik7XG5mdW5jdGlvbiBfcygpIHtcbiAgY29uc3QgZSA9IEQudXNlQ29udGV4dChNbik7XG4gIGlmICghZSlcbiAgICB0aHJvdyBFcnJvcihcInRyaWVkIHRvIGFjY2VzcyB0cmFjayBjb250ZXh0IG91dHNpZGUgb2YgdHJhY2sgY29udGV4dCBwcm92aWRlclwiKTtcbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBSbigpIHtcbiAgcmV0dXJuIEQudXNlQ29udGV4dChNbik7XG59XG5mdW5jdGlvbiBJcyhlKSB7XG4gIGNvbnN0IHQgPSBSbigpLCBuID0gZSA/PyB0O1xuICBpZiAoIW4pXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJObyBUcmFja1JlZiwgbWFrZSBzdXJlIHlvdSBhcmUgaW5zaWRlIGEgVHJhY2tSZWZDb250ZXh0IG9yIHBhc3MgdGhlIFRyYWNrUmVmIGV4cGxpY2l0bHlcIlxuICAgICk7XG4gIHJldHVybiBuO1xufVxuY29uc3QgTm4gPSBELmNyZWF0ZUNvbnRleHQodm9pZCAwKTtcbmZ1bmN0aW9uIERzKCkge1xuICBjb25zdCBlID0gRC51c2VDb250ZXh0KE5uKTtcbiAgaWYgKCFlKVxuICAgIHRocm93IEVycm9yKFwidHJpZWQgdG8gYWNjZXNzIHBhcnRpY2lwYW50IGNvbnRleHQgb3V0c2lkZSBvZiBwYXJ0aWNpcGFudCBjb250ZXh0IHByb3ZpZGVyXCIpO1xuICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIEVvKCkge1xuICByZXR1cm4gRC51c2VDb250ZXh0KE5uKTtcbn1cbmZ1bmN0aW9uIE1zKGUpIHtcbiAgY29uc3QgdCA9IEVvKCksIG4gPSBSbigpLCByID0gZSA/PyB0ID8/IChuID09IG51bGwgPyB2b2lkIDAgOiBuLnBhcnRpY2lwYW50KTtcbiAgaWYgKCFyKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiTm8gcGFydGljaXBhbnQgcHJvdmlkZWQsIG1ha2Ugc3VyZSB5b3UgYXJlIGluc2lkZSBhIHBhcnRpY2lwYW50IGNvbnRleHQgb3IgcGFzcyB0aGUgcGFydGljaXBhbnQgZXhwbGljaXRseVwiXG4gICAgKTtcbiAgcmV0dXJuIHI7XG59XG5jb25zdCAkbiA9IEQuY3JlYXRlQ29udGV4dCh2b2lkIDApO1xuZnVuY3Rpb24gUnMoKSB7XG4gIGNvbnN0IGUgPSBELnVzZUNvbnRleHQoJG4pO1xuICBpZiAoIWUpXG4gICAgdGhyb3cgRXJyb3IoXCJ0cmllZCB0byBhY2Nlc3Mgcm9vbSBjb250ZXh0IG91dHNpZGUgb2YgbGl2ZWtpdCByb29tIGNvbXBvbmVudFwiKTtcbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBUbygpIHtcbiAgcmV0dXJuIEQudXNlQ29udGV4dCgkbik7XG59XG5mdW5jdGlvbiBOcyhlKSB7XG4gIGNvbnN0IHQgPSBUbygpLCBuID0gZSA/PyB0O1xuICBpZiAoIW4pXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJObyByb29tIHByb3ZpZGVkLCBtYWtlIHN1cmUgeW91IGFyZSBpbnNpZGUgYSBSb29tIGNvbnRleHQgb3IgcGFzcyB0aGUgcm9vbSBleHBsaWNpdGx5XCJcbiAgICApO1xuICByZXR1cm4gbjtcbn1cbmNvbnN0IENvID0gRC5jcmVhdGVDb250ZXh0KHZvaWQgMCk7XG5mdW5jdGlvbiAkcyhlKSB7XG4gIGNvbnN0IHQgPSBELnVzZUNvbnRleHQoQ28pO1xuICBpZiAoZSA9PT0gITApIHtcbiAgICBpZiAodClcbiAgICAgIHJldHVybiB0O1xuICAgIHRocm93IEVycm9yKFwidHJpZWQgdG8gYWNjZXNzIGZlYXR1cmUgY29udGV4dCwgYnV0IG5vbmUgaXMgcHJlc2VudFwiKTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmV4cG9ydCB7XG4gIENzIGFzICQsXG4gIHpvIGFzIEEsXG4gIEVvIGFzIEIsXG4gIG9vIGFzIEMsXG4gIGRzIGFzIEQsXG4gIGVzIGFzIEUsXG4gIGtzIGFzIEYsXG4gIFVvIGFzIEcsXG4gIHRzIGFzIEgsXG4gIHJzIGFzIEksXG4gIEtvIGFzIEosXG4gIFFvIGFzIEssXG4gIENvIGFzIEwsXG4gIEhvIGFzIE0sXG4gIGhzIGFzIE4sXG4gIHZzIGFzIE8sXG4gIG1zIGFzIFAsXG4gIGxzIGFzIFEsXG4gICRuIGFzIFIsXG4gIG9zIGFzIFMsXG4gIHNzIGFzIFQsXG4gIEJpIGFzIFUsXG4gIHdzIGFzIFYsXG4gIEJvIGFzIFcsXG4gIFJ0IGFzIFgsXG4gIFlvIGFzIFksXG4gIHBzIGFzIFosXG4gIFBzIGFzIF8sXG4gIEFzIGFzIGEsXG4gIHFvIGFzIGEwLFxuICBGIGFzIGExLFxuICBTcyBhcyBhMixcbiAgRXMgYXMgYTMsXG4gIHhzIGFzIGE0LFxuICBXbyBhcyBhNSxcbiAgam8gYXMgYTYsXG4gIGlzIGFzIGE3LFxuICBYbyBhcyBhOCxcbiAgUm4gYXMgYTksXG4gIERuIGFzIGFhLFxuICBmcyBhcyBhYixcbiAgT28gYXMgYWMsXG4gIFNyIGFzIGFkLFxuICB4ciBhcyBhZSxcbiAgTm4gYXMgYWYsXG4gIE1uIGFzIGFnLFxuICAkcyBhcyBhaCxcbiAgVHMgYXMgYWksXG4gIExvIGFzIGFqLFxuICBMcyBhcyBhayxcbiAgUm8gYXMgYWwsXG4gIE1vIGFzIGFtLFxuICBJbyBhcyBhbixcbiAgRG8gYXMgYW8sXG4gIGJlIGFzIGFwLFxuICBGbyBhcyBhcSxcbiAgT3MgYXMgYXIsXG4gIEFvIGFzIGFzLFxuICBfbyBhcyBhdCxcbiAgTm8gYXMgYXUsXG4gICRvIGFzIGF2LFxuICBEcyBhcyBhdyxcbiAgX3MgYXMgYXgsXG4gIGJzIGFzIGIsXG4gIE1zIGFzIGMsXG4gIHVzIGFzIGQsXG4gIEdvIGFzIGUsXG4gIFJzIGFzIGYsXG4gIGNvIGFzIGcsXG4gIGNzIGFzIGgsXG4gIElzIGFzIGksXG4gIHhvIGFzIGosXG4gIGdzIGFzIGssXG4gIF8gYXMgbCxcbiAga28gYXMgbSxcbiAgamkgYXMgbixcbiAgYW8gYXMgbyxcbiAgTiBhcyBwLFxuICBabyBhcyBxLFxuICBubyBhcyByLFxuICB5cyBhcyBzLFxuICBPbiBhcyB0LFxuICBOcyBhcyB1LFxuICBucyBhcyB2LFxuICBUbyBhcyB3LFxuICBKbyBhcyB4LFxuICBhcyBhcyB5LFxuICBWbyBhcyB6XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGV4dHMtNTY4RUhHTHAubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/contexts-568EHGLp.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/hooks-BZ9KhMcV.mjs":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/hooks-BZ9KhMcV.mjs ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ Et),\n/* harmony export */   B: () => (/* binding */ Lt),\n/* harmony export */   C: () => (/* binding */ Ye),\n/* harmony export */   D: () => (/* binding */ St),\n/* harmony export */   E: () => (/* binding */ Mt),\n/* harmony export */   F: () => (/* binding */ Xe),\n/* harmony export */   G: () => (/* binding */ z),\n/* harmony export */   H: () => (/* binding */ xe),\n/* harmony export */   I: () => (/* binding */ Ct),\n/* harmony export */   J: () => (/* binding */ Ot),\n/* harmony export */   K: () => (/* binding */ Dt),\n/* harmony export */   L: () => (/* binding */ Rt),\n/* harmony export */   M: () => (/* binding */ G),\n/* harmony export */   N: () => (/* binding */ Nt),\n/* harmony export */   O: () => (/* binding */ Ze),\n/* harmony export */   P: () => (/* binding */ qt),\n/* harmony export */   Q: () => (/* binding */ Qt),\n/* harmony export */   R: () => (/* binding */ jt),\n/* harmony export */   S: () => (/* binding */ xt),\n/* harmony export */   T: () => (/* binding */ it),\n/* harmony export */   U: () => (/* binding */ dt),\n/* harmony export */   V: () => (/* binding */ Kt),\n/* harmony export */   W: () => (/* binding */ ft),\n/* harmony export */   X: () => (/* binding */ Yt),\n/* harmony export */   Y: () => (/* binding */ Zt),\n/* harmony export */   a: () => (/* binding */ I),\n/* harmony export */   b: () => (/* binding */ Ut),\n/* harmony export */   c: () => (/* binding */ yt),\n/* harmony export */   d: () => (/* binding */ Pt),\n/* harmony export */   e: () => (/* binding */ Tt),\n/* harmony export */   f: () => (/* binding */ Vt),\n/* harmony export */   g: () => (/* binding */ Bt),\n/* harmony export */   h: () => (/* binding */ _t),\n/* harmony export */   i: () => (/* binding */ ht),\n/* harmony export */   j: () => (/* binding */ b),\n/* harmony export */   k: () => (/* binding */ Jt),\n/* harmony export */   l: () => (/* binding */ It),\n/* harmony export */   m: () => (/* binding */ Ht),\n/* harmony export */   n: () => (/* binding */ kt),\n/* harmony export */   o: () => (/* binding */ At),\n/* harmony export */   p: () => (/* binding */ zt),\n/* harmony export */   q: () => (/* binding */ je),\n/* harmony export */   r: () => (/* binding */ Ke),\n/* harmony export */   s: () => (/* binding */ Xt),\n/* harmony export */   t: () => (/* binding */ Wt),\n/* harmony export */   u: () => (/* binding */ vt),\n/* harmony export */   v: () => (/* binding */ Ft),\n/* harmony export */   w: () => (/* binding */ $t),\n/* harmony export */   x: () => (/* binding */ wt),\n/* harmony export */   y: () => (/* binding */ Gt),\n/* harmony export */   z: () => (/* binding */ gt)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.7_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contexts-568EHGLp.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/contexts-568EHGLp.mjs\");\n/* harmony import */ var _room_9If4zpLS_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./room-9If4zpLS.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/room-9If4zpLS.mjs\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/.pnpm/livekit-client@2.6.0/node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n\n\n\n\nconst Qe = (e) => {\n  const n = react__WEBPACK_IMPORTED_MODULE_0__.useRef(e);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    n.current = e;\n  }), n;\n};\nfunction $e(e, n) {\n  const t = He(), a = Qe(n);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\n    let s = !1;\n    const c = e.current;\n    if (!c) return;\n    function o(u, i) {\n      s || a.current(u, i);\n    }\n    return t == null || t.subscribe(c, o), () => {\n      s = !0, t == null || t.unsubscribe(c, o);\n    };\n  }, [e.current, t, a]), t == null ? void 0 : t.observer;\n}\nfunction Ge() {\n  let e = !1, n = [];\n  const t = /* @__PURE__ */ new Map();\n  if (typeof window > \"u\")\n    return;\n  const a = new ResizeObserver((s, c) => {\n    n = n.concat(s), e || window.requestAnimationFrame(() => {\n      const o = /* @__PURE__ */ new Set();\n      for (let u = 0; u < n.length; u++) {\n        if (o.has(n[u].target)) continue;\n        o.add(n[u].target);\n        const i = t.get(n[u].target);\n        i == null || i.forEach((l) => l(n[u], c));\n      }\n      n = [], e = !1;\n    }), e = !0;\n  });\n  return {\n    observer: a,\n    subscribe(s, c) {\n      a.observe(s);\n      const o = t.get(s) ?? [];\n      o.push(c), t.set(s, o);\n    },\n    unsubscribe(s, c) {\n      const o = t.get(s) ?? [];\n      if (o.length === 1) {\n        a.unobserve(s), t.delete(s);\n        return;\n      }\n      const u = o.indexOf(c);\n      u !== -1 && o.splice(u, 1), t.set(s, o);\n    }\n  };\n}\nlet D;\nconst He = () => D || (D = Ge()), je = (e) => {\n  const [n, t] = react__WEBPACK_IMPORTED_MODULE_0__.useState({ width: 0, height: 0 });\n  react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\n    if (e.current) {\n      const { width: s, height: c } = e.current.getBoundingClientRect();\n      t({ width: s, height: c });\n    }\n  }, [e.current]);\n  const a = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (s) => t(s.contentRect),\n    []\n  );\n  return $e(e, a), n;\n};\nfunction b(e, n, t = !0) {\n  const [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (t && s(n), typeof window > \"u\" || !e) return;\n    const c = e.subscribe(s);\n    return () => c.unsubscribe();\n  }, [e, t]), a;\n}\nfunction gt(e) {\n  const n = (c) => typeof window < \"u\" ? window.matchMedia(c).matches : !1, [t, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n(e));\n  function s() {\n    a(n(e));\n  }\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const c = window.matchMedia(e);\n    return s(), c.addListener ? c.addListener(s) : c.addEventListener(\"change\", s), () => {\n      c.removeListener ? c.removeListener(s) : c.removeEventListener(\"change\", s);\n    };\n  }, [e]), t;\n}\nfunction St(e) {\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), t = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(async () => {\n    await n.startAudio();\n  }, [n]), a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.r)(n),\n    [n]\n  ), { canPlayAudio: s } = b(a, {\n    canPlayAudio: n.canPlaybackAudio\n  });\n  return { canPlayAudio: s, startAudio: t };\n}\nfunction vt(e) {\n  const { state: n, dispatch: t } = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a)().pin;\n  return { buttonProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const { className: s } = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.b)();\n    return (0,_room_9If4zpLS_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(e, {\n      className: s,\n      disabled: !(n != null && n.length),\n      onClick: () => {\n        t && t({ msg: \"clear_pin\" });\n      }\n    });\n  }, [e, t, n]) };\n}\nfunction ht(e = {}) {\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(e.participant), { className: t, connectionQualityObserver: a } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.d)(n),\n    [n]\n  ), s = b(a, livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionQuality.Unknown);\n  return { className: t, quality: s };\n}\nfunction I(e) {\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.e)(n), [n]);\n  return b(t, n.state);\n}\nfunction Mt(e, n) {\n  const t = typeof e == \"function\" ? e : n, a = typeof e == \"string\" ? e : void 0, s = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), { send: c, messageObservable: o, isSendingObservable: u } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.g)(s, a, t),\n    [s, a, t]\n  ), i = b(o, void 0), l = b(u, !1);\n  return {\n    message: i,\n    send: c,\n    isSending: l\n  };\n}\nfunction yt(e) {\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), t = I(n);\n  return { buttonProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const { className: s, disconnect: c } = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.h)(n);\n    return (0,_room_9If4zpLS_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(e, {\n      className: s,\n      onClick: () => c(e.stopTracks ?? !0),\n      disabled: t === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected\n    });\n  }, [n, e, t]) };\n}\nfunction Xe(e) {\n  if (e.publication instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.LocalTrackPublication) {\n    const n = e.publication.track;\n    if (n) {\n      const { facingMode: t } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.facingModeFromLocalTrack)(n);\n      return t;\n    }\n  }\n  return \"undefined\";\n}\nfunction Pt({ trackRef: e, props: n }) {\n  const t = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.i)(e), a = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.j)(), { className: s } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.k)(), []), c = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.m)(t, a == null ? void 0 : a.pin.state), [t, a == null ? void 0 : a.pin.state]);\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_room_9If4zpLS_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(n, {\n      className: s,\n      onClick: (u) => {\n        var i, l, d, f, p;\n        (i = n.onClick) == null || i.call(n, u), c ? (d = a == null ? void 0 : (l = a.pin).dispatch) == null || d.call(l, {\n          msg: \"clear_pin\"\n        }) : (p = a == null ? void 0 : (f = a.pin).dispatch) == null || p.call(f, {\n          msg: \"set_pin\",\n          trackReference: t\n        });\n      }\n    }),\n    [n, s, t, c, a == null ? void 0 : a.pin]\n  ), inFocus: c };\n}\nfunction kt(e, n, t = {}) {\n  const a = t.gridLayouts ?? _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.G, { width: s, height: c } = je(e), o = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.n)(a, n, s, c);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    e.current && o && (e.current.style.setProperty(\"--lk-col-count\", o == null ? void 0 : o.columns.toString()), e.current.style.setProperty(\"--lk-row-count\", o == null ? void 0 : o.rows.toString()));\n  }, [e, o]), {\n    layout: o,\n    containerWidth: s,\n    containerHeight: c\n  };\n}\nfunction z(e, n = {}) {\n  var u, i;\n  const t = typeof e == \"string\" ? n.participant : e.participant, a = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(t), s = typeof e == \"string\" ? { participant: a, source: e } : e, [c, o] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    !!((u = s.publication) != null && u.isMuted || (i = a.getTrackPublication(s.source)) != null && i.isMuted)\n  );\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const l = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.o)(s).subscribe(o);\n    return () => l.unsubscribe();\n  }, [(0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.p)(s)]), c;\n}\nfunction xe(e) {\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(e), t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.q)(n), [n]);\n  return b(t, n.isSpeaking);\n}\nfunction Ye(e = {}) {\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e.room), [t, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n.localParticipant), [s, c] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    t.isMicrophoneEnabled\n  ), [o, u] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    t.isMicrophoneEnabled\n  ), [i, l] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    t.lastMicrophoneError\n  ), [d, f] = react__WEBPACK_IMPORTED_MODULE_0__.useState(t.lastCameraError), [p, m] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    t.isMicrophoneEnabled\n  ), [g, S] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    void 0\n  ), [M, v] = react__WEBPACK_IMPORTED_MODULE_0__.useState(void 0), P = (h) => {\n    u(h.isCameraEnabled), c(h.isMicrophoneEnabled), m(h.isScreenShareEnabled), v(h.cameraTrack), S(h.microphoneTrack), l(h.participant.lastMicrophoneError), f(h.participant.lastCameraError), a(h.participant);\n  };\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const h = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.t)(n.localParticipant).subscribe(P);\n    return () => h.unsubscribe();\n  }, [n]), {\n    isMicrophoneEnabled: s,\n    isScreenShareEnabled: p,\n    isCameraEnabled: o,\n    microphoneTrack: g,\n    cameraTrack: M,\n    lastMicrophoneError: i,\n    lastCameraError: d,\n    localParticipant: t\n  };\n}\nfunction Et() {\n  const e = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.v)(e.localParticipant),\n    [e]\n  );\n  return b(n, e.localParticipant.permissions);\n}\nfunction Tt({\n  kind: e,\n  room: n,\n  track: t,\n  requestPermissions: a,\n  onError: s\n}) {\n  const c = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.w)(), o = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.x)(e, s, a),\n    [e, a, s]\n  ), u = b(o, []), [i, l] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    (c == null ? void 0 : c.getActiveDevice(e)) ?? \"\"\n  ), { className: d, activeDeviceObservable: f, setActiveMediaDevice: p } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.y)(e, n ?? c, t),\n    [e, n, c, t]\n  );\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const m = f.subscribe((g) => {\n      g && g !== i && (_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.info(\"setCurrentDeviceId\", g), l(g));\n    });\n    return () => {\n      m == null || m.unsubscribe();\n    };\n  }, [f]), { devices: u, className: d, activeDeviceId: i, setActiveMediaDevice: p };\n}\nfunction wt({\n  kind: e,\n  onError: n\n}) {\n  const t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.x)(e, n),\n    [e, n]\n  );\n  return b(t, []);\n}\nfunction Ke(e, n, t = {}) {\n  const a = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]), s = react__WEBPACK_IMPORTED_MODULE_0__.useRef(-1), c = n !== s.current, o = typeof t.customSortFunction == \"function\" ? t.customSortFunction(e) : (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.z)(e);\n  let u = [...o];\n  if (c === !1)\n    try {\n      u = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.A)(a.current, o, n);\n    } catch (i) {\n      _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.error(\"Error while running updatePages(): \", i);\n    }\n  return c ? a.current = o : a.current = u, s.current = n, u;\n}\nfunction At(e, n) {\n  const [t, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(1), s = Math.max(Math.ceil(n.length / e), 1);\n  t > s && a(s);\n  const c = t * e, o = c - e, u = (f) => {\n    a((p) => f === \"next\" ? p === s ? p : p + 1 : p === 1 ? p : p - 1);\n  }, i = (f) => {\n    f > s ? a(s) : f < 1 ? a(1) : a(f);\n  }, d = Ke(n, e).slice(o, c);\n  return {\n    totalPageCount: s,\n    nextPage: () => u(\"next\"),\n    prevPage: () => u(\"previous\"),\n    setPage: i,\n    firstItemIndex: o,\n    lastItemIndex: c,\n    tracks: d,\n    currentPage: t\n  };\n}\nfunction Ct(e = {}) {\n  let n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.B)();\n  e.participant && (n = e.participant);\n  const t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.C)(n), [n]), { identity: a, name: s, metadata: c } = b(t, {\n    name: n == null ? void 0 : n.name,\n    identity: n == null ? void 0 : n.identity,\n    metadata: n == null ? void 0 : n.metadata\n  });\n  return { identity: a, name: s, metadata: c };\n}\nfunction Ot(e = {}) {\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(e.participant), t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.v)(n), [n]);\n  return b(t, n.permissions);\n}\nfunction It({\n  trackRef: e,\n  onParticipantClick: n,\n  disableSpeakingIndicator: t,\n  htmlProps: a\n}) {\n  const s = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.i)(e), c = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const { className: p } = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.D)();\n    return (0,_room_9If4zpLS_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(a, {\n      className: p,\n      onClick: (m) => {\n        var g;\n        if ((g = a.onClick) == null || g.call(a, m), typeof n == \"function\") {\n          const S = s.publication ?? s.participant.getTrackPublication(s.source);\n          n({ participant: s.participant, track: S });\n        }\n      }\n    });\n  }, [\n    a,\n    n,\n    s.publication,\n    s.source,\n    s.participant\n  ]), o = s.participant.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n    participant: s.participant,\n    source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone,\n    publication: o\n  }), [o, s.participant]), i = z(s), l = z(u), d = xe(s.participant), f = Xe(s);\n  return {\n    elementProps: {\n      \"data-lk-audio-muted\": l,\n      \"data-lk-video-muted\": i,\n      \"data-lk-speaking\": t === !0 ? !1 : d,\n      \"data-lk-local-participant\": s.participant.isLocal,\n      \"data-lk-source\": s.source,\n      \"data-lk-facing-mode\": f,\n      ...c\n    }\n  };\n}\nfunction G(e = {}) {\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e.room), [t, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const s = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.E)(n, {\n      additionalRoomEvents: e.updateOnlyOn\n    }).subscribe(a);\n    return () => s.unsubscribe();\n  }, [n, JSON.stringify(e.updateOnlyOn)]), t;\n}\nfunction Dt(e = {}) {\n  const n = G(e), { localParticipant: t } = Ye(e);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => [t, ...n],\n    [t, n]\n  );\n}\nfunction Lt(e) {\n  return e = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.F)(e), react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (e == null ? void 0 : e.pin.state) !== void 0 && e.pin.state.length >= 1 ? e.pin.state : [], [e.pin.state]);\n}\nfunction Rt(e, n = {}) {\n  const t = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), [a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n.updateOnlyOn), s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => typeof e == \"string\" ? (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.H)(t, e, {\n    additionalEvents: a\n  }) : (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.I)(t, e, {\n    additionalEvents: a\n  }), [t, JSON.stringify(e), a]), [c, o] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\n    p: void 0\n  });\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const u = s.subscribe((i) => o({ p: i }));\n    return () => u.unsubscribe();\n  }, [s]), c.p;\n}\nfunction Ft(e = {}) {\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e.room), t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.J)(n), [n]), { name: a, metadata: s } = b(t, {\n    name: n.name,\n    metadata: n.metadata\n  });\n  return { name: a, metadata: s };\n}\nfunction Ze() {\n  const e = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.K)(e), [e]);\n  return b(n, e.activeSpeakers);\n}\nfunction Nt(e) {\n  const [n, t] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.M)(e)\n  ), a = Ze();\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    t((0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.M)(e));\n  }, [a, e]), n;\n}\nfunction Vt({ room: e, props: n }) {\n  const t = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), { className: a, roomAudioPlaybackAllowedObservable: s, handleStartAudioPlayback: c } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.N)(),\n    []\n  ), o = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => s(t),\n    [t, s]\n  ), { canPlayAudio: u } = b(o, {\n    canPlayAudio: t.canPlaybackAudio\n  });\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_room_9If4zpLS_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(n, {\n      className: a,\n      onClick: () => {\n        c(t);\n      },\n      style: { display: u ? \"none\" : \"block\" }\n    }),\n    [n, a, u, c, t]\n  ), canPlayAudio: u };\n}\nfunction Bt({ room: e, props: n }) {\n  const t = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), { className: a, roomVideoPlaybackAllowedObservable: s, handleStartVideoPlayback: c } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.O)(),\n    []\n  ), o = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => s(t),\n    [t, s]\n  ), { canPlayVideo: u } = b(o, {\n    canPlayVideo: t.canPlaybackVideo\n  });\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_room_9If4zpLS_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(n, {\n      className: a,\n      onClick: () => {\n        c(t);\n      },\n      style: { display: u ? \"none\" : \"block\" }\n    }),\n    [n, a, u, c, t]\n  ), canPlayVideo: u };\n}\nfunction zt(e, n = {}) {\n  const t = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), a = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), s = n.minSwipeDistance ?? 50, c = (i) => {\n    a.current = null, t.current = i.targetTouches[0].clientX;\n  }, o = (i) => {\n    a.current = i.targetTouches[0].clientX;\n  }, u = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (!t.current || !a.current)\n      return;\n    const i = t.current - a.current, l = i > s, d = i < -s;\n    l && n.onLeftSwipe && n.onLeftSwipe(), d && n.onRightSwipe && n.onRightSwipe();\n  }, [s, n]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const i = e.current;\n    return i && (i.addEventListener(\"touchstart\", c, { passive: !0 }), i.addEventListener(\"touchmove\", o, { passive: !0 }), i.addEventListener(\"touchend\", u, { passive: !0 })), () => {\n      i && (i.removeEventListener(\"touchstart\", c), i.removeEventListener(\"touchmove\", o), i.removeEventListener(\"touchend\", u));\n    };\n  }, [e, u]);\n}\nfunction Ut({ props: e }) {\n  const { dispatch: n, state: t } = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a)().widget, { className: a } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.P)(), []);\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_room_9If4zpLS_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(e, {\n    className: a,\n    onClick: () => {\n      n && n({ msg: \"toggle_chat\" });\n    },\n    \"aria-pressed\": t != null && t.showChat ? \"true\" : \"false\",\n    \"data-lk-unread-msgs\": t ? t.unreadMessages < 10 ? t.unreadMessages.toFixed(0) : \"9+\" : \"0\"\n  }), [e, a, n, t]) };\n}\nfunction qt(e, n, t = {}) {\n  const [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(void 0);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var o;\n    if (e === void 0)\n      throw Error(\"token endpoint needs to be defined\");\n    if (((o = t.userInfo) == null ? void 0 : o.identity) === void 0)\n      return;\n    (async () => {\n      _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"fetching token\");\n      const u = new URLSearchParams({ ...t.userInfo, roomName: n }), i = await fetch(`${e}?${u.toString()}`);\n      if (!i.ok) {\n        _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.error(\n          `Could not fetch token. Server responded with status ${i.status}: ${i.statusText}`\n        );\n        return;\n      }\n      const { accessToken: l } = await i.json();\n      s(l);\n    })();\n  }, [e, n, JSON.stringify(t)]), a;\n}\nfunction Jt(e) {\n  var c, o;\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.i)(e), { className: t, mediaMutedObserver: a } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.Q)(n),\n    [(0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.p)(n)]\n  );\n  return { isMuted: b(\n    a,\n    !!((c = n.publication) != null && c.isMuted || (o = n.participant.getTrackPublication(n.source)) != null && o.isMuted)\n  ), className: t };\n}\nfunction _t({\n  source: e,\n  onChange: n,\n  initialState: t,\n  captureOptions: a,\n  publishOptions: s,\n  onDeviceError: c,\n  ...o\n}) {\n  var P;\n  const u = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.w)(), i = (P = u == null ? void 0 : u.localParticipant) == null ? void 0 : P.getTrackPublication(e), l = react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1), { toggle: d, className: f, pendingObserver: p, enabledObserver: m } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => u ? (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.S)(e, u, a, s, c) : (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.T)(),\n    [u, e, JSON.stringify(a), s]\n  ), g = b(p, !1), S = b(m, t ?? !!(i != null && i.isEnabled));\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    n == null || n(S, l.current), l.current = !1;\n  }, [S, n]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    t !== void 0 && (_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"forcing initial toggle state\", e, t), d(t));\n  }, []);\n  const M = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_room_9If4zpLS_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(o, { className: f }), [o, f]), v = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (h) => {\n      var C;\n      l.current = !0, d().catch(() => l.current = !1), (C = o.onClick) == null || C.call(o, h);\n    },\n    [o, d]\n  );\n  return {\n    toggle: d,\n    enabled: S,\n    pending: g,\n    track: i,\n    buttonProps: {\n      ...M,\n      \"aria-pressed\": S,\n      \"data-lk-source\": e,\n      \"data-lk-enabled\": S,\n      disabled: g,\n      onClick: v\n    }\n  };\n}\nfunction Wt(e = [\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera,\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone,\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare,\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShareAudio,\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Unknown\n], n = {}) {\n  const t = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(n.room), [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), [c, o] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => e.map((l) => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.U)(l) ? l.source : l), [JSON.stringify(e)]);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const l = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.V)(t, u, {\n      additionalRoomEvents: n.updateOnlyOn,\n      onlySubscribed: n.onlySubscribed\n    }).subscribe(({ trackReferences: d, participants: f }) => {\n      _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"setting track bundles\", d, f), s(d), o(f);\n    });\n    return () => l.unsubscribe();\n  }, [\n    t,\n    JSON.stringify(n.onlySubscribed),\n    JSON.stringify(n.updateOnlyOn),\n    JSON.stringify(e)\n  ]), react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    if ((0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.W)(e)) {\n      const l = tt(e, c), d = Array.from(a);\n      return c.forEach((f) => {\n        l.has(f.identity) && (l.get(f.identity) ?? []).forEach((m) => {\n          if (a.find(\n            ({ participant: S, publication: M }) => f.identity === S.identity && M.source === m\n          ))\n            return;\n          _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\n            `Add ${m} placeholder for participant ${f.identity}.`\n          );\n          const g = {\n            participant: f,\n            source: m\n          };\n          d.push(g);\n        });\n      }), d;\n    } else\n      return a;\n  }, [a, c, e]);\n}\nfunction et(e, n) {\n  const t = new Set(e);\n  for (const a of n)\n    t.delete(a);\n  return t;\n}\nfunction tt(e, n) {\n  const t = /* @__PURE__ */ new Map();\n  if ((0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.W)(e)) {\n    const a = e.filter((s) => s.withPlaceholder).map((s) => s.source);\n    n.forEach((s) => {\n      const c = s.getTrackPublications().map((u) => {\n        var i;\n        return (i = u.track) == null ? void 0 : i.source;\n      }).filter((u) => u !== void 0), o = Array.from(\n        et(new Set(a), new Set(c))\n      );\n      o.length > 0 && t.set(s.identity, o);\n    });\n  }\n  return t;\n}\nfunction nt(e) {\n  const [n, t] = react__WEBPACK_IMPORTED_MODULE_0__.useState((0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.X)(e)), { trackObserver: a } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.Y)(e), [e.participant.sid ?? e.participant.identity, e.source]);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const s = a.subscribe((c) => {\n      t(c);\n    });\n    return () => s == null ? void 0 : s.unsubscribe();\n  }, [a]), {\n    participant: e.participant,\n    source: e.source ?? livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Unknown,\n    publication: n\n  };\n}\nfunction Qt(e, n) {\n  const t = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(n);\n  return nt({ name: e, participant: t });\n}\nfunction $t(e) {\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), t = I(n), a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => t === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected,\n    [t]\n  ), s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.Z)(n, e),\n    [n, e, a]\n  ), c = b(s.isSendingObservable, !1), o = b(s.messageObservable, []);\n  return { send: s.send, update: s.update, chatMessages: o, isSending: c };\n}\nfunction Gt(e = {}) {\n  const [n, t] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__._)(e.defaults, e.preventLoad ?? !1)\n  ), a = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\n    t((l) => ({ ...l, audioEnabled: i }));\n  }, []), s = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\n    t((l) => ({ ...l, videoEnabled: i }));\n  }, []), c = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\n    t((l) => ({ ...l, audioDeviceId: i }));\n  }, []), o = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\n    t((l) => ({ ...l, videoDeviceId: i }));\n  }, []), u = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\n    t((l) => ({ ...l, username: i }));\n  }, []);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.$)(n, e.preventSave ?? !1);\n  }, [n, e.preventSave]), {\n    userChoices: n,\n    saveAudioInputEnabled: a,\n    saveVideoInputEnabled: s,\n    saveAudioInputDeviceId: c,\n    saveVideoInputDeviceId: o,\n    saveUsername: u\n  };\n}\nfunction Ht(e, n = {}) {\n  const t = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(e), a = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(n.room), s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a0)(a, t), [a, t]);\n  return b(\n    s,\n    t instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.LocalParticipant ? t.isE2EEEnabled : !!(t != null && t.isEncrypted)\n  );\n}\nfunction jt(e, n = { fftSize: 32, smoothingTimeConstant: 0 }) {\n  const t = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a1)(e) ? e.publication.track : e, [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!t || !t.mediaStream)\n      return;\n    const { cleanup: c, analyser: o } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.createAudioAnalyser)(t, n), u = o.frequencyBinCount, i = new Uint8Array(u), d = setInterval(() => {\n      o.getByteFrequencyData(i);\n      let f = 0;\n      for (let p = 0; p < i.length; p++) {\n        const m = i[p];\n        f += m * m;\n      }\n      s(Math.sqrt(f / i.length) / 255);\n    }, 1e3 / 30);\n    return () => {\n      c(), clearInterval(d);\n    };\n  }, [t, t == null ? void 0 : t.mediaStream, JSON.stringify(n)]), a;\n}\nconst st = (e) => {\n  const n = (t) => {\n    let c = 1 - Math.max(-100, Math.min(-10, t)) * -1 / 100;\n    return c = Math.sqrt(c), c;\n  };\n  return e.map((t) => t === -1 / 0 ? 0 : n(t));\n}, at = {\n  bands: 5,\n  loPass: 100,\n  hiPass: 600,\n  updateInterval: 32,\n  analyserOptions: { fftSize: 2048 }\n};\nfunction Xt(e, n = {}) {\n  var o;\n  const t = e instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track ? e : (o = e == null ? void 0 : e.publication) == null ? void 0 : o.track, a = { ...at, ...n }, [s, c] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\n    new Array(a.bands).fill(0)\n  );\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!t || !(t != null && t.mediaStream))\n      return;\n    const { analyser: u, cleanup: i } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.createAudioAnalyser)(t, a.analyserOptions), l = u.frequencyBinCount, d = new Float32Array(l), p = setInterval(() => {\n      u.getFloatFrequencyData(d);\n      let m = new Float32Array(d.length);\n      for (let v = 0; v < d.length; v++)\n        m[v] = d[v];\n      m = m.slice(n.loPass, n.hiPass);\n      const g = st(m), S = Math.ceil(g.length / a.bands), M = [];\n      for (let v = 0; v < a.bands; v++) {\n        const P = g.slice(v * S, (v + 1) * S).reduce((h, C) => h += C, 0);\n        M.push(P / S);\n      }\n      c(M);\n    }, a.updateInterval);\n    return () => {\n      i(), clearInterval(p);\n    };\n  }, [t, t == null ? void 0 : t.mediaStream, JSON.stringify(n)]), s;\n}\nconst rt = {\n  barCount: 120,\n  volMultiplier: 5,\n  updateInterval: 20\n};\nfunction xt(e, n = {}) {\n  var d;\n  const t = e instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track ? e : (d = e == null ? void 0 : e.publication) == null ? void 0 : d.track, a = { ...rt, ...n }, s = react__WEBPACK_IMPORTED_MODULE_0__.useRef(new Float32Array()), c = react__WEBPACK_IMPORTED_MODULE_0__.useRef(performance.now()), o = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0), [u, i] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), l = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((f) => {\n    i(\n      Array.from(\n        ot(f, a.barCount).map((p) => Math.sqrt(p) * a.volMultiplier)\n        // wave.slice(0, opts.barCount).map((v) => sigmoid(v * opts.volMultiplier, 0.08, 0.2)),\n      )\n    );\n  }, []);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!t || !(t != null && t.mediaStream))\n      return;\n    const { analyser: f, cleanup: p } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.createAudioAnalyser)(t, {\n      fftSize: U(a.barCount)\n    }), m = U(a.barCount), g = new Float32Array(m), S = () => {\n      if (M = requestAnimationFrame(S), f.getFloatTimeDomainData(g), s.current.map((v, P) => v + g[P]), o.current += 1, performance.now() - c.current >= a.updateInterval) {\n        const v = g.map((P) => P / o.current);\n        l(v), c.current = performance.now(), o.current = 0;\n      }\n    };\n    let M = requestAnimationFrame(S);\n    return () => {\n      p(), cancelAnimationFrame(M);\n    };\n  }, [t, t == null ? void 0 : t.mediaStream, JSON.stringify(n), l]), {\n    bars: u\n  };\n}\nfunction U(e) {\n  return e < 32 ? 32 : ct(e);\n}\nfunction ct(e) {\n  let n = 2;\n  for (; e >>= 1; )\n    n <<= 1;\n  return n;\n}\nfunction ot(e, n) {\n  const t = Math.floor(e.length / n), a = new Float32Array(n);\n  for (let s = 0; s < n; s++) {\n    const c = t * s;\n    let o = 0;\n    for (let u = 0; u < t; u++)\n      o = o + Math.abs(e[c + u]);\n    a[s] = o / t;\n  }\n  return a;\n}\nfunction it(e, n) {\n  const t = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), a = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.B)(), s = n ? t.getParticipantByIdentity(n) : a, c = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => s ? (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a2)(s, { sources: e }) : void 0,\n    [s == null ? void 0 : s.sid, s == null ? void 0 : s.identity, JSON.stringify(e)]\n  );\n  return b(c, []);\n}\nfunction ut(e) {\n  var t, a, s;\n  const n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => {\n      var c;\n      return (c = e == null ? void 0 : e.publication) != null && c.track ? (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a3)(e == null ? void 0 : e.publication.track) : void 0;\n    },\n    [(t = e == null ? void 0 : e.publication) == null ? void 0 : t.track]\n  );\n  return b(n, {\n    timestamp: Date.now(),\n    rtpTimestamp: (s = (a = e == null ? void 0 : e.publication) == null ? void 0 : a.track) == null ? void 0 : s.rtpTimestamp\n  });\n}\nconst lt = {\n  bufferSize: 100\n  // maxAge: 2_000,\n};\nfunction dt(e, n) {\n  const t = { ...lt, ...n }, [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), c = ut(e), o = (u) => {\n    var i;\n    (i = t.onTranscription) == null || i.call(t, u), s(\n      (l) => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a5)(\n        l,\n        // when first receiving a segment, add the current media timestamp to it\n        u.map((d) => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a6)(d, c)),\n        t.bufferSize\n      )\n    );\n  };\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!(e != null && e.publication))\n      return;\n    const u = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a4)(e.publication).subscribe((i) => {\n      o(...i);\n    });\n    return () => {\n      u.unsubscribe();\n    };\n  }, [e && (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.p)(e), o]), { segments: a };\n}\nfunction ft(e = {}) {\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.B)(), t = e.participant ?? n, a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    // weird typescript constraint\n    () => t ? (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a7)(t) : (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a7)(t),\n    [t]\n  );\n  return b(a, {\n    attributes: t == null ? void 0 : t.attributes\n  });\n}\nfunction Yt(e, n = {}) {\n  const t = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(n.participant), [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(t.attributes[e]);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!t)\n      return;\n    const c = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a7)(t).subscribe((o) => {\n      o.changed[e] !== void 0 && s(o.attributes[e]);\n    });\n    return () => {\n      c.unsubscribe();\n    };\n  }, [t, e]), a;\n}\nconst q = \"lk.agent.state\";\nfunction Kt() {\n  const e = G().find((o) => o.kind === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ParticipantKind.AGENT), n = it([livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone], e == null ? void 0 : e.identity)[0], { segments: t } = dt(n), a = I(), { attributes: s } = ft({ participant: e }), c = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => a === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected ? \"disconnected\" : a === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Connecting || !e || !(s != null && s[q]) ? \"connecting\" : s[q], [s, e, a]);\n  return {\n    agent: e,\n    state: c,\n    audioTrack: n,\n    agentTranscriptions: t,\n    agentAttributes: s\n  };\n}\nfunction Zt(e) {\n  const n = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), t = I(n), a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.a8)(n), [n, t]);\n  return b(a, n.isRecording);\n}\n\n//# sourceMappingURL=hooks-BZ9KhMcV.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyLjYuN19AbGl2ZWtpdCtrcmlzcC1ub2lzZS1maWx0ZXJAMC4yLjEyX2xpdmVraXQtY2xpZW50QDIuNi4wX19saXZlX2txY2NoZXd2NWVnZXJoc29uMmFwc2xuN3NpL25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3QvaG9va3MtQlo5S2hNY1YubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkI7QUFDOGhCO0FBQzVnQjtBQUNvTDtBQUNqTztBQUNBLFlBQVkseUNBQVE7QUFDcEIsU0FBUyw0Q0FBVztBQUNwQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtEQUFpQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGNBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkNBQVUsR0FBRyxxQkFBcUI7QUFDbkQsRUFBRSxrREFBaUI7QUFDbkI7QUFDQSxjQUFjLHNCQUFzQjtBQUNwQyxVQUFVLHFCQUFxQjtBQUMvQjtBQUNBLEdBQUc7QUFDSCxZQUFZLDhDQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwyQ0FBVTtBQUMzQixTQUFTLDRDQUFXO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLEdB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QUM7QUFDZjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDJEQUFFLGlCQUFpQixpREFBQyw0REFBNEQsY0FBYyxvQkFBb0IsZ0JBQWdCLE9BQU8sZ0JBQWdCLE9BQU8sMENBQVMsYUFBYSwyREFBQyx1Q0FBdUMsMkRBQUM7QUFDdFE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5REFBQyxtQkFBbUIsMENBQVMsT0FBTywwREFBRTtBQUNsRDtBQUNBO0FBcURFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGF5Z3JvdW5kLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaXZla2l0K2NvbXBvbmVudHMtcmVhY3RAMi42LjdfQGxpdmVraXQra3Jpc3Atbm9pc2UtZmlsdGVyQDAuMi4xMl9saXZla2l0LWNsaWVudEAyLjYuMF9fbGl2ZV9rcWNjaGV3djVlZ2VyaHNvbjJhcHNsbjdzaS9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9kaXN0L2hvb2tzLUJaOUtoTWNWLm1qcz9mM2FmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHIgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1IGFzIGssIHIgYXMgSCwgYSBhcyBKLCBiIGFzIGosIGMgYXMgdywgZCBhcyBYLCBlIGFzIHgsIGYgYXMgQSwgZyBhcyBZLCBoIGFzIEssIGkgYXMgUiwgaiBhcyBaLCBrIGFzIGVlLCBtIGFzIHRlLCBHIGFzIG5lLCBuIGFzIHNlLCBvIGFzIGFlLCBwIGFzIEYsIHEgYXMgcmUsIHQgYXMgY2UsIHYgYXMgXywgdyBhcyBXLCB4IGFzIFEsIHkgYXMgb2UsIGwgYXMgVCwgeiBhcyBpZSwgQSBhcyB1ZSwgQiBhcyBOLCBDIGFzIGxlLCBEIGFzIGRlLCBFIGFzIGZlLCBGIGFzIHBlLCBIIGFzIGJlLCBJIGFzIG1lLCBKIGFzIGdlLCBLIGFzIFNlLCBNIGFzIEIsIE4gYXMgdmUsIE8gYXMgaGUsIFAgYXMgTWUsIFEgYXMgeWUsIFMgYXMgUGUsIFQgYXMga2UsIFUgYXMgRWUsIFYgYXMgVGUsIFcgYXMgJCwgWCBhcyB3ZSwgWSBhcyBBZSwgWiBhcyBDZSwgXyBhcyBPZSwgJCBhcyBJZSwgYTAgYXMgRGUsIGExIGFzIExlLCBhMiBhcyBSZSwgYTMgYXMgRmUsIGE0IGFzIE5lLCBhNSBhcyBWZSwgYTYgYXMgQmUsIGE3IGFzIEwsIGE4IGFzIHplIH0gZnJvbSBcIi4vY29udGV4dHMtNTY4RUhHTHAubWpzXCI7XG5pbXBvcnQgeyBtIGFzIEUgfSBmcm9tIFwiLi9yb29tLTlJZjR6cExTLm1qc1wiO1xuaW1wb3J0IHsgQ29ubmVjdGlvblF1YWxpdHkgYXMgVWUsIENvbm5lY3Rpb25TdGF0ZSBhcyBPLCBMb2NhbFRyYWNrUHVibGljYXRpb24gYXMgcWUsIGZhY2luZ01vZGVGcm9tTG9jYWxUcmFjayBhcyBKZSwgVHJhY2sgYXMgeSwgTG9jYWxQYXJ0aWNpcGFudCBhcyBfZSwgY3JlYXRlQXVkaW9BbmFseXNlciBhcyBWLCBQYXJ0aWNpcGFudEtpbmQgYXMgV2UgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcbmNvbnN0IFFlID0gKGUpID0+IHtcbiAgY29uc3QgbiA9IHIudXNlUmVmKGUpO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIG4uY3VycmVudCA9IGU7XG4gIH0pLCBuO1xufTtcbmZ1bmN0aW9uICRlKGUsIG4pIHtcbiAgY29uc3QgdCA9IEhlKCksIGEgPSBRZShuKTtcbiAgcmV0dXJuIHIudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBsZXQgcyA9ICExO1xuICAgIGNvbnN0IGMgPSBlLmN1cnJlbnQ7XG4gICAgaWYgKCFjKSByZXR1cm47XG4gICAgZnVuY3Rpb24gbyh1LCBpKSB7XG4gICAgICBzIHx8IGEuY3VycmVudCh1LCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHQgPT0gbnVsbCB8fCB0LnN1YnNjcmliZShjLCBvKSwgKCkgPT4ge1xuICAgICAgcyA9ICEwLCB0ID09IG51bGwgfHwgdC51bnN1YnNjcmliZShjLCBvKTtcbiAgICB9O1xuICB9LCBbZS5jdXJyZW50LCB0LCBhXSksIHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQub2JzZXJ2ZXI7XG59XG5mdW5jdGlvbiBHZSgpIHtcbiAgbGV0IGUgPSAhMSwgbiA9IFtdO1xuICBjb25zdCB0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPiBcInVcIilcbiAgICByZXR1cm47XG4gIGNvbnN0IGEgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKHMsIGMpID0+IHtcbiAgICBuID0gbi5jb25jYXQocyksIGUgfHwgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBjb25zdCBvID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgIGZvciAobGV0IHUgPSAwOyB1IDwgbi5sZW5ndGg7IHUrKykge1xuICAgICAgICBpZiAoby5oYXMoblt1XS50YXJnZXQpKSBjb250aW51ZTtcbiAgICAgICAgby5hZGQoblt1XS50YXJnZXQpO1xuICAgICAgICBjb25zdCBpID0gdC5nZXQoblt1XS50YXJnZXQpO1xuICAgICAgICBpID09IG51bGwgfHwgaS5mb3JFYWNoKChsKSA9PiBsKG5bdV0sIGMpKTtcbiAgICAgIH1cbiAgICAgIG4gPSBbXSwgZSA9ICExO1xuICAgIH0pLCBlID0gITA7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIG9ic2VydmVyOiBhLFxuICAgIHN1YnNjcmliZShzLCBjKSB7XG4gICAgICBhLm9ic2VydmUocyk7XG4gICAgICBjb25zdCBvID0gdC5nZXQocykgPz8gW107XG4gICAgICBvLnB1c2goYyksIHQuc2V0KHMsIG8pO1xuICAgIH0sXG4gICAgdW5zdWJzY3JpYmUocywgYykge1xuICAgICAgY29uc3QgbyA9IHQuZ2V0KHMpID8/IFtdO1xuICAgICAgaWYgKG8ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGEudW5vYnNlcnZlKHMpLCB0LmRlbGV0ZShzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdSA9IG8uaW5kZXhPZihjKTtcbiAgICAgIHUgIT09IC0xICYmIG8uc3BsaWNlKHUsIDEpLCB0LnNldChzLCBvKTtcbiAgICB9XG4gIH07XG59XG5sZXQgRDtcbmNvbnN0IEhlID0gKCkgPT4gRCB8fCAoRCA9IEdlKCkpLCBqZSA9IChlKSA9PiB7XG4gIGNvbnN0IFtuLCB0XSA9IHIudXNlU3RhdGUoeyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xuICByLnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGUuY3VycmVudCkge1xuICAgICAgY29uc3QgeyB3aWR0aDogcywgaGVpZ2h0OiBjIH0gPSBlLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0KHsgd2lkdGg6IHMsIGhlaWdodDogYyB9KTtcbiAgICB9XG4gIH0sIFtlLmN1cnJlbnRdKTtcbiAgY29uc3QgYSA9IHIudXNlQ2FsbGJhY2soXG4gICAgKHMpID0+IHQocy5jb250ZW50UmVjdCksXG4gICAgW11cbiAgKTtcbiAgcmV0dXJuICRlKGUsIGEpLCBuO1xufTtcbmZ1bmN0aW9uIGIoZSwgbiwgdCA9ICEwKSB7XG4gIGNvbnN0IFthLCBzXSA9IHIudXNlU3RhdGUobik7XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHQgJiYgcyhuKSwgdHlwZW9mIHdpbmRvdyA+IFwidVwiIHx8ICFlKSByZXR1cm47XG4gICAgY29uc3QgYyA9IGUuc3Vic2NyaWJlKHMpO1xuICAgIHJldHVybiAoKSA9PiBjLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtlLCB0XSksIGE7XG59XG5mdW5jdGlvbiBndChlKSB7XG4gIGNvbnN0IG4gPSAoYykgPT4gdHlwZW9mIHdpbmRvdyA8IFwidVwiID8gd2luZG93Lm1hdGNoTWVkaWEoYykubWF0Y2hlcyA6ICExLCBbdCwgYV0gPSByLnVzZVN0YXRlKG4oZSkpO1xuICBmdW5jdGlvbiBzKCkge1xuICAgIGEobihlKSk7XG4gIH1cbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjID0gd2luZG93Lm1hdGNoTWVkaWEoZSk7XG4gICAgcmV0dXJuIHMoKSwgYy5hZGRMaXN0ZW5lciA/IGMuYWRkTGlzdGVuZXIocykgOiBjLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgcyksICgpID0+IHtcbiAgICAgIGMucmVtb3ZlTGlzdGVuZXIgPyBjLnJlbW92ZUxpc3RlbmVyKHMpIDogYy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHMpO1xuICAgIH07XG4gIH0sIFtlXSksIHQ7XG59XG5mdW5jdGlvbiBTdChlKSB7XG4gIGNvbnN0IG4gPSBrKGUpLCB0ID0gci51c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgbi5zdGFydEF1ZGlvKCk7XG4gIH0sIFtuXSksIGEgPSByLnVzZU1lbW8oXG4gICAgKCkgPT4gSChuKSxcbiAgICBbbl1cbiAgKSwgeyBjYW5QbGF5QXVkaW86IHMgfSA9IGIoYSwge1xuICAgIGNhblBsYXlBdWRpbzogbi5jYW5QbGF5YmFja0F1ZGlvXG4gIH0pO1xuICByZXR1cm4geyBjYW5QbGF5QXVkaW86IHMsIHN0YXJ0QXVkaW86IHQgfTtcbn1cbmZ1bmN0aW9uIHZ0KGUpIHtcbiAgY29uc3QgeyBzdGF0ZTogbiwgZGlzcGF0Y2g6IHQgfSA9IEooKS5waW47XG4gIHJldHVybiB7IGJ1dHRvblByb3BzOiByLnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHsgY2xhc3NOYW1lOiBzIH0gPSBqKCk7XG4gICAgcmV0dXJuIEUoZSwge1xuICAgICAgY2xhc3NOYW1lOiBzLFxuICAgICAgZGlzYWJsZWQ6ICEobiAhPSBudWxsICYmIG4ubGVuZ3RoKSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdCAmJiB0KHsgbXNnOiBcImNsZWFyX3BpblwiIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbZSwgdCwgbl0pIH07XG59XG5mdW5jdGlvbiBodChlID0ge30pIHtcbiAgY29uc3QgbiA9IHcoZS5wYXJ0aWNpcGFudCksIHsgY2xhc3NOYW1lOiB0LCBjb25uZWN0aW9uUXVhbGl0eU9ic2VydmVyOiBhIH0gPSByLnVzZU1lbW8oXG4gICAgKCkgPT4gWChuKSxcbiAgICBbbl1cbiAgKSwgcyA9IGIoYSwgVWUuVW5rbm93bik7XG4gIHJldHVybiB7IGNsYXNzTmFtZTogdCwgcXVhbGl0eTogcyB9O1xufVxuZnVuY3Rpb24gSShlKSB7XG4gIGNvbnN0IG4gPSBrKGUpLCB0ID0gci51c2VNZW1vKCgpID0+IHgobiksIFtuXSk7XG4gIHJldHVybiBiKHQsIG4uc3RhdGUpO1xufVxuZnVuY3Rpb24gTXQoZSwgbikge1xuICBjb25zdCB0ID0gdHlwZW9mIGUgPT0gXCJmdW5jdGlvblwiID8gZSA6IG4sIGEgPSB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8gZSA6IHZvaWQgMCwgcyA9IEEoKSwgeyBzZW5kOiBjLCBtZXNzYWdlT2JzZXJ2YWJsZTogbywgaXNTZW5kaW5nT2JzZXJ2YWJsZTogdSB9ID0gci51c2VNZW1vKFxuICAgICgpID0+IFkocywgYSwgdCksXG4gICAgW3MsIGEsIHRdXG4gICksIGkgPSBiKG8sIHZvaWQgMCksIGwgPSBiKHUsICExKTtcbiAgcmV0dXJuIHtcbiAgICBtZXNzYWdlOiBpLFxuICAgIHNlbmQ6IGMsXG4gICAgaXNTZW5kaW5nOiBsXG4gIH07XG59XG5mdW5jdGlvbiB5dChlKSB7XG4gIGNvbnN0IG4gPSBBKCksIHQgPSBJKG4pO1xuICByZXR1cm4geyBidXR0b25Qcm9wczogci51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB7IGNsYXNzTmFtZTogcywgZGlzY29ubmVjdDogYyB9ID0gSyhuKTtcbiAgICByZXR1cm4gRShlLCB7XG4gICAgICBjbGFzc05hbWU6IHMsXG4gICAgICBvbkNsaWNrOiAoKSA9PiBjKGUuc3RvcFRyYWNrcyA/PyAhMCksXG4gICAgICBkaXNhYmxlZDogdCA9PT0gTy5EaXNjb25uZWN0ZWRcbiAgICB9KTtcbiAgfSwgW24sIGUsIHRdKSB9O1xufVxuZnVuY3Rpb24gWGUoZSkge1xuICBpZiAoZS5wdWJsaWNhdGlvbiBpbnN0YW5jZW9mIHFlKSB7XG4gICAgY29uc3QgbiA9IGUucHVibGljYXRpb24udHJhY2s7XG4gICAgaWYgKG4pIHtcbiAgICAgIGNvbnN0IHsgZmFjaW5nTW9kZTogdCB9ID0gSmUobik7XG4gICAgICByZXR1cm4gdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG59XG5mdW5jdGlvbiBQdCh7IHRyYWNrUmVmOiBlLCBwcm9wczogbiB9KSB7XG4gIGNvbnN0IHQgPSBSKGUpLCBhID0gWigpLCB7IGNsYXNzTmFtZTogcyB9ID0gci51c2VNZW1vKCgpID0+IGVlKCksIFtdKSwgYyA9IHIudXNlTWVtbygoKSA9PiB0ZSh0LCBhID09IG51bGwgPyB2b2lkIDAgOiBhLnBpbi5zdGF0ZSksIFt0LCBhID09IG51bGwgPyB2b2lkIDAgOiBhLnBpbi5zdGF0ZV0pO1xuICByZXR1cm4geyBtZXJnZWRQcm9wczogci51c2VNZW1vKFxuICAgICgpID0+IEUobiwge1xuICAgICAgY2xhc3NOYW1lOiBzLFxuICAgICAgb25DbGljazogKHUpID0+IHtcbiAgICAgICAgdmFyIGksIGwsIGQsIGYsIHA7XG4gICAgICAgIChpID0gbi5vbkNsaWNrKSA9PSBudWxsIHx8IGkuY2FsbChuLCB1KSwgYyA/IChkID0gYSA9PSBudWxsID8gdm9pZCAwIDogKGwgPSBhLnBpbikuZGlzcGF0Y2gpID09IG51bGwgfHwgZC5jYWxsKGwsIHtcbiAgICAgICAgICBtc2c6IFwiY2xlYXJfcGluXCJcbiAgICAgICAgfSkgOiAocCA9IGEgPT0gbnVsbCA/IHZvaWQgMCA6IChmID0gYS5waW4pLmRpc3BhdGNoKSA9PSBudWxsIHx8IHAuY2FsbChmLCB7XG4gICAgICAgICAgbXNnOiBcInNldF9waW5cIixcbiAgICAgICAgICB0cmFja1JlZmVyZW5jZTogdFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBbbiwgcywgdCwgYywgYSA9PSBudWxsID8gdm9pZCAwIDogYS5waW5dXG4gICksIGluRm9jdXM6IGMgfTtcbn1cbmZ1bmN0aW9uIGt0KGUsIG4sIHQgPSB7fSkge1xuICBjb25zdCBhID0gdC5ncmlkTGF5b3V0cyA/PyBuZSwgeyB3aWR0aDogcywgaGVpZ2h0OiBjIH0gPSBqZShlKSwgbyA9IHNlKGEsIG4sIHMsIGMpO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGUuY3VycmVudCAmJiBvICYmIChlLmN1cnJlbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWxrLWNvbC1jb3VudFwiLCBvID09IG51bGwgPyB2b2lkIDAgOiBvLmNvbHVtbnMudG9TdHJpbmcoKSksIGUuY3VycmVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tbGstcm93LWNvdW50XCIsIG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8ucm93cy50b1N0cmluZygpKSk7XG4gIH0sIFtlLCBvXSksIHtcbiAgICBsYXlvdXQ6IG8sXG4gICAgY29udGFpbmVyV2lkdGg6IHMsXG4gICAgY29udGFpbmVySGVpZ2h0OiBjXG4gIH07XG59XG5mdW5jdGlvbiB6KGUsIG4gPSB7fSkge1xuICB2YXIgdSwgaTtcbiAgY29uc3QgdCA9IHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyBuLnBhcnRpY2lwYW50IDogZS5wYXJ0aWNpcGFudCwgYSA9IHcodCksIHMgPSB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8geyBwYXJ0aWNpcGFudDogYSwgc291cmNlOiBlIH0gOiBlLCBbYywgb10gPSByLnVzZVN0YXRlKFxuICAgICEhKCh1ID0gcy5wdWJsaWNhdGlvbikgIT0gbnVsbCAmJiB1LmlzTXV0ZWQgfHwgKGkgPSBhLmdldFRyYWNrUHVibGljYXRpb24ocy5zb3VyY2UpKSAhPSBudWxsICYmIGkuaXNNdXRlZClcbiAgKTtcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsID0gYWUocykuc3Vic2NyaWJlKG8pO1xuICAgIHJldHVybiAoKSA9PiBsLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtGKHMpXSksIGM7XG59XG5mdW5jdGlvbiB4ZShlKSB7XG4gIGNvbnN0IG4gPSB3KGUpLCB0ID0gci51c2VNZW1vKCgpID0+IHJlKG4pLCBbbl0pO1xuICByZXR1cm4gYih0LCBuLmlzU3BlYWtpbmcpO1xufVxuZnVuY3Rpb24gWWUoZSA9IHt9KSB7XG4gIGNvbnN0IG4gPSBrKGUucm9vbSksIFt0LCBhXSA9IHIudXNlU3RhdGUobi5sb2NhbFBhcnRpY2lwYW50KSwgW3MsIGNdID0gci51c2VTdGF0ZShcbiAgICB0LmlzTWljcm9waG9uZUVuYWJsZWRcbiAgKSwgW28sIHVdID0gci51c2VTdGF0ZShcbiAgICB0LmlzTWljcm9waG9uZUVuYWJsZWRcbiAgKSwgW2ksIGxdID0gci51c2VTdGF0ZShcbiAgICB0Lmxhc3RNaWNyb3Bob25lRXJyb3JcbiAgKSwgW2QsIGZdID0gci51c2VTdGF0ZSh0Lmxhc3RDYW1lcmFFcnJvciksIFtwLCBtXSA9IHIudXNlU3RhdGUoXG4gICAgdC5pc01pY3JvcGhvbmVFbmFibGVkXG4gICksIFtnLCBTXSA9IHIudXNlU3RhdGUoXG4gICAgdm9pZCAwXG4gICksIFtNLCB2XSA9IHIudXNlU3RhdGUodm9pZCAwKSwgUCA9IChoKSA9PiB7XG4gICAgdShoLmlzQ2FtZXJhRW5hYmxlZCksIGMoaC5pc01pY3JvcGhvbmVFbmFibGVkKSwgbShoLmlzU2NyZWVuU2hhcmVFbmFibGVkKSwgdihoLmNhbWVyYVRyYWNrKSwgUyhoLm1pY3JvcGhvbmVUcmFjayksIGwoaC5wYXJ0aWNpcGFudC5sYXN0TWljcm9waG9uZUVycm9yKSwgZihoLnBhcnRpY2lwYW50Lmxhc3RDYW1lcmFFcnJvciksIGEoaC5wYXJ0aWNpcGFudCk7XG4gIH07XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaCA9IGNlKG4ubG9jYWxQYXJ0aWNpcGFudCkuc3Vic2NyaWJlKFApO1xuICAgIHJldHVybiAoKSA9PiBoLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtuXSksIHtcbiAgICBpc01pY3JvcGhvbmVFbmFibGVkOiBzLFxuICAgIGlzU2NyZWVuU2hhcmVFbmFibGVkOiBwLFxuICAgIGlzQ2FtZXJhRW5hYmxlZDogbyxcbiAgICBtaWNyb3Bob25lVHJhY2s6IGcsXG4gICAgY2FtZXJhVHJhY2s6IE0sXG4gICAgbGFzdE1pY3JvcGhvbmVFcnJvcjogaSxcbiAgICBsYXN0Q2FtZXJhRXJyb3I6IGQsXG4gICAgbG9jYWxQYXJ0aWNpcGFudDogdFxuICB9O1xufVxuZnVuY3Rpb24gRXQoKSB7XG4gIGNvbnN0IGUgPSBBKCksIG4gPSByLnVzZU1lbW8oXG4gICAgKCkgPT4gXyhlLmxvY2FsUGFydGljaXBhbnQpLFxuICAgIFtlXVxuICApO1xuICByZXR1cm4gYihuLCBlLmxvY2FsUGFydGljaXBhbnQucGVybWlzc2lvbnMpO1xufVxuZnVuY3Rpb24gVHQoe1xuICBraW5kOiBlLFxuICByb29tOiBuLFxuICB0cmFjazogdCxcbiAgcmVxdWVzdFBlcm1pc3Npb25zOiBhLFxuICBvbkVycm9yOiBzXG59KSB7XG4gIGNvbnN0IGMgPSBXKCksIG8gPSByLnVzZU1lbW8oXG4gICAgKCkgPT4gUShlLCBzLCBhKSxcbiAgICBbZSwgYSwgc11cbiAgKSwgdSA9IGIobywgW10pLCBbaSwgbF0gPSByLnVzZVN0YXRlKFxuICAgIChjID09IG51bGwgPyB2b2lkIDAgOiBjLmdldEFjdGl2ZURldmljZShlKSkgPz8gXCJcIlxuICApLCB7IGNsYXNzTmFtZTogZCwgYWN0aXZlRGV2aWNlT2JzZXJ2YWJsZTogZiwgc2V0QWN0aXZlTWVkaWFEZXZpY2U6IHAgfSA9IHIudXNlTWVtbyhcbiAgICAoKSA9PiBvZShlLCBuID8/IGMsIHQpLFxuICAgIFtlLCBuLCBjLCB0XVxuICApO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG0gPSBmLnN1YnNjcmliZSgoZykgPT4ge1xuICAgICAgZyAmJiBnICE9PSBpICYmIChULmluZm8oXCJzZXRDdXJyZW50RGV2aWNlSWRcIiwgZyksIGwoZykpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBtID09IG51bGwgfHwgbS51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFtmXSksIHsgZGV2aWNlczogdSwgY2xhc3NOYW1lOiBkLCBhY3RpdmVEZXZpY2VJZDogaSwgc2V0QWN0aXZlTWVkaWFEZXZpY2U6IHAgfTtcbn1cbmZ1bmN0aW9uIHd0KHtcbiAga2luZDogZSxcbiAgb25FcnJvcjogblxufSkge1xuICBjb25zdCB0ID0gci51c2VNZW1vKFxuICAgICgpID0+IFEoZSwgbiksXG4gICAgW2UsIG5dXG4gICk7XG4gIHJldHVybiBiKHQsIFtdKTtcbn1cbmZ1bmN0aW9uIEtlKGUsIG4sIHQgPSB7fSkge1xuICBjb25zdCBhID0gci51c2VSZWYoW10pLCBzID0gci51c2VSZWYoLTEpLCBjID0gbiAhPT0gcy5jdXJyZW50LCBvID0gdHlwZW9mIHQuY3VzdG9tU29ydEZ1bmN0aW9uID09IFwiZnVuY3Rpb25cIiA/IHQuY3VzdG9tU29ydEZ1bmN0aW9uKGUpIDogaWUoZSk7XG4gIGxldCB1ID0gWy4uLm9dO1xuICBpZiAoYyA9PT0gITEpXG4gICAgdHJ5IHtcbiAgICAgIHUgPSB1ZShhLmN1cnJlbnQsIG8sIG4pO1xuICAgIH0gY2F0Y2ggKGkpIHtcbiAgICAgIFQuZXJyb3IoXCJFcnJvciB3aGlsZSBydW5uaW5nIHVwZGF0ZVBhZ2VzKCk6IFwiLCBpKTtcbiAgICB9XG4gIHJldHVybiBjID8gYS5jdXJyZW50ID0gbyA6IGEuY3VycmVudCA9IHUsIHMuY3VycmVudCA9IG4sIHU7XG59XG5mdW5jdGlvbiBBdChlLCBuKSB7XG4gIGNvbnN0IFt0LCBhXSA9IHIudXNlU3RhdGUoMSksIHMgPSBNYXRoLm1heChNYXRoLmNlaWwobi5sZW5ndGggLyBlKSwgMSk7XG4gIHQgPiBzICYmIGEocyk7XG4gIGNvbnN0IGMgPSB0ICogZSwgbyA9IGMgLSBlLCB1ID0gKGYpID0+IHtcbiAgICBhKChwKSA9PiBmID09PSBcIm5leHRcIiA/IHAgPT09IHMgPyBwIDogcCArIDEgOiBwID09PSAxID8gcCA6IHAgLSAxKTtcbiAgfSwgaSA9IChmKSA9PiB7XG4gICAgZiA+IHMgPyBhKHMpIDogZiA8IDEgPyBhKDEpIDogYShmKTtcbiAgfSwgZCA9IEtlKG4sIGUpLnNsaWNlKG8sIGMpO1xuICByZXR1cm4ge1xuICAgIHRvdGFsUGFnZUNvdW50OiBzLFxuICAgIG5leHRQYWdlOiAoKSA9PiB1KFwibmV4dFwiKSxcbiAgICBwcmV2UGFnZTogKCkgPT4gdShcInByZXZpb3VzXCIpLFxuICAgIHNldFBhZ2U6IGksXG4gICAgZmlyc3RJdGVtSW5kZXg6IG8sXG4gICAgbGFzdEl0ZW1JbmRleDogYyxcbiAgICB0cmFja3M6IGQsXG4gICAgY3VycmVudFBhZ2U6IHRcbiAgfTtcbn1cbmZ1bmN0aW9uIEN0KGUgPSB7fSkge1xuICBsZXQgbiA9IE4oKTtcbiAgZS5wYXJ0aWNpcGFudCAmJiAobiA9IGUucGFydGljaXBhbnQpO1xuICBjb25zdCB0ID0gci51c2VNZW1vKCgpID0+IGxlKG4pLCBbbl0pLCB7IGlkZW50aXR5OiBhLCBuYW1lOiBzLCBtZXRhZGF0YTogYyB9ID0gYih0LCB7XG4gICAgbmFtZTogbiA9PSBudWxsID8gdm9pZCAwIDogbi5uYW1lLFxuICAgIGlkZW50aXR5OiBuID09IG51bGwgPyB2b2lkIDAgOiBuLmlkZW50aXR5LFxuICAgIG1ldGFkYXRhOiBuID09IG51bGwgPyB2b2lkIDAgOiBuLm1ldGFkYXRhXG4gIH0pO1xuICByZXR1cm4geyBpZGVudGl0eTogYSwgbmFtZTogcywgbWV0YWRhdGE6IGMgfTtcbn1cbmZ1bmN0aW9uIE90KGUgPSB7fSkge1xuICBjb25zdCBuID0gdyhlLnBhcnRpY2lwYW50KSwgdCA9IHIudXNlTWVtbygoKSA9PiBfKG4pLCBbbl0pO1xuICByZXR1cm4gYih0LCBuLnBlcm1pc3Npb25zKTtcbn1cbmZ1bmN0aW9uIEl0KHtcbiAgdHJhY2tSZWY6IGUsXG4gIG9uUGFydGljaXBhbnRDbGljazogbixcbiAgZGlzYWJsZVNwZWFraW5nSW5kaWNhdG9yOiB0LFxuICBodG1sUHJvcHM6IGFcbn0pIHtcbiAgY29uc3QgcyA9IFIoZSksIGMgPSByLnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHsgY2xhc3NOYW1lOiBwIH0gPSBkZSgpO1xuICAgIHJldHVybiBFKGEsIHtcbiAgICAgIGNsYXNzTmFtZTogcCxcbiAgICAgIG9uQ2xpY2s6IChtKSA9PiB7XG4gICAgICAgIHZhciBnO1xuICAgICAgICBpZiAoKGcgPSBhLm9uQ2xpY2spID09IG51bGwgfHwgZy5jYWxsKGEsIG0pLCB0eXBlb2YgbiA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjb25zdCBTID0gcy5wdWJsaWNhdGlvbiA/PyBzLnBhcnRpY2lwYW50LmdldFRyYWNrUHVibGljYXRpb24ocy5zb3VyY2UpO1xuICAgICAgICAgIG4oeyBwYXJ0aWNpcGFudDogcy5wYXJ0aWNpcGFudCwgdHJhY2s6IFMgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW1xuICAgIGEsXG4gICAgbixcbiAgICBzLnB1YmxpY2F0aW9uLFxuICAgIHMuc291cmNlLFxuICAgIHMucGFydGljaXBhbnRcbiAgXSksIG8gPSBzLnBhcnRpY2lwYW50LmdldFRyYWNrUHVibGljYXRpb24oeS5Tb3VyY2UuTWljcm9waG9uZSksIHUgPSByLnVzZU1lbW8oKCkgPT4gKHtcbiAgICBwYXJ0aWNpcGFudDogcy5wYXJ0aWNpcGFudCxcbiAgICBzb3VyY2U6IHkuU291cmNlLk1pY3JvcGhvbmUsXG4gICAgcHVibGljYXRpb246IG9cbiAgfSksIFtvLCBzLnBhcnRpY2lwYW50XSksIGkgPSB6KHMpLCBsID0geih1KSwgZCA9IHhlKHMucGFydGljaXBhbnQpLCBmID0gWGUocyk7XG4gIHJldHVybiB7XG4gICAgZWxlbWVudFByb3BzOiB7XG4gICAgICBcImRhdGEtbGstYXVkaW8tbXV0ZWRcIjogbCxcbiAgICAgIFwiZGF0YS1say12aWRlby1tdXRlZFwiOiBpLFxuICAgICAgXCJkYXRhLWxrLXNwZWFraW5nXCI6IHQgPT09ICEwID8gITEgOiBkLFxuICAgICAgXCJkYXRhLWxrLWxvY2FsLXBhcnRpY2lwYW50XCI6IHMucGFydGljaXBhbnQuaXNMb2NhbCxcbiAgICAgIFwiZGF0YS1say1zb3VyY2VcIjogcy5zb3VyY2UsXG4gICAgICBcImRhdGEtbGstZmFjaW5nLW1vZGVcIjogZixcbiAgICAgIC4uLmNcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBHKGUgPSB7fSkge1xuICBjb25zdCBuID0gayhlLnJvb20pLCBbdCwgYV0gPSByLnVzZVN0YXRlKFtdKTtcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzID0gZmUobiwge1xuICAgICAgYWRkaXRpb25hbFJvb21FdmVudHM6IGUudXBkYXRlT25seU9uXG4gICAgfSkuc3Vic2NyaWJlKGEpO1xuICAgIHJldHVybiAoKSA9PiBzLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFtuLCBKU09OLnN0cmluZ2lmeShlLnVwZGF0ZU9ubHlPbildKSwgdDtcbn1cbmZ1bmN0aW9uIER0KGUgPSB7fSkge1xuICBjb25zdCBuID0gRyhlKSwgeyBsb2NhbFBhcnRpY2lwYW50OiB0IH0gPSBZZShlKTtcbiAgcmV0dXJuIHIudXNlTWVtbyhcbiAgICAoKSA9PiBbdCwgLi4ubl0sXG4gICAgW3QsIG5dXG4gICk7XG59XG5mdW5jdGlvbiBMdChlKSB7XG4gIHJldHVybiBlID0gcGUoZSksIHIudXNlTWVtbygoKSA9PiAoZSA9PSBudWxsID8gdm9pZCAwIDogZS5waW4uc3RhdGUpICE9PSB2b2lkIDAgJiYgZS5waW4uc3RhdGUubGVuZ3RoID49IDEgPyBlLnBpbi5zdGF0ZSA6IFtdLCBbZS5waW4uc3RhdGVdKTtcbn1cbmZ1bmN0aW9uIFJ0KGUsIG4gPSB7fSkge1xuICBjb25zdCB0ID0gQSgpLCBbYV0gPSByLnVzZVN0YXRlKG4udXBkYXRlT25seU9uKSwgcyA9IHIudXNlTWVtbygoKSA9PiB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8gYmUodCwgZSwge1xuICAgIGFkZGl0aW9uYWxFdmVudHM6IGFcbiAgfSkgOiBtZSh0LCBlLCB7XG4gICAgYWRkaXRpb25hbEV2ZW50czogYVxuICB9KSwgW3QsIEpTT04uc3RyaW5naWZ5KGUpLCBhXSksIFtjLCBvXSA9IHIudXNlU3RhdGUoe1xuICAgIHA6IHZvaWQgMFxuICB9KTtcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1ID0gcy5zdWJzY3JpYmUoKGkpID0+IG8oeyBwOiBpIH0pKTtcbiAgICByZXR1cm4gKCkgPT4gdS51bnN1YnNjcmliZSgpO1xuICB9LCBbc10pLCBjLnA7XG59XG5mdW5jdGlvbiBGdChlID0ge30pIHtcbiAgY29uc3QgbiA9IGsoZS5yb29tKSwgdCA9IHIudXNlTWVtbygoKSA9PiBnZShuKSwgW25dKSwgeyBuYW1lOiBhLCBtZXRhZGF0YTogcyB9ID0gYih0LCB7XG4gICAgbmFtZTogbi5uYW1lLFxuICAgIG1ldGFkYXRhOiBuLm1ldGFkYXRhXG4gIH0pO1xuICByZXR1cm4geyBuYW1lOiBhLCBtZXRhZGF0YTogcyB9O1xufVxuZnVuY3Rpb24gWmUoKSB7XG4gIGNvbnN0IGUgPSBBKCksIG4gPSByLnVzZU1lbW8oKCkgPT4gU2UoZSksIFtlXSk7XG4gIHJldHVybiBiKG4sIGUuYWN0aXZlU3BlYWtlcnMpO1xufVxuZnVuY3Rpb24gTnQoZSkge1xuICBjb25zdCBbbiwgdF0gPSByLnVzZVN0YXRlKFxuICAgIEIoZSlcbiAgKSwgYSA9IFplKCk7XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdChCKGUpKTtcbiAgfSwgW2EsIGVdKSwgbjtcbn1cbmZ1bmN0aW9uIFZ0KHsgcm9vbTogZSwgcHJvcHM6IG4gfSkge1xuICBjb25zdCB0ID0gayhlKSwgeyBjbGFzc05hbWU6IGEsIHJvb21BdWRpb1BsYXliYWNrQWxsb3dlZE9ic2VydmFibGU6IHMsIGhhbmRsZVN0YXJ0QXVkaW9QbGF5YmFjazogYyB9ID0gci51c2VNZW1vKFxuICAgICgpID0+IHZlKCksXG4gICAgW11cbiAgKSwgbyA9IHIudXNlTWVtbyhcbiAgICAoKSA9PiBzKHQpLFxuICAgIFt0LCBzXVxuICApLCB7IGNhblBsYXlBdWRpbzogdSB9ID0gYihvLCB7XG4gICAgY2FuUGxheUF1ZGlvOiB0LmNhblBsYXliYWNrQXVkaW9cbiAgfSk7XG4gIHJldHVybiB7IG1lcmdlZFByb3BzOiByLnVzZU1lbW8oXG4gICAgKCkgPT4gRShuLCB7XG4gICAgICBjbGFzc05hbWU6IGEsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIGModCk7XG4gICAgICB9LFxuICAgICAgc3R5bGU6IHsgZGlzcGxheTogdSA/IFwibm9uZVwiIDogXCJibG9ja1wiIH1cbiAgICB9KSxcbiAgICBbbiwgYSwgdSwgYywgdF1cbiAgKSwgY2FuUGxheUF1ZGlvOiB1IH07XG59XG5mdW5jdGlvbiBCdCh7IHJvb206IGUsIHByb3BzOiBuIH0pIHtcbiAgY29uc3QgdCA9IGsoZSksIHsgY2xhc3NOYW1lOiBhLCByb29tVmlkZW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlOiBzLCBoYW5kbGVTdGFydFZpZGVvUGxheWJhY2s6IGMgfSA9IHIudXNlTWVtbyhcbiAgICAoKSA9PiBoZSgpLFxuICAgIFtdXG4gICksIG8gPSByLnVzZU1lbW8oXG4gICAgKCkgPT4gcyh0KSxcbiAgICBbdCwgc11cbiAgKSwgeyBjYW5QbGF5VmlkZW86IHUgfSA9IGIobywge1xuICAgIGNhblBsYXlWaWRlbzogdC5jYW5QbGF5YmFja1ZpZGVvXG4gIH0pO1xuICByZXR1cm4geyBtZXJnZWRQcm9wczogci51c2VNZW1vKFxuICAgICgpID0+IEUobiwge1xuICAgICAgY2xhc3NOYW1lOiBhLFxuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBjKHQpO1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7IGRpc3BsYXk6IHUgPyBcIm5vbmVcIiA6IFwiYmxvY2tcIiB9XG4gICAgfSksXG4gICAgW24sIGEsIHUsIGMsIHRdXG4gICksIGNhblBsYXlWaWRlbzogdSB9O1xufVxuZnVuY3Rpb24genQoZSwgbiA9IHt9KSB7XG4gIGNvbnN0IHQgPSByLnVzZVJlZihudWxsKSwgYSA9IHIudXNlUmVmKG51bGwpLCBzID0gbi5taW5Td2lwZURpc3RhbmNlID8/IDUwLCBjID0gKGkpID0+IHtcbiAgICBhLmN1cnJlbnQgPSBudWxsLCB0LmN1cnJlbnQgPSBpLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgfSwgbyA9IChpKSA9PiB7XG4gICAgYS5jdXJyZW50ID0gaS50YXJnZXRUb3VjaGVzWzBdLmNsaWVudFg7XG4gIH0sIHUgPSByLnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIXQuY3VycmVudCB8fCAhYS5jdXJyZW50KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGkgPSB0LmN1cnJlbnQgLSBhLmN1cnJlbnQsIGwgPSBpID4gcywgZCA9IGkgPCAtcztcbiAgICBsICYmIG4ub25MZWZ0U3dpcGUgJiYgbi5vbkxlZnRTd2lwZSgpLCBkICYmIG4ub25SaWdodFN3aXBlICYmIG4ub25SaWdodFN3aXBlKCk7XG4gIH0sIFtzLCBuXSk7XG4gIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpID0gZS5jdXJyZW50O1xuICAgIHJldHVybiBpICYmIChpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGMsIHsgcGFzc2l2ZTogITAgfSksIGkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBvLCB7IHBhc3NpdmU6ICEwIH0pLCBpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB1LCB7IHBhc3NpdmU6ICEwIH0pKSwgKCkgPT4ge1xuICAgICAgaSAmJiAoaS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBjKSwgaS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIG8pLCBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB1KSk7XG4gICAgfTtcbiAgfSwgW2UsIHVdKTtcbn1cbmZ1bmN0aW9uIFV0KHsgcHJvcHM6IGUgfSkge1xuICBjb25zdCB7IGRpc3BhdGNoOiBuLCBzdGF0ZTogdCB9ID0gSigpLndpZGdldCwgeyBjbGFzc05hbWU6IGEgfSA9IHIudXNlTWVtbygoKSA9PiBNZSgpLCBbXSk7XG4gIHJldHVybiB7IG1lcmdlZFByb3BzOiByLnVzZU1lbW8oKCkgPT4gRShlLCB7XG4gICAgY2xhc3NOYW1lOiBhLFxuICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgIG4gJiYgbih7IG1zZzogXCJ0b2dnbGVfY2hhdFwiIH0pO1xuICAgIH0sXG4gICAgXCJhcmlhLXByZXNzZWRcIjogdCAhPSBudWxsICYmIHQuc2hvd0NoYXQgPyBcInRydWVcIiA6IFwiZmFsc2VcIixcbiAgICBcImRhdGEtbGstdW5yZWFkLW1zZ3NcIjogdCA/IHQudW5yZWFkTWVzc2FnZXMgPCAxMCA/IHQudW5yZWFkTWVzc2FnZXMudG9GaXhlZCgwKSA6IFwiOStcIiA6IFwiMFwiXG4gIH0pLCBbZSwgYSwgbiwgdF0pIH07XG59XG5mdW5jdGlvbiBxdChlLCBuLCB0ID0ge30pIHtcbiAgY29uc3QgW2EsIHNdID0gci51c2VTdGF0ZSh2b2lkIDApO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciBvO1xuICAgIGlmIChlID09PSB2b2lkIDApXG4gICAgICB0aHJvdyBFcnJvcihcInRva2VuIGVuZHBvaW50IG5lZWRzIHRvIGJlIGRlZmluZWRcIik7XG4gICAgaWYgKCgobyA9IHQudXNlckluZm8pID09IG51bGwgPyB2b2lkIDAgOiBvLmlkZW50aXR5KSA9PT0gdm9pZCAwKVxuICAgICAgcmV0dXJuO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBULmRlYnVnKFwiZmV0Y2hpbmcgdG9rZW5cIik7XG4gICAgICBjb25zdCB1ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7IC4uLnQudXNlckluZm8sIHJvb21OYW1lOiBuIH0pLCBpID0gYXdhaXQgZmV0Y2goYCR7ZX0/JHt1LnRvU3RyaW5nKCl9YCk7XG4gICAgICBpZiAoIWkub2spIHtcbiAgICAgICAgVC5lcnJvcihcbiAgICAgICAgICBgQ291bGQgbm90IGZldGNoIHRva2VuLiBTZXJ2ZXIgcmVzcG9uZGVkIHdpdGggc3RhdHVzICR7aS5zdGF0dXN9OiAke2kuc3RhdHVzVGV4dH1gXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgYWNjZXNzVG9rZW46IGwgfSA9IGF3YWl0IGkuanNvbigpO1xuICAgICAgcyhsKTtcbiAgICB9KSgpO1xuICB9LCBbZSwgbiwgSlNPTi5zdHJpbmdpZnkodCldKSwgYTtcbn1cbmZ1bmN0aW9uIEp0KGUpIHtcbiAgdmFyIGMsIG87XG4gIGNvbnN0IG4gPSBSKGUpLCB7IGNsYXNzTmFtZTogdCwgbWVkaWFNdXRlZE9ic2VydmVyOiBhIH0gPSByLnVzZU1lbW8oXG4gICAgKCkgPT4geWUobiksXG4gICAgW0YobildXG4gICk7XG4gIHJldHVybiB7IGlzTXV0ZWQ6IGIoXG4gICAgYSxcbiAgICAhISgoYyA9IG4ucHVibGljYXRpb24pICE9IG51bGwgJiYgYy5pc011dGVkIHx8IChvID0gbi5wYXJ0aWNpcGFudC5nZXRUcmFja1B1YmxpY2F0aW9uKG4uc291cmNlKSkgIT0gbnVsbCAmJiBvLmlzTXV0ZWQpXG4gICksIGNsYXNzTmFtZTogdCB9O1xufVxuZnVuY3Rpb24gX3Qoe1xuICBzb3VyY2U6IGUsXG4gIG9uQ2hhbmdlOiBuLFxuICBpbml0aWFsU3RhdGU6IHQsXG4gIGNhcHR1cmVPcHRpb25zOiBhLFxuICBwdWJsaXNoT3B0aW9uczogcyxcbiAgb25EZXZpY2VFcnJvcjogYyxcbiAgLi4ub1xufSkge1xuICB2YXIgUDtcbiAgY29uc3QgdSA9IFcoKSwgaSA9IChQID0gdSA9PSBudWxsID8gdm9pZCAwIDogdS5sb2NhbFBhcnRpY2lwYW50KSA9PSBudWxsID8gdm9pZCAwIDogUC5nZXRUcmFja1B1YmxpY2F0aW9uKGUpLCBsID0gci51c2VSZWYoITEpLCB7IHRvZ2dsZTogZCwgY2xhc3NOYW1lOiBmLCBwZW5kaW5nT2JzZXJ2ZXI6IHAsIGVuYWJsZWRPYnNlcnZlcjogbSB9ID0gci51c2VNZW1vKFxuICAgICgpID0+IHUgPyBQZShlLCB1LCBhLCBzLCBjKSA6IGtlKCksXG4gICAgW3UsIGUsIEpTT04uc3RyaW5naWZ5KGEpLCBzXVxuICApLCBnID0gYihwLCAhMSksIFMgPSBiKG0sIHQgPz8gISEoaSAhPSBudWxsICYmIGkuaXNFbmFibGVkKSk7XG4gIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBuID09IG51bGwgfHwgbihTLCBsLmN1cnJlbnQpLCBsLmN1cnJlbnQgPSAhMTtcbiAgfSwgW1MsIG5dKSwgci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHQgIT09IHZvaWQgMCAmJiAoVC5kZWJ1ZyhcImZvcmNpbmcgaW5pdGlhbCB0b2dnbGUgc3RhdGVcIiwgZSwgdCksIGQodCkpO1xuICB9LCBbXSk7XG4gIGNvbnN0IE0gPSByLnVzZU1lbW8oKCkgPT4gRShvLCB7IGNsYXNzTmFtZTogZiB9KSwgW28sIGZdKSwgdiA9IHIudXNlQ2FsbGJhY2soXG4gICAgKGgpID0+IHtcbiAgICAgIHZhciBDO1xuICAgICAgbC5jdXJyZW50ID0gITAsIGQoKS5jYXRjaCgoKSA9PiBsLmN1cnJlbnQgPSAhMSksIChDID0gby5vbkNsaWNrKSA9PSBudWxsIHx8IEMuY2FsbChvLCBoKTtcbiAgICB9LFxuICAgIFtvLCBkXVxuICApO1xuICByZXR1cm4ge1xuICAgIHRvZ2dsZTogZCxcbiAgICBlbmFibGVkOiBTLFxuICAgIHBlbmRpbmc6IGcsXG4gICAgdHJhY2s6IGksXG4gICAgYnV0dG9uUHJvcHM6IHtcbiAgICAgIC4uLk0sXG4gICAgICBcImFyaWEtcHJlc3NlZFwiOiBTLFxuICAgICAgXCJkYXRhLWxrLXNvdXJjZVwiOiBlLFxuICAgICAgXCJkYXRhLWxrLWVuYWJsZWRcIjogUyxcbiAgICAgIGRpc2FibGVkOiBnLFxuICAgICAgb25DbGljazogdlxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIFd0KGUgPSBbXG4gIHkuU291cmNlLkNhbWVyYSxcbiAgeS5Tb3VyY2UuTWljcm9waG9uZSxcbiAgeS5Tb3VyY2UuU2NyZWVuU2hhcmUsXG4gIHkuU291cmNlLlNjcmVlblNoYXJlQXVkaW8sXG4gIHkuU291cmNlLlVua25vd25cbl0sIG4gPSB7fSkge1xuICBjb25zdCB0ID0gayhuLnJvb20pLCBbYSwgc10gPSByLnVzZVN0YXRlKFtdKSwgW2MsIG9dID0gci51c2VTdGF0ZShbXSksIHUgPSByLnVzZU1lbW8oKCkgPT4gZS5tYXAoKGwpID0+IEVlKGwpID8gbC5zb3VyY2UgOiBsKSwgW0pTT04uc3RyaW5naWZ5KGUpXSk7XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbCA9IFRlKHQsIHUsIHtcbiAgICAgIGFkZGl0aW9uYWxSb29tRXZlbnRzOiBuLnVwZGF0ZU9ubHlPbixcbiAgICAgIG9ubHlTdWJzY3JpYmVkOiBuLm9ubHlTdWJzY3JpYmVkXG4gICAgfSkuc3Vic2NyaWJlKCh7IHRyYWNrUmVmZXJlbmNlczogZCwgcGFydGljaXBhbnRzOiBmIH0pID0+IHtcbiAgICAgIFQuZGVidWcoXCJzZXR0aW5nIHRyYWNrIGJ1bmRsZXNcIiwgZCwgZiksIHMoZCksIG8oZik7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IGwudW5zdWJzY3JpYmUoKTtcbiAgfSwgW1xuICAgIHQsXG4gICAgSlNPTi5zdHJpbmdpZnkobi5vbmx5U3Vic2NyaWJlZCksXG4gICAgSlNPTi5zdHJpbmdpZnkobi51cGRhdGVPbmx5T24pLFxuICAgIEpTT04uc3RyaW5naWZ5KGUpXG4gIF0pLCByLnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICgkKGUpKSB7XG4gICAgICBjb25zdCBsID0gdHQoZSwgYyksIGQgPSBBcnJheS5mcm9tKGEpO1xuICAgICAgcmV0dXJuIGMuZm9yRWFjaCgoZikgPT4ge1xuICAgICAgICBsLmhhcyhmLmlkZW50aXR5KSAmJiAobC5nZXQoZi5pZGVudGl0eSkgPz8gW10pLmZvckVhY2goKG0pID0+IHtcbiAgICAgICAgICBpZiAoYS5maW5kKFxuICAgICAgICAgICAgKHsgcGFydGljaXBhbnQ6IFMsIHB1YmxpY2F0aW9uOiBNIH0pID0+IGYuaWRlbnRpdHkgPT09IFMuaWRlbnRpdHkgJiYgTS5zb3VyY2UgPT09IG1cbiAgICAgICAgICApKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIFQuZGVidWcoXG4gICAgICAgICAgICBgQWRkICR7bX0gcGxhY2Vob2xkZXIgZm9yIHBhcnRpY2lwYW50ICR7Zi5pZGVudGl0eX0uYFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgZyA9IHtcbiAgICAgICAgICAgIHBhcnRpY2lwYW50OiBmLFxuICAgICAgICAgICAgc291cmNlOiBtXG4gICAgICAgICAgfTtcbiAgICAgICAgICBkLnB1c2goZyk7XG4gICAgICAgIH0pO1xuICAgICAgfSksIGQ7XG4gICAgfSBlbHNlXG4gICAgICByZXR1cm4gYTtcbiAgfSwgW2EsIGMsIGVdKTtcbn1cbmZ1bmN0aW9uIGV0KGUsIG4pIHtcbiAgY29uc3QgdCA9IG5ldyBTZXQoZSk7XG4gIGZvciAoY29uc3QgYSBvZiBuKVxuICAgIHQuZGVsZXRlKGEpO1xuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIHR0KGUsIG4pIHtcbiAgY29uc3QgdCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGlmICgkKGUpKSB7XG4gICAgY29uc3QgYSA9IGUuZmlsdGVyKChzKSA9PiBzLndpdGhQbGFjZWhvbGRlcikubWFwKChzKSA9PiBzLnNvdXJjZSk7XG4gICAgbi5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBjb25zdCBjID0gcy5nZXRUcmFja1B1YmxpY2F0aW9ucygpLm1hcCgodSkgPT4ge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgcmV0dXJuIChpID0gdS50cmFjaykgPT0gbnVsbCA/IHZvaWQgMCA6IGkuc291cmNlO1xuICAgICAgfSkuZmlsdGVyKCh1KSA9PiB1ICE9PSB2b2lkIDApLCBvID0gQXJyYXkuZnJvbShcbiAgICAgICAgZXQobmV3IFNldChhKSwgbmV3IFNldChjKSlcbiAgICAgICk7XG4gICAgICBvLmxlbmd0aCA+IDAgJiYgdC5zZXQocy5pZGVudGl0eSwgbyk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBudChlKSB7XG4gIGNvbnN0IFtuLCB0XSA9IHIudXNlU3RhdGUod2UoZSkpLCB7IHRyYWNrT2JzZXJ2ZXI6IGEgfSA9IHIudXNlTWVtbygoKSA9PiBBZShlKSwgW2UucGFydGljaXBhbnQuc2lkID8/IGUucGFydGljaXBhbnQuaWRlbnRpdHksIGUuc291cmNlXSk7XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgcyA9IGEuc3Vic2NyaWJlKChjKSA9PiB7XG4gICAgICB0KGMpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiBzID09IG51bGwgPyB2b2lkIDAgOiBzLnVuc3Vic2NyaWJlKCk7XG4gIH0sIFthXSksIHtcbiAgICBwYXJ0aWNpcGFudDogZS5wYXJ0aWNpcGFudCxcbiAgICBzb3VyY2U6IGUuc291cmNlID8/IHkuU291cmNlLlVua25vd24sXG4gICAgcHVibGljYXRpb246IG5cbiAgfTtcbn1cbmZ1bmN0aW9uIFF0KGUsIG4pIHtcbiAgY29uc3QgdCA9IHcobik7XG4gIHJldHVybiBudCh7IG5hbWU6IGUsIHBhcnRpY2lwYW50OiB0IH0pO1xufVxuZnVuY3Rpb24gJHQoZSkge1xuICBjb25zdCBuID0gQSgpLCB0ID0gSShuKSwgYSA9IHIudXNlTWVtbyhcbiAgICAoKSA9PiB0ID09PSBPLkRpc2Nvbm5lY3RlZCxcbiAgICBbdF1cbiAgKSwgcyA9IHIudXNlTWVtbyhcbiAgICAoKSA9PiBDZShuLCBlKSxcbiAgICBbbiwgZSwgYV1cbiAgKSwgYyA9IGIocy5pc1NlbmRpbmdPYnNlcnZhYmxlLCAhMSksIG8gPSBiKHMubWVzc2FnZU9ic2VydmFibGUsIFtdKTtcbiAgcmV0dXJuIHsgc2VuZDogcy5zZW5kLCB1cGRhdGU6IHMudXBkYXRlLCBjaGF0TWVzc2FnZXM6IG8sIGlzU2VuZGluZzogYyB9O1xufVxuZnVuY3Rpb24gR3QoZSA9IHt9KSB7XG4gIGNvbnN0IFtuLCB0XSA9IHIudXNlU3RhdGUoXG4gICAgT2UoZS5kZWZhdWx0cywgZS5wcmV2ZW50TG9hZCA/PyAhMSlcbiAgKSwgYSA9IHIudXNlQ2FsbGJhY2soKGkpID0+IHtcbiAgICB0KChsKSA9PiAoeyAuLi5sLCBhdWRpb0VuYWJsZWQ6IGkgfSkpO1xuICB9LCBbXSksIHMgPSByLnVzZUNhbGxiYWNrKChpKSA9PiB7XG4gICAgdCgobCkgPT4gKHsgLi4ubCwgdmlkZW9FbmFibGVkOiBpIH0pKTtcbiAgfSwgW10pLCBjID0gci51c2VDYWxsYmFjaygoaSkgPT4ge1xuICAgIHQoKGwpID0+ICh7IC4uLmwsIGF1ZGlvRGV2aWNlSWQ6IGkgfSkpO1xuICB9LCBbXSksIG8gPSByLnVzZUNhbGxiYWNrKChpKSA9PiB7XG4gICAgdCgobCkgPT4gKHsgLi4ubCwgdmlkZW9EZXZpY2VJZDogaSB9KSk7XG4gIH0sIFtdKSwgdSA9IHIudXNlQ2FsbGJhY2soKGkpID0+IHtcbiAgICB0KChsKSA9PiAoeyAuLi5sLCB1c2VybmFtZTogaSB9KSk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBJZShuLCBlLnByZXZlbnRTYXZlID8/ICExKTtcbiAgfSwgW24sIGUucHJldmVudFNhdmVdKSwge1xuICAgIHVzZXJDaG9pY2VzOiBuLFxuICAgIHNhdmVBdWRpb0lucHV0RW5hYmxlZDogYSxcbiAgICBzYXZlVmlkZW9JbnB1dEVuYWJsZWQ6IHMsXG4gICAgc2F2ZUF1ZGlvSW5wdXREZXZpY2VJZDogYyxcbiAgICBzYXZlVmlkZW9JbnB1dERldmljZUlkOiBvLFxuICAgIHNhdmVVc2VybmFtZTogdVxuICB9O1xufVxuZnVuY3Rpb24gSHQoZSwgbiA9IHt9KSB7XG4gIGNvbnN0IHQgPSB3KGUpLCBhID0gayhuLnJvb20pLCBzID0gci51c2VNZW1vKCgpID0+IERlKGEsIHQpLCBbYSwgdF0pO1xuICByZXR1cm4gYihcbiAgICBzLFxuICAgIHQgaW5zdGFuY2VvZiBfZSA/IHQuaXNFMkVFRW5hYmxlZCA6ICEhKHQgIT0gbnVsbCAmJiB0LmlzRW5jcnlwdGVkKVxuICApO1xufVxuZnVuY3Rpb24ganQoZSwgbiA9IHsgZmZ0U2l6ZTogMzIsIHNtb290aGluZ1RpbWVDb25zdGFudDogMCB9KSB7XG4gIGNvbnN0IHQgPSBMZShlKSA/IGUucHVibGljYXRpb24udHJhY2sgOiBlLCBbYSwgc10gPSByLnVzZVN0YXRlKDApO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdCB8fCAhdC5tZWRpYVN0cmVhbSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IGNsZWFudXA6IGMsIGFuYWx5c2VyOiBvIH0gPSBWKHQsIG4pLCB1ID0gby5mcmVxdWVuY3lCaW5Db3VudCwgaSA9IG5ldyBVaW50OEFycmF5KHUpLCBkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgby5nZXRCeXRlRnJlcXVlbmN5RGF0YShpKTtcbiAgICAgIGxldCBmID0gMDtcbiAgICAgIGZvciAobGV0IHAgPSAwOyBwIDwgaS5sZW5ndGg7IHArKykge1xuICAgICAgICBjb25zdCBtID0gaVtwXTtcbiAgICAgICAgZiArPSBtICogbTtcbiAgICAgIH1cbiAgICAgIHMoTWF0aC5zcXJ0KGYgLyBpLmxlbmd0aCkgLyAyNTUpO1xuICAgIH0sIDFlMyAvIDMwKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgYygpLCBjbGVhckludGVydmFsKGQpO1xuICAgIH07XG4gIH0sIFt0LCB0ID09IG51bGwgPyB2b2lkIDAgOiB0Lm1lZGlhU3RyZWFtLCBKU09OLnN0cmluZ2lmeShuKV0pLCBhO1xufVxuY29uc3Qgc3QgPSAoZSkgPT4ge1xuICBjb25zdCBuID0gKHQpID0+IHtcbiAgICBsZXQgYyA9IDEgLSBNYXRoLm1heCgtMTAwLCBNYXRoLm1pbigtMTAsIHQpKSAqIC0xIC8gMTAwO1xuICAgIHJldHVybiBjID0gTWF0aC5zcXJ0KGMpLCBjO1xuICB9O1xuICByZXR1cm4gZS5tYXAoKHQpID0+IHQgPT09IC0xIC8gMCA/IDAgOiBuKHQpKTtcbn0sIGF0ID0ge1xuICBiYW5kczogNSxcbiAgbG9QYXNzOiAxMDAsXG4gIGhpUGFzczogNjAwLFxuICB1cGRhdGVJbnRlcnZhbDogMzIsXG4gIGFuYWx5c2VyT3B0aW9uczogeyBmZnRTaXplOiAyMDQ4IH1cbn07XG5mdW5jdGlvbiBYdChlLCBuID0ge30pIHtcbiAgdmFyIG87XG4gIGNvbnN0IHQgPSBlIGluc3RhbmNlb2YgeSA/IGUgOiAobyA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUucHVibGljYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBvLnRyYWNrLCBhID0geyAuLi5hdCwgLi4ubiB9LCBbcywgY10gPSByLnVzZVN0YXRlKFxuICAgIG5ldyBBcnJheShhLmJhbmRzKS5maWxsKDApXG4gICk7XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF0IHx8ICEodCAhPSBudWxsICYmIHQubWVkaWFTdHJlYW0pKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgYW5hbHlzZXI6IHUsIGNsZWFudXA6IGkgfSA9IFYodCwgYS5hbmFseXNlck9wdGlvbnMpLCBsID0gdS5mcmVxdWVuY3lCaW5Db3VudCwgZCA9IG5ldyBGbG9hdDMyQXJyYXkobCksIHAgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB1LmdldEZsb2F0RnJlcXVlbmN5RGF0YShkKTtcbiAgICAgIGxldCBtID0gbmV3IEZsb2F0MzJBcnJheShkLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCB2ID0gMDsgdiA8IGQubGVuZ3RoOyB2KyspXG4gICAgICAgIG1bdl0gPSBkW3ZdO1xuICAgICAgbSA9IG0uc2xpY2Uobi5sb1Bhc3MsIG4uaGlQYXNzKTtcbiAgICAgIGNvbnN0IGcgPSBzdChtKSwgUyA9IE1hdGguY2VpbChnLmxlbmd0aCAvIGEuYmFuZHMpLCBNID0gW107XG4gICAgICBmb3IgKGxldCB2ID0gMDsgdiA8IGEuYmFuZHM7IHYrKykge1xuICAgICAgICBjb25zdCBQID0gZy5zbGljZSh2ICogUywgKHYgKyAxKSAqIFMpLnJlZHVjZSgoaCwgQykgPT4gaCArPSBDLCAwKTtcbiAgICAgICAgTS5wdXNoKFAgLyBTKTtcbiAgICAgIH1cbiAgICAgIGMoTSk7XG4gICAgfSwgYS51cGRhdGVJbnRlcnZhbCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGkoKSwgY2xlYXJJbnRlcnZhbChwKTtcbiAgICB9O1xuICB9LCBbdCwgdCA9PSBudWxsID8gdm9pZCAwIDogdC5tZWRpYVN0cmVhbSwgSlNPTi5zdHJpbmdpZnkobildKSwgcztcbn1cbmNvbnN0IHJ0ID0ge1xuICBiYXJDb3VudDogMTIwLFxuICB2b2xNdWx0aXBsaWVyOiA1LFxuICB1cGRhdGVJbnRlcnZhbDogMjBcbn07XG5mdW5jdGlvbiB4dChlLCBuID0ge30pIHtcbiAgdmFyIGQ7XG4gIGNvbnN0IHQgPSBlIGluc3RhbmNlb2YgeSA/IGUgOiAoZCA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUucHVibGljYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBkLnRyYWNrLCBhID0geyAuLi5ydCwgLi4ubiB9LCBzID0gci51c2VSZWYobmV3IEZsb2F0MzJBcnJheSgpKSwgYyA9IHIudXNlUmVmKHBlcmZvcm1hbmNlLm5vdygpKSwgbyA9IHIudXNlUmVmKDApLCBbdSwgaV0gPSByLnVzZVN0YXRlKFtdKSwgbCA9IHIudXNlQ2FsbGJhY2soKGYpID0+IHtcbiAgICBpKFxuICAgICAgQXJyYXkuZnJvbShcbiAgICAgICAgb3QoZiwgYS5iYXJDb3VudCkubWFwKChwKSA9PiBNYXRoLnNxcnQocCkgKiBhLnZvbE11bHRpcGxpZXIpXG4gICAgICAgIC8vIHdhdmUuc2xpY2UoMCwgb3B0cy5iYXJDb3VudCkubWFwKCh2KSA9PiBzaWdtb2lkKHYgKiBvcHRzLnZvbE11bHRpcGxpZXIsIDAuMDgsIDAuMikpLFxuICAgICAgKVxuICAgICk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXQgfHwgISh0ICE9IG51bGwgJiYgdC5tZWRpYVN0cmVhbSkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgeyBhbmFseXNlcjogZiwgY2xlYW51cDogcCB9ID0gVih0LCB7XG4gICAgICBmZnRTaXplOiBVKGEuYmFyQ291bnQpXG4gICAgfSksIG0gPSBVKGEuYmFyQ291bnQpLCBnID0gbmV3IEZsb2F0MzJBcnJheShtKSwgUyA9ICgpID0+IHtcbiAgICAgIGlmIChNID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKFMpLCBmLmdldEZsb2F0VGltZURvbWFpbkRhdGEoZyksIHMuY3VycmVudC5tYXAoKHYsIFApID0+IHYgKyBnW1BdKSwgby5jdXJyZW50ICs9IDEsIHBlcmZvcm1hbmNlLm5vdygpIC0gYy5jdXJyZW50ID49IGEudXBkYXRlSW50ZXJ2YWwpIHtcbiAgICAgICAgY29uc3QgdiA9IGcubWFwKChQKSA9PiBQIC8gby5jdXJyZW50KTtcbiAgICAgICAgbCh2KSwgYy5jdXJyZW50ID0gcGVyZm9ybWFuY2Uubm93KCksIG8uY3VycmVudCA9IDA7XG4gICAgICB9XG4gICAgfTtcbiAgICBsZXQgTSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShTKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcCgpLCBjYW5jZWxBbmltYXRpb25GcmFtZShNKTtcbiAgICB9O1xuICB9LCBbdCwgdCA9PSBudWxsID8gdm9pZCAwIDogdC5tZWRpYVN0cmVhbSwgSlNPTi5zdHJpbmdpZnkobiksIGxdKSwge1xuICAgIGJhcnM6IHVcbiAgfTtcbn1cbmZ1bmN0aW9uIFUoZSkge1xuICByZXR1cm4gZSA8IDMyID8gMzIgOiBjdChlKTtcbn1cbmZ1bmN0aW9uIGN0KGUpIHtcbiAgbGV0IG4gPSAyO1xuICBmb3IgKDsgZSA+Pj0gMTsgKVxuICAgIG4gPDw9IDE7XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gb3QoZSwgbikge1xuICBjb25zdCB0ID0gTWF0aC5mbG9vcihlLmxlbmd0aCAvIG4pLCBhID0gbmV3IEZsb2F0MzJBcnJheShuKTtcbiAgZm9yIChsZXQgcyA9IDA7IHMgPCBuOyBzKyspIHtcbiAgICBjb25zdCBjID0gdCAqIHM7XG4gICAgbGV0IG8gPSAwO1xuICAgIGZvciAobGV0IHUgPSAwOyB1IDwgdDsgdSsrKVxuICAgICAgbyA9IG8gKyBNYXRoLmFicyhlW2MgKyB1XSk7XG4gICAgYVtzXSA9IG8gLyB0O1xuICB9XG4gIHJldHVybiBhO1xufVxuZnVuY3Rpb24gaXQoZSwgbikge1xuICBjb25zdCB0ID0gQSgpLCBhID0gTigpLCBzID0gbiA/IHQuZ2V0UGFydGljaXBhbnRCeUlkZW50aXR5KG4pIDogYSwgYyA9IHIudXNlTWVtbyhcbiAgICAoKSA9PiBzID8gUmUocywgeyBzb3VyY2VzOiBlIH0pIDogdm9pZCAwLFxuICAgIFtzID09IG51bGwgPyB2b2lkIDAgOiBzLnNpZCwgcyA9PSBudWxsID8gdm9pZCAwIDogcy5pZGVudGl0eSwgSlNPTi5zdHJpbmdpZnkoZSldXG4gICk7XG4gIHJldHVybiBiKGMsIFtdKTtcbn1cbmZ1bmN0aW9uIHV0KGUpIHtcbiAgdmFyIHQsIGEsIHM7XG4gIGNvbnN0IG4gPSByLnVzZU1lbW8oXG4gICAgKCkgPT4ge1xuICAgICAgdmFyIGM7XG4gICAgICByZXR1cm4gKGMgPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnB1YmxpY2F0aW9uKSAhPSBudWxsICYmIGMudHJhY2sgPyBGZShlID09IG51bGwgPyB2b2lkIDAgOiBlLnB1YmxpY2F0aW9uLnRyYWNrKSA6IHZvaWQgMDtcbiAgICB9LFxuICAgIFsodCA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUucHVibGljYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiB0LnRyYWNrXVxuICApO1xuICByZXR1cm4gYihuLCB7XG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIHJ0cFRpbWVzdGFtcDogKHMgPSAoYSA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUucHVibGljYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBhLnRyYWNrKSA9PSBudWxsID8gdm9pZCAwIDogcy5ydHBUaW1lc3RhbXBcbiAgfSk7XG59XG5jb25zdCBsdCA9IHtcbiAgYnVmZmVyU2l6ZTogMTAwXG4gIC8vIG1heEFnZTogMl8wMDAsXG59O1xuZnVuY3Rpb24gZHQoZSwgbikge1xuICBjb25zdCB0ID0geyAuLi5sdCwgLi4ubiB9LCBbYSwgc10gPSByLnVzZVN0YXRlKFtdKSwgYyA9IHV0KGUpLCBvID0gKHUpID0+IHtcbiAgICB2YXIgaTtcbiAgICAoaSA9IHQub25UcmFuc2NyaXB0aW9uKSA9PSBudWxsIHx8IGkuY2FsbCh0LCB1KSwgcyhcbiAgICAgIChsKSA9PiBWZShcbiAgICAgICAgbCxcbiAgICAgICAgLy8gd2hlbiBmaXJzdCByZWNlaXZpbmcgYSBzZWdtZW50LCBhZGQgdGhlIGN1cnJlbnQgbWVkaWEgdGltZXN0YW1wIHRvIGl0XG4gICAgICAgIHUubWFwKChkKSA9PiBCZShkLCBjKSksXG4gICAgICAgIHQuYnVmZmVyU2l6ZVxuICAgICAgKVxuICAgICk7XG4gIH07XG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCEoZSAhPSBudWxsICYmIGUucHVibGljYXRpb24pKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHUgPSBOZShlLnB1YmxpY2F0aW9uKS5zdWJzY3JpYmUoKGkpID0+IHtcbiAgICAgIG8oLi4uaSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHUudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbZSAmJiBGKGUpLCBvXSksIHsgc2VnbWVudHM6IGEgfTtcbn1cbmZ1bmN0aW9uIGZ0KGUgPSB7fSkge1xuICBjb25zdCBuID0gTigpLCB0ID0gZS5wYXJ0aWNpcGFudCA/PyBuLCBhID0gci51c2VNZW1vKFxuICAgIC8vIHdlaXJkIHR5cGVzY3JpcHQgY29uc3RyYWludFxuICAgICgpID0+IHQgPyBMKHQpIDogTCh0KSxcbiAgICBbdF1cbiAgKTtcbiAgcmV0dXJuIGIoYSwge1xuICAgIGF0dHJpYnV0ZXM6IHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQuYXR0cmlidXRlc1xuICB9KTtcbn1cbmZ1bmN0aW9uIFl0KGUsIG4gPSB7fSkge1xuICBjb25zdCB0ID0gdyhuLnBhcnRpY2lwYW50KSwgW2EsIHNdID0gci51c2VTdGF0ZSh0LmF0dHJpYnV0ZXNbZV0pO1xuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBjID0gTCh0KS5zdWJzY3JpYmUoKG8pID0+IHtcbiAgICAgIG8uY2hhbmdlZFtlXSAhPT0gdm9pZCAwICYmIHMoby5hdHRyaWJ1dGVzW2VdKTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgYy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFt0LCBlXSksIGE7XG59XG5jb25zdCBxID0gXCJsay5hZ2VudC5zdGF0ZVwiO1xuZnVuY3Rpb24gS3QoKSB7XG4gIGNvbnN0IGUgPSBHKCkuZmluZCgobykgPT4gby5raW5kID09PSBXZS5BR0VOVCksIG4gPSBpdChbeS5Tb3VyY2UuTWljcm9waG9uZV0sIGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUuaWRlbnRpdHkpWzBdLCB7IHNlZ21lbnRzOiB0IH0gPSBkdChuKSwgYSA9IEkoKSwgeyBhdHRyaWJ1dGVzOiBzIH0gPSBmdCh7IHBhcnRpY2lwYW50OiBlIH0pLCBjID0gci51c2VNZW1vKCgpID0+IGEgPT09IE8uRGlzY29ubmVjdGVkID8gXCJkaXNjb25uZWN0ZWRcIiA6IGEgPT09IE8uQ29ubmVjdGluZyB8fCAhZSB8fCAhKHMgIT0gbnVsbCAmJiBzW3FdKSA/IFwiY29ubmVjdGluZ1wiIDogc1txXSwgW3MsIGUsIGFdKTtcbiAgcmV0dXJuIHtcbiAgICBhZ2VudDogZSxcbiAgICBzdGF0ZTogYyxcbiAgICBhdWRpb1RyYWNrOiBuLFxuICAgIGFnZW50VHJhbnNjcmlwdGlvbnM6IHQsXG4gICAgYWdlbnRBdHRyaWJ1dGVzOiBzXG4gIH07XG59XG5mdW5jdGlvbiBadChlKSB7XG4gIGNvbnN0IG4gPSBrKGUpLCB0ID0gSShuKSwgYSA9IHIudXNlTWVtbygoKSA9PiB6ZShuKSwgW24sIHRdKTtcbiAgcmV0dXJuIGIoYSwgbi5pc1JlY29yZGluZyk7XG59XG5leHBvcnQge1xuICBFdCBhcyBBLFxuICBMdCBhcyBCLFxuICBZZSBhcyBDLFxuICBTdCBhcyBELFxuICBNdCBhcyBFLFxuICBYZSBhcyBGLFxuICB6IGFzIEcsXG4gIHhlIGFzIEgsXG4gIEN0IGFzIEksXG4gIE90IGFzIEosXG4gIER0IGFzIEssXG4gIFJ0IGFzIEwsXG4gIEcgYXMgTSxcbiAgTnQgYXMgTixcbiAgWmUgYXMgTyxcbiAgcXQgYXMgUCxcbiAgUXQgYXMgUSxcbiAganQgYXMgUixcbiAgeHQgYXMgUyxcbiAgaXQgYXMgVCxcbiAgZHQgYXMgVSxcbiAgS3QgYXMgVixcbiAgZnQgYXMgVyxcbiAgWXQgYXMgWCxcbiAgWnQgYXMgWSxcbiAgSSBhcyBhLFxuICBVdCBhcyBiLFxuICB5dCBhcyBjLFxuICBQdCBhcyBkLFxuICBUdCBhcyBlLFxuICBWdCBhcyBmLFxuICBCdCBhcyBnLFxuICBfdCBhcyBoLFxuICBodCBhcyBpLFxuICBiIGFzIGosXG4gIEp0IGFzIGssXG4gIEl0IGFzIGwsXG4gIEh0IGFzIG0sXG4gIGt0IGFzIG4sXG4gIEF0IGFzIG8sXG4gIHp0IGFzIHAsXG4gIGplIGFzIHEsXG4gIEtlIGFzIHIsXG4gIFh0IGFzIHMsXG4gIFd0IGFzIHQsXG4gIHZ0IGFzIHUsXG4gIEZ0IGFzIHYsXG4gICR0IGFzIHcsXG4gIHd0IGFzIHgsXG4gIEd0IGFzIHksXG4gIGd0IGFzIHpcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ob29rcy1CWjlLaE1jVi5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/hooks-BZ9KhMcV.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/krisp.mjs":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/krisp.mjs ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useKrispNoiseFilter: () => (/* binding */ b)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.7_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/.pnpm/livekit-client@2.6.0/node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n/* harmony import */ var _hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hooks-BZ9KhMcV.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/hooks-BZ9KhMcV.mjs\");\n\n\n\nfunction b(n = {}) {\n  const [o, f] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), [u, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1), [p, l] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);\n  let e = (0,_hooks_BZ9KhMcV_mjs__WEBPACK_IMPORTED_MODULE_2__.C)().microphoneTrack;\n  const [t, d] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n  n.trackRef && (e = n.trackRef.publication);\n  const k = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(async (r) => {\n    if (r) {\n      const { KrispNoiseFilter: s, isKrispNoiseFilterSupported: c } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0\").then(__webpack_require__.bind(__webpack_require__, /*! @livekit/krisp-noise-filter */ \"(ssr)/./node_modules/.pnpm/@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0/node_modules/@livekit/krisp-noise-filter/dist/index.js\"));\n      if (!c()) {\n        console.warn(\"Krisp noise filter is not supported in this browser\");\n        return;\n      }\n      t || d(s(n.filterOptions));\n    }\n    f((s) => (s !== r && a(!0), r));\n  }, []);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    var r;\n    if (e && e.track instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.LocalAudioTrack && t) {\n      const s = e.track.getProcessor();\n      s && s.name === \"livekit-noise-filter\" ? (a(!0), s.setEnabled(o).finally(() => {\n        a(!1), l(o);\n      })) : !s && o && (a(!0), (r = e == null ? void 0 : e.track) == null || r.setProcessor(t).then(() => t.setEnabled(o)).then(() => {\n        l(!0);\n      }).catch((c) => {\n        l(!1), console.error(c);\n      }).finally(() => {\n        a(!1);\n      }));\n    }\n  }, [o, e, t]), {\n    setNoiseFilterEnabled: k,\n    isNoiseFilterEnabled: p,\n    isNoiseFilterPending: u,\n    processor: t\n  };\n}\n\n//# sourceMappingURL=krisp.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyLjYuN19AbGl2ZWtpdCtrcmlzcC1ub2lzZS1maWx0ZXJAMC4yLjEyX2xpdmVraXQtY2xpZW50QDIuNi4wX19saXZlX2txY2NoZXd2NWVnZXJoc29uMmFwc2xuN3NpL25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3Qva3Jpc3AubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkI7QUFDMkI7QUFDUjtBQUM5QyxpQkFBaUI7QUFDakIsaUJBQWlCLDJDQUFVLGVBQWUsMkNBQVUsZUFBZSwyQ0FBVTtBQUM3RSxVQUFVLHNEQUFDO0FBQ1gsaUJBQWlCLDJDQUFVO0FBQzNCO0FBQ0EsWUFBWSw4Q0FBYTtBQUN6QjtBQUNBLGNBQWMsc0RBQXNELFFBQVEsa1ZBQXFDO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFNBQVMsNENBQVc7QUFDcEI7QUFDQSxnQ0FBZ0MsMkRBQUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGF5Z3JvdW5kLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaXZla2l0K2NvbXBvbmVudHMtcmVhY3RAMi42LjdfQGxpdmVraXQra3Jpc3Atbm9pc2UtZmlsdGVyQDAuMi4xMl9saXZla2l0LWNsaWVudEAyLjYuMF9fbGl2ZV9rcWNjaGV3djVlZ2VyaHNvbjJhcHNsbjdzaS9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9kaXN0L2tyaXNwLm1qcz9hZWVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGkgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBMb2NhbEF1ZGlvVHJhY2sgYXMgbSB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xuaW1wb3J0IHsgQyBhcyBFIH0gZnJvbSBcIi4vaG9va3MtQlo5S2hNY1YubWpzXCI7XG5mdW5jdGlvbiBiKG4gPSB7fSkge1xuICBjb25zdCBbbywgZl0gPSBpLnVzZVN0YXRlKCExKSwgW3UsIGFdID0gaS51c2VTdGF0ZSghMSksIFtwLCBsXSA9IGkudXNlU3RhdGUoITEpO1xuICBsZXQgZSA9IEUoKS5taWNyb3Bob25lVHJhY2s7XG4gIGNvbnN0IFt0LCBkXSA9IGkudXNlU3RhdGUoKTtcbiAgbi50cmFja1JlZiAmJiAoZSA9IG4udHJhY2tSZWYucHVibGljYXRpb24pO1xuICBjb25zdCBrID0gaS51c2VDYWxsYmFjayhhc3luYyAocikgPT4ge1xuICAgIGlmIChyKSB7XG4gICAgICBjb25zdCB7IEtyaXNwTm9pc2VGaWx0ZXI6IHMsIGlzS3Jpc3BOb2lzZUZpbHRlclN1cHBvcnRlZDogYyB9ID0gYXdhaXQgaW1wb3J0KFwiQGxpdmVraXQva3Jpc3Atbm9pc2UtZmlsdGVyXCIpO1xuICAgICAgaWYgKCFjKCkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiS3Jpc3Agbm9pc2UgZmlsdGVyIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0IHx8IGQocyhuLmZpbHRlck9wdGlvbnMpKTtcbiAgICB9XG4gICAgZigocykgPT4gKHMgIT09IHIgJiYgYSghMCksIHIpKTtcbiAgfSwgW10pO1xuICByZXR1cm4gaS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHZhciByO1xuICAgIGlmIChlICYmIGUudHJhY2sgaW5zdGFuY2VvZiBtICYmIHQpIHtcbiAgICAgIGNvbnN0IHMgPSBlLnRyYWNrLmdldFByb2Nlc3NvcigpO1xuICAgICAgcyAmJiBzLm5hbWUgPT09IFwibGl2ZWtpdC1ub2lzZS1maWx0ZXJcIiA/IChhKCEwKSwgcy5zZXRFbmFibGVkKG8pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBhKCExKSwgbChvKTtcbiAgICAgIH0pKSA6ICFzICYmIG8gJiYgKGEoITApLCAociA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUudHJhY2spID09IG51bGwgfHwgci5zZXRQcm9jZXNzb3IodCkudGhlbigoKSA9PiB0LnNldEVuYWJsZWQobykpLnRoZW4oKCkgPT4ge1xuICAgICAgICBsKCEwKTtcbiAgICAgIH0pLmNhdGNoKChjKSA9PiB7XG4gICAgICAgIGwoITEpLCBjb25zb2xlLmVycm9yKGMpO1xuICAgICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGEoITEpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSwgW28sIGUsIHRdKSwge1xuICAgIHNldE5vaXNlRmlsdGVyRW5hYmxlZDogayxcbiAgICBpc05vaXNlRmlsdGVyRW5hYmxlZDogcCxcbiAgICBpc05vaXNlRmlsdGVyUGVuZGluZzogdSxcbiAgICBwcm9jZXNzb3I6IHRcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIGIgYXMgdXNlS3Jpc3BOb2lzZUZpbHRlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtyaXNwLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/krisp.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/room-9If4zpLS.mjs":
/*!*******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/room-9If4zpLS.mjs ***!
  \*******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   L: () => (/* binding */ z),\n/* harmony export */   c: () => (/* binding */ j),\n/* harmony export */   m: () => (/* binding */ U),\n/* harmony export */   u: () => (/* binding */ T)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@14.2.7_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contexts-568EHGLp.mjs */ \"(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/contexts-568EHGLp.mjs\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/.pnpm/livekit-client@2.6.0/node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n\n\n\nfunction L(n) {\n  var e, o, t = \"\";\n  if (typeof n == \"string\" || typeof n == \"number\") t += n;\n  else if (typeof n == \"object\") if (Array.isArray(n)) {\n    var r = n.length;\n    for (e = 0; e < r; e++) n[e] && (o = L(n[e])) && (t && (t += \" \"), t += o);\n  } else for (o in n) n[o] && (t && (t += \" \"), t += o);\n  return t;\n}\nfunction j() {\n  for (var n, e, o = 0, t = \"\", r = arguments.length; o < r; o++) (n = arguments[o]) && (e = L(n)) && (t && (t += \" \"), t += e);\n  return t;\n}\nfunction O(...n) {\n  return (...e) => {\n    for (const o of n)\n      if (typeof o == \"function\")\n        try {\n          o(...e);\n        } catch (t) {\n          console.error(t);\n        }\n  };\n}\nfunction U(...n) {\n  const e = { ...n[0] };\n  for (let o = 1; o < n.length; o++) {\n    const t = n[o];\n    for (const r in t) {\n      const l = e[r], f = t[r];\n      typeof l == \"function\" && typeof f == \"function\" && // This is a lot faster than a regex.\n      r[0] === \"o\" && r[1] === \"n\" && r.charCodeAt(2) >= /* 'A' */\n      65 && r.charCodeAt(2) <= /* 'Z' */\n      90 ? e[r] = O(l, f) : (r === \"className\" || r === \"UNSAFE_className\") && typeof l == \"string\" && typeof f == \"string\" ? e[r] = j(l, f) : e[r] = f !== void 0 ? f : l;\n    }\n  }\n  return e;\n}\nconst J = {\n  connect: !0,\n  audio: !1,\n  video: !1\n};\nfunction T(n) {\n  const {\n    token: e,\n    serverUrl: o,\n    options: t,\n    room: r,\n    connectOptions: l,\n    connect: f,\n    audio: p,\n    video: g,\n    screen: v,\n    onConnected: E,\n    onDisconnected: R,\n    onError: c,\n    onMediaDeviceFailure: h,\n    onEncryptionError: y,\n    simulateParticipants: S,\n    ...P\n  } = { ...J, ...n };\n  t && r && _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(\n    \"when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.\"\n  );\n  const [i, D] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    D(r ?? new livekit_client__WEBPACK_IMPORTED_MODULE_1__.Room(t));\n  }, [r]);\n  const A = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const { className: s } = (0,_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.s)();\n    return U(P, { className: s });\n  }, [P]);\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!i) return;\n    const s = () => {\n      const m = i.localParticipant;\n      _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"trying to publish local tracks\"), Promise.all([\n        m.setMicrophoneEnabled(!!p, typeof p != \"boolean\" ? p : void 0),\n        m.setCameraEnabled(!!g, typeof g != \"boolean\" ? g : void 0),\n        m.setScreenShareEnabled(!!v, typeof v != \"boolean\" ? v : void 0)\n      ]).catch((C) => {\n        _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(C), c == null || c(C);\n      });\n    }, b = (m) => {\n      const C = livekit_client__WEBPACK_IMPORTED_MODULE_1__.MediaDeviceFailure.getFailure(m);\n      h == null || h(C);\n    }, k = (m) => {\n      y == null || y(m);\n    };\n    return i.on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.SignalConnected, s).on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.MediaDevicesError, b).on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.EncryptionError, k), () => {\n      i.off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.SignalConnected, s).off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.MediaDevicesError, b).off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.EncryptionError, k);\n    };\n  }, [i, p, g, v, c, y, h]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (i) {\n      if (S) {\n        i.simulateParticipants({\n          participants: {\n            count: S\n          },\n          publish: {\n            audio: !0,\n            useRealTracks: !0\n          }\n        });\n        return;\n      }\n      if (!e) {\n        _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"no token yet\");\n        return;\n      }\n      if (!o) {\n        _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(\"no livekit url provided\"), c == null || c(Error(\"no livekit url provided\"));\n        return;\n      }\n      f ? (_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"connecting\"), i.connect(o, e, l).catch((s) => {\n        _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(s), c == null || c(s);\n      })) : (_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"disconnecting because connect is false\"), i.disconnect());\n    }\n  }, [\n    f,\n    e,\n    JSON.stringify(l),\n    i,\n    c,\n    o,\n    S\n  ]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (!i) return;\n    const s = (b) => {\n      switch (b) {\n        case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected:\n          R && R();\n          break;\n        case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Connected:\n          E && E();\n          break;\n      }\n    };\n    return i.on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.ConnectionStateChanged, s), () => {\n      i.off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.ConnectionStateChanged, s);\n    };\n  }, [e, E, R, i]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (i)\n      return () => {\n        _contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.l.info(\"disconnecting on onmount\"), i.disconnect();\n      };\n  }, [i]), { room: i, htmlProps: A };\n}\nconst z = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function(e, o) {\n  const { room: t, htmlProps: r } = T(e);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: o, ...r }, t && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.R.Provider, { value: t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_568EHGLp_mjs__WEBPACK_IMPORTED_MODULE_2__.L.Provider, { value: e.featureFlags }, e.children)));\n});\n\n//# sourceMappingURL=room-9If4zpLS.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxpdmVraXQrY29tcG9uZW50cy1yZWFjdEAyLjYuN19AbGl2ZWtpdCtrcmlzcC1ub2lzZS1maWx0ZXJAMC4yLjEyX2xpdmVraXQtY2xpZW50QDIuNi4wX19saXZlX2txY2NoZXd2NWVnZXJoc29uMmFwc2xuN3NpL25vZGVfbW9kdWxlcy9AbGl2ZWtpdC9jb21wb25lbnRzLXJlYWN0L2Rpc3Qvcm9vbS05SWY0enBMUy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEyQjtBQUM4QztBQUNpQztBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxPQUFPO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCxrQkFBa0IsY0FBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSLFlBQVkscURBQUM7QUFDYjtBQUNBO0FBQ0EsaUJBQWlCLDJDQUFVO0FBQzNCLEVBQUUsNENBQVc7QUFDYixlQUFlLGdEQUFDO0FBQ2hCLEdBQUc7QUFDSCxZQUFZLDBDQUFTO0FBQ3JCLFlBQVksZUFBZSxFQUFFLHlEQUFDO0FBQzlCLGtCQUFrQixjQUFjO0FBQ2hDLEdBQUc7QUFDSCxTQUFTLDRDQUFXO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLE1BQU0scURBQUM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQUM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLGdCQUFnQiw4REFBQztBQUNqQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFDLHdCQUF3QixxREFBQywwQkFBMEIscURBQUM7QUFDckUsWUFBWSxxREFBQyx5QkFBeUIscURBQUMsMkJBQTJCLHFEQUFDO0FBQ25FO0FBQ0EsR0FBRywwQkFBMEIsNENBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFDO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBQztBQUNUO0FBQ0E7QUFDQSxXQUFXLHFEQUFDO0FBQ1osUUFBUSxxREFBQztBQUNULE9BQU8sTUFBTSxxREFBQztBQUNkO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw0Q0FBVztBQUNqQjtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJEQUFDO0FBQ2Q7QUFDQTtBQUNBLGFBQWEsMkRBQUM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBQztBQUNqQixZQUFZLHFEQUFDO0FBQ2I7QUFDQSxHQUFHLGlCQUFpQiw0Q0FBVztBQUMvQjtBQUNBO0FBQ0EsUUFBUSxxREFBQztBQUNUO0FBQ0EsR0FBRyxVQUFVO0FBQ2I7QUFDQSwwQkFBMEIsNkNBQVk7QUFDdEMsVUFBVSx3QkFBd0I7QUFDbEMseUJBQXlCLGdEQUFlLFVBQVUsY0FBYyx1QkFBdUIsZ0RBQWUsQ0FBQyxxREFBQyxhQUFhLFVBQVUsa0JBQWtCLGdEQUFlLENBQUMscURBQUMsYUFBYSx1QkFBdUI7QUFDdE0sQ0FBQztBQU1DO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGF5Z3JvdW5kLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BsaXZla2l0K2NvbXBvbmVudHMtcmVhY3RAMi42LjdfQGxpdmVraXQra3Jpc3Atbm9pc2UtZmlsdGVyQDAuMi4xMl9saXZla2l0LWNsaWVudEAyLjYuMF9fbGl2ZV9rcWNjaGV3djVlZ2VyaHNvbjJhcHNsbjdzaS9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9kaXN0L3Jvb20tOUlmNHpwTFMubWpzPzJmZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGwgYXMgdSwgcyBhcyBGLCBSIGFzIEssIEwgYXMgTSB9IGZyb20gXCIuL2NvbnRleHRzLTU2OEVIR0xwLm1qc1wiO1xuaW1wb3J0IHsgUm9vbSBhcyBOLCBSb29tRXZlbnQgYXMgZCwgTWVkaWFEZXZpY2VGYWlsdXJlIGFzIHgsIENvbm5lY3Rpb25TdGF0ZSBhcyB3IH0gZnJvbSBcImxpdmVraXQtY2xpZW50XCI7XG5mdW5jdGlvbiBMKG4pIHtcbiAgdmFyIGUsIG8sIHQgPSBcIlwiO1xuICBpZiAodHlwZW9mIG4gPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgbiA9PSBcIm51bWJlclwiKSB0ICs9IG47XG4gIGVsc2UgaWYgKHR5cGVvZiBuID09IFwib2JqZWN0XCIpIGlmIChBcnJheS5pc0FycmF5KG4pKSB7XG4gICAgdmFyIHIgPSBuLmxlbmd0aDtcbiAgICBmb3IgKGUgPSAwOyBlIDwgcjsgZSsrKSBuW2VdICYmIChvID0gTChuW2VdKSkgJiYgKHQgJiYgKHQgKz0gXCIgXCIpLCB0ICs9IG8pO1xuICB9IGVsc2UgZm9yIChvIGluIG4pIG5bb10gJiYgKHQgJiYgKHQgKz0gXCIgXCIpLCB0ICs9IG8pO1xuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIGooKSB7XG4gIGZvciAodmFyIG4sIGUsIG8gPSAwLCB0ID0gXCJcIiwgciA9IGFyZ3VtZW50cy5sZW5ndGg7IG8gPCByOyBvKyspIChuID0gYXJndW1lbnRzW29dKSAmJiAoZSA9IEwobikpICYmICh0ICYmICh0ICs9IFwiIFwiKSwgdCArPSBlKTtcbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBPKC4uLm4pIHtcbiAgcmV0dXJuICguLi5lKSA9PiB7XG4gICAgZm9yIChjb25zdCBvIG9mIG4pXG4gICAgICBpZiAodHlwZW9mIG8gPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIG8oLi4uZSk7XG4gICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKHQpO1xuICAgICAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBVKC4uLm4pIHtcbiAgY29uc3QgZSA9IHsgLi4ublswXSB9O1xuICBmb3IgKGxldCBvID0gMTsgbyA8IG4ubGVuZ3RoOyBvKyspIHtcbiAgICBjb25zdCB0ID0gbltvXTtcbiAgICBmb3IgKGNvbnN0IHIgaW4gdCkge1xuICAgICAgY29uc3QgbCA9IGVbcl0sIGYgPSB0W3JdO1xuICAgICAgdHlwZW9mIGwgPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBmID09IFwiZnVuY3Rpb25cIiAmJiAvLyBUaGlzIGlzIGEgbG90IGZhc3RlciB0aGFuIGEgcmVnZXguXG4gICAgICByWzBdID09PSBcIm9cIiAmJiByWzFdID09PSBcIm5cIiAmJiByLmNoYXJDb2RlQXQoMikgPj0gLyogJ0EnICovXG4gICAgICA2NSAmJiByLmNoYXJDb2RlQXQoMikgPD0gLyogJ1onICovXG4gICAgICA5MCA/IGVbcl0gPSBPKGwsIGYpIDogKHIgPT09IFwiY2xhc3NOYW1lXCIgfHwgciA9PT0gXCJVTlNBRkVfY2xhc3NOYW1lXCIpICYmIHR5cGVvZiBsID09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGYgPT0gXCJzdHJpbmdcIiA/IGVbcl0gPSBqKGwsIGYpIDogZVtyXSA9IGYgIT09IHZvaWQgMCA/IGYgOiBsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZTtcbn1cbmNvbnN0IEogPSB7XG4gIGNvbm5lY3Q6ICEwLFxuICBhdWRpbzogITEsXG4gIHZpZGVvOiAhMVxufTtcbmZ1bmN0aW9uIFQobikge1xuICBjb25zdCB7XG4gICAgdG9rZW46IGUsXG4gICAgc2VydmVyVXJsOiBvLFxuICAgIG9wdGlvbnM6IHQsXG4gICAgcm9vbTogcixcbiAgICBjb25uZWN0T3B0aW9uczogbCxcbiAgICBjb25uZWN0OiBmLFxuICAgIGF1ZGlvOiBwLFxuICAgIHZpZGVvOiBnLFxuICAgIHNjcmVlbjogdixcbiAgICBvbkNvbm5lY3RlZDogRSxcbiAgICBvbkRpc2Nvbm5lY3RlZDogUixcbiAgICBvbkVycm9yOiBjLFxuICAgIG9uTWVkaWFEZXZpY2VGYWlsdXJlOiBoLFxuICAgIG9uRW5jcnlwdGlvbkVycm9yOiB5LFxuICAgIHNpbXVsYXRlUGFydGljaXBhbnRzOiBTLFxuICAgIC4uLlBcbiAgfSA9IHsgLi4uSiwgLi4ubiB9O1xuICB0ICYmIHIgJiYgdS53YXJuKFxuICAgIFwid2hlbiB1c2luZyBhIG1hbnVhbGx5IGNyZWF0ZWQgcm9vbSwgdGhlIG9wdGlvbnMgb2JqZWN0IHdpbGwgYmUgaWdub3JlZC4gc2V0IHRoZSBkZXNpcmVkIG9wdGlvbnMgZGlyZWN0bHkgd2hlbiBjcmVhdGluZyB0aGUgcm9vbSBpbnN0ZWFkLlwiXG4gICk7XG4gIGNvbnN0IFtpLCBEXSA9IGEudXNlU3RhdGUoKTtcbiAgYS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIEQociA/PyBuZXcgTih0KSk7XG4gIH0sIFtyXSk7XG4gIGNvbnN0IEEgPSBhLnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHsgY2xhc3NOYW1lOiBzIH0gPSBGKCk7XG4gICAgcmV0dXJuIFUoUCwgeyBjbGFzc05hbWU6IHMgfSk7XG4gIH0sIFtQXSk7XG4gIHJldHVybiBhLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpKSByZXR1cm47XG4gICAgY29uc3QgcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG0gPSBpLmxvY2FsUGFydGljaXBhbnQ7XG4gICAgICB1LmRlYnVnKFwidHJ5aW5nIHRvIHB1Ymxpc2ggbG9jYWwgdHJhY2tzXCIpLCBQcm9taXNlLmFsbChbXG4gICAgICAgIG0uc2V0TWljcm9waG9uZUVuYWJsZWQoISFwLCB0eXBlb2YgcCAhPSBcImJvb2xlYW5cIiA/IHAgOiB2b2lkIDApLFxuICAgICAgICBtLnNldENhbWVyYUVuYWJsZWQoISFnLCB0eXBlb2YgZyAhPSBcImJvb2xlYW5cIiA/IGcgOiB2b2lkIDApLFxuICAgICAgICBtLnNldFNjcmVlblNoYXJlRW5hYmxlZCghIXYsIHR5cGVvZiB2ICE9IFwiYm9vbGVhblwiID8gdiA6IHZvaWQgMClcbiAgICAgIF0pLmNhdGNoKChDKSA9PiB7XG4gICAgICAgIHUud2FybihDKSwgYyA9PSBudWxsIHx8IGMoQyk7XG4gICAgICB9KTtcbiAgICB9LCBiID0gKG0pID0+IHtcbiAgICAgIGNvbnN0IEMgPSB4LmdldEZhaWx1cmUobSk7XG4gICAgICBoID09IG51bGwgfHwgaChDKTtcbiAgICB9LCBrID0gKG0pID0+IHtcbiAgICAgIHkgPT0gbnVsbCB8fCB5KG0pO1xuICAgIH07XG4gICAgcmV0dXJuIGkub24oZC5TaWduYWxDb25uZWN0ZWQsIHMpLm9uKGQuTWVkaWFEZXZpY2VzRXJyb3IsIGIpLm9uKGQuRW5jcnlwdGlvbkVycm9yLCBrKSwgKCkgPT4ge1xuICAgICAgaS5vZmYoZC5TaWduYWxDb25uZWN0ZWQsIHMpLm9mZihkLk1lZGlhRGV2aWNlc0Vycm9yLCBiKS5vZmYoZC5FbmNyeXB0aW9uRXJyb3IsIGspO1xuICAgIH07XG4gIH0sIFtpLCBwLCBnLCB2LCBjLCB5LCBoXSksIGEudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaSkge1xuICAgICAgaWYgKFMpIHtcbiAgICAgICAgaS5zaW11bGF0ZVBhcnRpY2lwYW50cyh7XG4gICAgICAgICAgcGFydGljaXBhbnRzOiB7XG4gICAgICAgICAgICBjb3VudDogU1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcHVibGlzaDoge1xuICAgICAgICAgICAgYXVkaW86ICEwLFxuICAgICAgICAgICAgdXNlUmVhbFRyYWNrczogITBcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWUpIHtcbiAgICAgICAgdS5kZWJ1ZyhcIm5vIHRva2VuIHlldFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFvKSB7XG4gICAgICAgIHUud2FybihcIm5vIGxpdmVraXQgdXJsIHByb3ZpZGVkXCIpLCBjID09IG51bGwgfHwgYyhFcnJvcihcIm5vIGxpdmVraXQgdXJsIHByb3ZpZGVkXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZiA/ICh1LmRlYnVnKFwiY29ubmVjdGluZ1wiKSwgaS5jb25uZWN0KG8sIGUsIGwpLmNhdGNoKChzKSA9PiB7XG4gICAgICAgIHUud2FybihzKSwgYyA9PSBudWxsIHx8IGMocyk7XG4gICAgICB9KSkgOiAodS5kZWJ1ZyhcImRpc2Nvbm5lY3RpbmcgYmVjYXVzZSBjb25uZWN0IGlzIGZhbHNlXCIpLCBpLmRpc2Nvbm5lY3QoKSk7XG4gICAgfVxuICB9LCBbXG4gICAgZixcbiAgICBlLFxuICAgIEpTT04uc3RyaW5naWZ5KGwpLFxuICAgIGksXG4gICAgYyxcbiAgICBvLFxuICAgIFNcbiAgXSksIGEudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWkpIHJldHVybjtcbiAgICBjb25zdCBzID0gKGIpID0+IHtcbiAgICAgIHN3aXRjaCAoYikge1xuICAgICAgICBjYXNlIHcuRGlzY29ubmVjdGVkOlxuICAgICAgICAgIFIgJiYgUigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHcuQ29ubmVjdGVkOlxuICAgICAgICAgIEUgJiYgRSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGkub24oZC5Db25uZWN0aW9uU3RhdGVDaGFuZ2VkLCBzKSwgKCkgPT4ge1xuICAgICAgaS5vZmYoZC5Db25uZWN0aW9uU3RhdGVDaGFuZ2VkLCBzKTtcbiAgICB9O1xuICB9LCBbZSwgRSwgUiwgaV0pLCBhLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGkpXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB1LmluZm8oXCJkaXNjb25uZWN0aW5nIG9uIG9ubW91bnRcIiksIGkuZGlzY29ubmVjdCgpO1xuICAgICAgfTtcbiAgfSwgW2ldKSwgeyByb29tOiBpLCBodG1sUHJvcHM6IEEgfTtcbn1cbmNvbnN0IHogPSAvKiBAX19QVVJFX18gKi8gYS5mb3J3YXJkUmVmKGZ1bmN0aW9uKGUsIG8pIHtcbiAgY29uc3QgeyByb29tOiB0LCBodG1sUHJvcHM6IHIgfSA9IFQoZSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gYS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBvLCAuLi5yIH0sIHQgJiYgLyogQF9fUFVSRV9fICovIGEuY3JlYXRlRWxlbWVudChLLlByb3ZpZGVyLCB7IHZhbHVlOiB0IH0sIC8qIEBfX1BVUkVfXyAqLyBhLmNyZWF0ZUVsZW1lbnQoTS5Qcm92aWRlciwgeyB2YWx1ZTogZS5mZWF0dXJlRmxhZ3MgfSwgZS5jaGlsZHJlbikpKTtcbn0pO1xuZXhwb3J0IHtcbiAgeiBhcyBMLFxuICBqIGFzIGMsXG4gIFUgYXMgbSxcbiAgVCBhcyB1XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm9vbS05SWY0enBMUy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@livekit+components-react@2.6.7_@livekit+krisp-noise-filter@0.2.12_livekit-client@2.6.0__live_kqcchewv5egerhson2apsln7si/node_modules/@livekit/components-react/dist/room-9If4zpLS.mjs\n");

/***/ })

};
;